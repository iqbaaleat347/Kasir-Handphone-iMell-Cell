!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,u){for(var a,c,s=0,f=[];s<i.length;s++)c=i[s],o[c]&&f.push.apply(f,o[c]),o[c]=0;for(a in u)e[a]=u[a];for(n&&n(i,u);f.length;)f.shift().call(null,t);if(u[0])return r[0]=0,t(0)};var r={},o={0:0};return t.e=function(e,n){if(0===o[e])return n.call(null,t);if(void 0!==o[e])o[e].push(n);else{o[e]=[n];var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+""+e+".bundle.js",r.appendChild(i)}},t.m=e,t.c=r,t.p="",t(0)}([/*!********************!*\
  !*** multi vendor ***!
  \********************/
function(e,t,n){n(/*! pouchdb */20),n(/*! pouchdb-find */13),n(/*! lodash */45),n(/*! mousetrap */47),n(/*! mousetrap-global-bind */46),n(/*! pikaday */8),e.exports=n(/*! alerty */4)},,,/*!*************************************!*\
  !*** ./~/pouchdb-find/lib/utils.js ***!
  \*************************************/
function(e,t,n){(function(e){"use strict";var r=n(/*! pouchdb-promise */17);t.once=function(e){var n=!1;return t.getArguments(function(t){if(n)throw console.trace(),new Error("once called  more than once");n=!0,e.apply(this,t)})},t.getArguments=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}},t.toPromise=function(n){return t.getArguments(function(o){var i,u=this,a="function"==typeof o[o.length-1]&&o.pop();a&&(i=function(t,n){e.nextTick(function(){a(t,n)})});var c=new r(function(e,r){try{var i=t.once(function(t,n){t?r(t):e(n)});o.push(i),n.apply(u,o)}catch(a){r(a)}});return i&&c.then(function(e){i(null,e)},i),c.cancel=function(){return this},c})},t.inherits=n(/*! inherits */15),t.Promise=r,t.clone=function(e){return t.extend(!0,{},e)},t.extend=n(/*! pouchdb-extend */16),t.callbackify=function(e){return t.getArguments(function(n){var r=n.pop(),o=e.apply(this,n);return t.promisedCallback(o,r),o})},t.promisedCallback=function(t,n){return t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t};var o=n(/*! crypto */83),i=n(/*! spark-md5 */19);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")},t.flatten=t.getArguments(function(e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];Array.isArray(i)?n=n.concat(t.flatten.apply(null,i)):n.push(i)}return n}),t.mergeObjects=function(e){for(var n={},r=0,o=e.length;r<o;r++)n=t.extend(!0,n,e[r]);return n},t.getFieldFromDoc=function(e,t){for(var n=e,r=0,o=t.length;r<o;r++){var i=t[r];if(n=n[i],!n)break}return n},t.setFieldInDoc=function(e,t,n){for(var r=0,o=t.length;r<o-1;r++){var i=t[r];e=e[i]={}}e[t[o-1]]=n},t.parseField=function(e){for(var t=[],n="",r=0,o=e.length;r<o;r++){var i=e[r];"."===i?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=i}return t.push(n),t},t.pick=function(e,n){for(var r={},o=0,i=n.length;o<i;o++){var u=t.parseField(n[o]),a=t.getFieldFromDoc(e,u);"undefined"!=typeof a&&t.setFieldInDoc(r,u,a)}return r},t.oneArrayIsSubArrayOfOther=function(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0},t.oneArrayIsStrictSubArrayOfOther=function(e,n){return!(e.length>n.length)&&t.oneArrayIsSubArrayOfOther(e,n)},t.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!e.length)break;var i=e.indexOf(o);if(i===-1)return!1;e.splice(i,1)}return!0},t.compare=function(e,t){return e<t?-1:e>t?1:0},t.arrayToObject=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t},t.max=function(e,t){for(var n=null,r=-1,o=0,i=e.length;o<i;o++){var u=e[o],a=t(u);a>r&&(r=a,n=u)}return n},t.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.uniq=function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},t.log=n(/*! debug */59)("pouchdb:find")}).call(t,n(/*! (webpack)/~/node-libs-browser/~/process/browser.js */6))},/*!****************************!*\
  !*** ./~/alerty/alerty.js ***!
  \****************************/
function(e,t,n){var r;(function(e){!function(){"use strict";var o={addClass:function(e,t){var n=e.className,r=""!==n?" ":"",o=n+r+t;e.className=o},removeClass:function(e,t){var n=" "+e.className+" ";n=n.replace(/(\s+)/gi," ");var r=n.replace(" "+t+" "," ");r=r.replace(/(^\s+)|(\s+$)/g,""),e.className=r},hasClass:function(e,t){var n=e.className,r=n.split(/\s+/),o=0;for(o in r)if(r[o]==t)return!0;return!1},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):delete e["on"+t]},removeElement:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},setUid:function(e){do e+=Math.floor(1e6*Math.random());while(document.getElementById(e));return e}},i=function(){var e={defaults:{okLabel:"确定",cancelLabel:"取消",time:2e3},previousCallback:null,template:'<div class="alerty-overlay" tabindex="-1"></div><div class="alerty"><div class="alerty-title"></div><div class="alerty-content"><p class="alerty-message"></p><div class="alerty-prompt"><input type="text" placeholder="" value=""><div class="input-line"></div></div></div><div class="alerty-action"><a class="btn-cancel"></a><a class="btn-ok"></a></div></div>',setup:function(e,t,n,r,i){var u="function"==typeof n;u&&(i=r,r=n);var a=document.querySelector(".alerty");if(a){o.removeElement(a);var c=this.previousCallback;c&&c()}var s=document.createElement("div");for(s.innerHTML=this.template;s.firstChild;)document.body.appendChild(s.firstChild);var f=document.querySelector(".alerty"),l=document.querySelector(".alerty-overlay"),d=f.querySelector(".alerty-title"),h=f.querySelector(".alerty-message"),p=f.querySelector(".alerty-action"),v=f.querySelector(".btn-ok"),y=f.querySelector(".btn-cancel"),g=f.querySelector(".alerty-prompt"),_=g.querySelector("input");f.id=o.setUid("alerty"),l.id="overlay-"+f.id,o.addClass(l,"active"),o.addClass(f,"alerty-show"),h.innerHTML=t,n&&n.time&&(this.defaults.time=n.time),"prompt"!==e?o.removeElement(g):(_.focus(),n&&n.inputType&&_.setAttribute("type",n.inputType),n&&n.inputPlaceholder&&_.setAttribute("placeholder",n.inputPlaceholder),n&&n.inputValue&&_.setAttribute("value",n.inputValue)),"toasts"===e?(this.previousCallback=r,o.removeElement(d),o.removeElement(p),o.removeElement(l),o.addClass(f,"toasts"),n&&"top"===n.place&&o.addClass(f,"place-top"),n&&n.bgColor&&(f.style.backgroundColor=n.bgColor),n&&n.fontColor&&(h.style.color=n.fontColor)):(o.addClass(document.body,"no-scrolling"),n&&n.title?d.innerHTML=n.title:o.removeElement(d),n&&n.okLabel?v.innerHTML=n.okLabel:v.innerHTML=this.defaults.okLabel,f.style.marginTop=-f.offsetHeight/2+"px","confirm"===e||"prompt"===e?n&&n.cancelLabel?y.innerHTML=n.cancelLabel:y.innerHTML=this.defaults.cancelLabel:o.removeElement(y)),this.bindEvent(f,r,i)},bindEvent:function(e,t,n){var r=this,i=e.querySelector(".btn-ok"),u=e.querySelector(".btn-cancel");o.hasClass(e,"toasts")&&setTimeout(function(){null!==document.getElementById(e.id)&&r.close(e,t)},r.defaults.time),i&&o.addEvent(i,"click",function(){r.close(e,t)}),u&&o.addEvent(u,"click",function(){r.close(e,n)})},close:function(e,t){var n=e.querySelector("input"),r=document.getElementById("overlay-"+e.id);o.removeClass(e,"alerty-show"),o.addClass(e,"alerty-hide"),setTimeout(function(){r&&o.removeClass(r,"active"),o.removeClass(document.body,"no-scrolling"),o.removeElement(e),o.removeElement(r),t&&setTimeout(function(){n?t(n.value):t()},100)},100)}};return{toasts:function(t,n,r){e.setup("toasts",t,n,r)},alert:function(t,n,r){e.setup("alert",t,n,r)},confirm:function(t,n,r,o){e.setup("confirm",t,n,r,o)},prompt:function(t,n,r){e.setup("prompt",t,n,r)}}};if("undefined"!=typeof e&&e&&e.exports){e.exports=function(){return new i};var u=new i;for(var a in u)e.exports[a]=u[a]}else r=function(){return new i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}()}).call(t,n(/*! ./../webpack/buildin/module.js */21)(e))},/*!****************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/utils.js ***!
  \****************************************************/
function(e,t,n){"use strict";function r(e){return Object.keys(e)[0]}function o(e){return e[r(e)]}function i(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function u(e){return x.indexOf(e)>-1}function a(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):"undefined"!=typeof n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function c(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):"undefined"!=typeof n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function s(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function f(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function l(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),u(n))r instanceof Array?t[n]=r.map(function(e){return l([e])}):t[n]=l([r]);else{var o=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?a(e,t,o):"$lt"===e||"$lte"===e?c(e,t,o):"$ne"===e?s(t,o):"$eq"===e?f(t,o):void(o[e]=t)})}})}),t}function d(e){var t=w.clone(e),n=!1;"$and"in t&&(t=l(t.$and),n=!0),"$not"in t&&(t.$not=l([t.$not]));for(var r=Object.keys(t),o=0;o<r.length;o++){var i=r[o],u=t[i];"object"!=typeof u||null===u?u={$eq:u}:"$ne"in u&&!n&&(u.$ne=[u.$ne]),t[i]=u}return t}function h(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function p(e,t){for(var n=[],o=0;o<t.def.fields.length;o++){var i=r(t.def.fields[o]);n.push(e[i])}return n}function v(e,t,n){for(var r=n.def.fields,o=0,i=e.length;o<i;o++){var u=e[o],a=p(u.doc,n);if(1===r.length)a=a[0];else for(;a.length>t.length;)a.pop();if(Math.abs(k.collate(a,t))>0)break}return o>0?e.slice(o):e}function y(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function g(e){var t=e.fields.filter(function(e){return"asc"===o(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function _(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function m(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function b(e,t){var n,o=Object.keys(e),i=t?t.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(e,t){var n=i.indexOf(e);n===-1&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return r===-1&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:t.map(r)})}var w=n(/*! ../../utils */3),k=n(/*! pouchdb-collate */7),x=["$or","$nor","$not"];e.exports={getKey:r,getValue:o,massageSort:i,massageSelector:d,validateIndex:g,validateFindRequest:m,validateSort:_,reverseOptions:y,filterInclusiveStart:v,massageIndexDef:h,parseField:w.parseField,getUserFields:b,isCombinationalField:u}},/*!**********************************************************!*\
  !*** (webpack)/~/node-libs-browser/~/process/browser.js ***!
  \**********************************************************/
function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function u(){v&&h&&(v=!1,h.length?p=h.concat(p):y=-1,p.length&&a())}function a(){if(!v){var e=o(u);v=!0;for(var t=p.length;t;){for(h=p,p=[];++y<t;)h&&h[y].run();y=-1,t=p.length}h=null,v=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var f,l,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var h,p=[],v=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||v||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},/*!*******************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-collate/lib/index.js ***!
  \*******************************************************/
function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(e),r=n?e:Object.keys(e),o=-1,i=r.length,u="";if(n)for(;++o<i;)u+=t.toIndexableString(r[o]);else for(;++o<i;){var a=r[o];u+=t.toIndexableString(a)+t.toIndexableString(e[a])}return u}return""}function o(e,t){var n,r=t,o="1"===e[t];if(o)n=0,t++;else{var i="0"===e[t];t++;var u="",a=e.substring(t,t+d),c=parseInt(a,10)+l;for(i&&(c=-c),t+=d;;){var s=e[t];if("\0"===s)break;u+=s,t++}u=u.split("."),n=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),i&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var u=e.pop();o[u]=n}else e.push(n)}}function u(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++){var i=t.collate(e[o],n[o]);if(0!==i)return i}return e.length===n.length?0:e.length>n.length?1:-1}function a(e,t){return e===t?0:e>t?1:-1}function c(e,n){for(var r=Object.keys(e),o=Object.keys(n),i=Math.min(r.length,o.length),u=0;u<i;u++){var a=t.collate(r[u],o[u]);if(0!==a)return a;if(a=t.collate(e[r[u]],n[o[u]]),0!==a)return a}return r.length===o.length?0:r.length>o.length?1:-1}function s(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-l,u=p.padLeft(i.toString(),"0",d);o+=h+u;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=h+c}var l=-324,d=3,h="",p=n(/*! ./utils */63);t.collate=function(e,n){if(e===n)return 0;e=t.normalizeKey(e),n=t.normalizeKey(n);var r=s(e),o=s(n);if(r-o!==0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-n;case"boolean":return e===n?0:e<n?-1:1;case"string":return a(e,n)}return Array.isArray(e)?u(e,n):c(e,n)},t.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var n=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;o<r;o++)e[o]=t.normalizeKey(n[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in n)if(n.hasOwnProperty(i)){var u=n[i];"undefined"!=typeof u&&(e[i]=t.normalizeKey(u))}}}}return e},t.toIndexableString=function(e){var n="\0";return e=t.normalizeKey(e),s(e)+h+r(e)+n},t.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var u=e[r++];if("\0"!==u)switch(u){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var a=o(e,r);t.push(a.num),r+=a.length;break;case"4":for(var c="";;){var s=e[r];if("\0"===s)break;c+=s,r++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(c);break;case"5":var f={element:[],index:t.length};t.push(f.element),n.push(f);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+u)}else{if(1===t.length)return t.pop();i(t,n)}}}},/*!******************************!*\
  !*** ./~/pikaday/pikaday.js ***!
  \******************************/
function(e,t,n){var r,o,i;/*!
	 * Pikaday
	 *
	 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
	 */
!function(n,u){"use strict";o=[],r=u,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){"use strict";var e="function"==typeof moment,t=!!window.addEventListener,n=window.document,r=window.setTimeout,o=function(e,n,r,o){t?e.addEventListener(n,r,!!o):e.attachEvent("on"+n,r)},i=function(e,n,r,o){t?e.removeEventListener(n,r,!!o):e.detachEvent("on"+n,r)},u=function(e,t,r){var o;n.createEvent?(o=n.createEvent("HTMLEvents"),o.initEvent(t,!0,!1),o=_(o,r),e.dispatchEvent(o)):n.createEventObject&&(o=n.createEventObject(),o=_(o,r),e.fireEvent("on"+t,o))},a=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},c=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},s=function(e,t){c(e,t)||(e.className=""===e.className?t:e.className+" "+t)},f=function(e,t){e.className=a((" "+e.className+" ").replace(" "+t+" "," "))},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},d=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){var t=e.getDay();return 0===t||6===t},p=function(e){return e%4===0&&e%100!==0||e%400===0},v=function(e,t){return[31,p(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},y=function(e){d(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},_=function(e,t,n){var r,o;for(r in t)o=void 0!==e[r],o&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?d(t[r])?n&&(e[r]=new Date(t[r].getTime())):l(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=_({},t[r],n):!n&&o||(e[r]=t[r]);return e},m=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},w=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},k=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t=[];return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&t.push("is-selected"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},x=function(e,t,n){var r=new Date(n,0,1),o=Math.ceil(((new Date(n,t,e)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+o+"</td>"},E=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},j=function(e){return"<tbody>"+e.join("")+"</tbody>"},A=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+w(e,t)+'">'+w(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},S=function(e,t,n,r,o){var i,u,a,c,s,f=e._o,d=n===f.minYear,h=n===f.maxYear,p='<div class="pika-title">',v=!0,y=!0;for(a=[],i=0;i<12;i++)a.push('<option value="'+(n===o?i-t:12+i-t)+'"'+(i===r?" selected":"")+(d&&i<f.minMonth||h&&i>f.maxMonth?"disabled":"")+">"+f.i18n.months[i]+"</option>");for(c='<div class="pika-label">'+f.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",l(f.yearRange)?(i=f.yearRange[0],u=f.yearRange[1]+1):(i=n-f.yearRange,u=1+n+f.yearRange),a=[];i<u&&i<=f.maxYear;i++)i>=f.minYear&&a.push('<option value="'+i+'"'+(i===n?" selected":"")+">"+i+"</option>");return s='<div class="pika-label">'+n+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",p+=f.showMonthAfterYear?s+c:c+s,d&&(0===r||f.minMonth>=r)&&(v=!1),h&&(11===r||f.maxMonth<=r)&&(y=!1),0===t&&(p+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(y?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),p+="</div>"},O=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+A(e)+j(t)+"</table>"},q=function(i){var u=this,a=u.config(i);u._onMouseDown=function(e){if(u._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(c(t,"is-disabled")||(c(t,"pika-button")&&!c(t,"is-empty")?(u.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),a.bound&&r(function(){u.hide(),a.field&&a.field.blur()},100)):c(t,"pika-prev")?u.prevMonth():c(t,"pika-next")&&u.nextMonth()),c(t,"pika-select"))u._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},u._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(c(t,"pika-select-month")?u.gotoMonth(t.value):c(t,"pika-select-year")&&u.gotoYear(t.value))},u._onInputChange=function(t){var n;t.firedBy!==u&&(e?(n=moment(a.field.value,a.format),n=n&&n.isValid()?n.toDate():null):n=new Date(Date.parse(a.field.value)),d(n)&&u.setDate(n),u._v||u.show())},u._onInputFocus=function(){u.show()},u._onInputClick=function(){u.show()},u._onInputBlur=function(){var e=n.activeElement;do if(c(e,"pika-single"))return;while(e=e.parentNode);u._c||(u._b=r(function(){u.hide()},50)),u._c=!1},u._onClick=function(e){e=e||window.event;var n=e.target||e.srcElement,r=n;if(n){!t&&c(n,"pika-select")&&(n.onchange||(n.setAttribute("onchange","return;"),o(n,"change",u._onChange)));do if(c(r,"pika-single")||r===a.trigger)return;while(r=r.parentNode);u._v&&n!==a.trigger&&r!==a.trigger&&u.hide()}},u.el=n.createElement("div"),u.el.className="pika-single"+(a.isRTL?" is-rtl":"")+(a.theme?" "+a.theme:""),o(u.el,"mousedown",u._onMouseDown,!0),o(u.el,"touchend",u._onMouseDown,!0),o(u.el,"change",u._onChange),a.field&&(a.container?a.container.appendChild(u.el):a.bound?n.body.appendChild(u.el):a.field.parentNode.insertBefore(u.el,a.field.nextSibling),o(a.field,"change",u._onInputChange),a.defaultDate||(e&&a.field.value?a.defaultDate=moment(a.field.value,a.format).toDate():a.defaultDate=new Date(Date.parse(a.field.value)),a.setDefaultDate=!0));var s=a.defaultDate;d(s)?a.setDefaultDate?u.setDate(s,!0):u.gotoDate(s):u.gotoDate(new Date),a.bound?(this.hide(),u.el.className+=" is-bound",o(a.trigger,"click",u._onInputClick),o(a.trigger,"focus",u._onInputFocus),o(a.trigger,"blur",u._onInputBlur)):this.show()};return q.prototype={config:function(e){this._o||(this._o=_({},b,!0));var t=_(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,d(t.minDate)||(t.minDate=!1),d(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),l(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(t){return d(this._d)?e?moment(this._d).format(t||this._o.format):this._d.toDateString():""},getMoment:function(){return e?moment(this._d):null},setMoment:function(t,n){e&&moment.isMoment(t)&&this.setDate(t.toDate(),n)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",u(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),d(e)){var n=this._o.minDate,r=this._o.maxDate;d(n)&&e<n?e=n:d(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),y(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),u(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(d(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=o<n.getTime()||r.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=m(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=m({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){y(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth(),this.draw()},setMaxDate:function(e){y(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth(),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,o=t.maxYear,i=t.minMonth,u=t.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=o&&(this._y=o,!isNaN(u)&&this._m>u&&(this._m=u));for(var c=0;c<t.numberOfMonths;c++)a+='<div class="pika-lendar">'+S(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year)+this.render(this.calendars[c].year,this.calendars[c].month)+"</div>";if(this.el.innerHTML=a,t.bound&&"hidden"!==t.field.type&&r(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var s=this;r(function(){s._o.onDraw.call(s)},0)}}},adjustPosition:function(){var e,t,r,o,i,u,a,c,s,f;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,r=this.el.offsetWidth,o=this.el.offsetHeight,i=window.innerWidth||n.documentElement.clientWidth,u=window.innerHeight||n.documentElement.clientHeight,a=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)f=e.getBoundingClientRect(),c=f.left+window.pageXOffset,s=f.bottom+window.pageYOffset;else for(c=t.offsetLeft,s=t.offsetTop+t.offsetHeight;t=t.offsetParent;)c+=t.offsetLeft,s+=t.offsetTop;(this._o.reposition&&c+r>i||this._o.position.indexOf("right")>-1&&c-r+e.offsetWidth>0)&&(c=c-r+e.offsetWidth),(this._o.reposition&&s+o>u+a||this._o.position.indexOf("top")>-1&&s-o-e.offsetHeight>0)&&(s=s-o-e.offsetHeight),this.el.style.left=c+"px",this.el.style.top=s+"px"}},render:function(e,t){var n=this._o,r=new Date,o=v(e,t),i=new Date(e,t,1).getDay(),u=[],a=[];y(r),n.firstDay>0&&(i-=n.firstDay,i<0&&(i+=7));for(var c=o+i,s=c;s>7;)s-=7;c+=7-s;for(var f=0,l=0;f<c;f++){var p=new Date(e,t,1+(f-i)),_=!!d(this._d)&&g(p,this._d),m=g(p,r),b=f<i||f>=o+i,w=n.startRange&&g(n.startRange,p),j=n.endRange&&g(n.endRange,p),A=n.startRange&&n.endRange&&n.startRange<p&&p<n.endRange,S=n.minDate&&p<n.minDate||n.maxDate&&p>n.maxDate||n.disableWeekends&&h(p)||n.disableDayFn&&n.disableDayFn(p),q={day:1+(f-i),month:t,year:e,isSelected:_,isToday:m,isDisabled:S,isEmpty:b,isStartRange:w,isEndRange:j,isInRange:A};a.push(k(q)),7===++l&&(n.showWeekNumber&&a.unshift(x(f-i,t,e)),u.push(E(a,n.isRTL)),a=[],l=0)}return O(n,u)},isVisible:function(){return this._v},show:function(){this._v||(f(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&i(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",s(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),i(this.el,"mousedown",this._onMouseDown,!0),i(this.el,"touchend",this._onMouseDown,!0),i(this.el,"change",this._onChange),this._o.field&&(i(this._o.field,"change",this._onInputChange),this._o.bound&&(i(this._o.trigger,"click",this._onInputClick),i(this._o.trigger,"focus",this._onInputFocus),i(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},q})},/*!********************************************************!*\
  !*** ./~/pouchdb-find/lib/abstract-mapreduce/utils.js ***!
  \********************************************************/
function(e,t,n){(function(e){"use strict";t.Promise=n(/*! pouchdb-promise */17),t.inherits=n(/*! inherits */15),t.extend=n(/*! pouchdb-extend */16);var r=n(/*! argsarray */58);t.promisedCallback=function(t,n){return n&&t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})}),t},t.callbackify=function(e){return r(function(n){var r=n.pop(),o=e.apply(this,n);return"function"==typeof r&&t.promisedCallback(o,r),o})},t.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},t.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},t.flatten=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t},t.uniq=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(/*! crypto */84),i=n(/*! spark-md5 */19);t.MD5=function(t){return e.browser?i.hash(t):o.createHash("md5").update(t).digest("hex")}}).call(t,n(/*! (webpack)/~/node-libs-browser/~/process/browser.js */6))},/*!**************************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/abstract-mapper.js ***!
  \**************************************************************/
function(e,t,n){"use strict";function r(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++){for(var u=p(e[o]),a=n,c=0,s=u.length;c<s;c++){var f=u[c];if(a=a[f],!a)break}r.push(a)}t(r)}}function o(e,t){var n=p(e);return function(e){for(var r=e,o=0,i=n.length;o<i;o++){var u=n[o];if(r=r[u],!r)return}t(r)}}function i(e,t){return function(n){t(n[e])}}function u(e,t){return function(n){for(var r=[],o=0,i=e.length;o<i;o++)r.push(n[e[o]]);t(r)}}function a(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.indexOf(".")!==-1)return!1}return!0}function c(e,t){var n=a(e),c=1===e.length;return n?c?i(e[0],t):u(e,t):c?o(e[0],t):r(e,t)}function s(e,t){var n=Object.keys(e.fields);return c(n,t)}function f(){throw new Error("reduce not supported")}function l(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var d=n(/*! ./utils */5),h=n(/*! ../../abstract-mapreduce */49),p=d.parseField,v=h({name:"indexes",mapper:s,reducer:f,ddocValidator:l});e.exports=v},/*!*********************************************************!*\
  !*** ./~/pouchdb-find/lib/abstract-mapreduce/upsert.js ***!
  \*********************************************************/
function(e,t,n){"use strict";var r=n(/*! pouchdb-upsert */18).upsert;e.exports=function(e,t,n){return r.apply(e,[t,n])}},/*!****************************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/get-indexes/index.js ***!
  \****************************************************************/
function(e,t,n){"use strict";function r(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=o.flatten(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){var t=void 0!==e.doc.views?Object.keys(e.doc.views):[];return t.map(function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:u(n.options.def)}})})),t.indexes.sort(function(e,t){return o.compare(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var o=n(/*! ../../../utils */3),i=n(/*! ../utils */5),u=i.massageIndexDef;e.exports=r},/*!*************************************!*\
  !*** ./~/pouchdb-find/lib/index.js ***!
  \*************************************/
function(e,t,n){"use strict";var r=n(/*! ./utils */3),o=n(/*! ./adapters/http */51),i=n(/*! ./adapters/local */57),u={};u.createIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));var n="http"===this.type()?o:i;n.createIndex(this,e,t)}),u.find=r.toPromise(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));var n="http"===this.type()?o:i;n.find(this,e,t)}),u.getIndexes=r.toPromise(function(e){var t="http"===this.type()?o:i;t.getIndexes(this,e)}),u.deleteIndex=r.toPromise(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));var n="http"===this.type()?o:i;n.deleteIndex(this,e,t)}),e.exports=u,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(u)},/*!*********************************************************!*\
  !*** ./~/pouchdb-find/lib/massageCreateIndexRequest.js ***!
  \*********************************************************/
function(e,t,n){"use strict";var r=n(/*! ./utils */3),o=r.clone;e.exports=function(e){return e=o(e),e.index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}},/*!*******************************************************!*\
  !*** ./~/pouchdb-find/~/inherits/inherits_browser.js ***!
  \*******************************************************/
function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},/*!**************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-extend/index.js ***!
  \**************************************************/
function(e,t){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[d.call(e)]||"object":typeof e}function r(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var o;for(o in e);return void 0===o||h.call(e,o)}function i(e){return"function"===n(e)}function u(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)a(e,i.args,i.result);return o.key}function a(e,t,n){var r,u,a,c,s,f,l,d=t[0]||{},h=1,v=t.length,y=!1,g=/\d+/;for("boolean"==typeof d&&(y=d,d=t[1]||{},h=2),"object"==typeof d||i(d)||(d={}),v===h&&(d=this,--h);h<v;h++)if(null!=(r=t[h])){l=p(r);for(u in r)if(!(u in Object.prototype)){if(l&&!g.test(u))continue;if(a=d[u],c=r[u],d===c)continue;y&&c&&(o(c)||(s=p(c)))?(s?(s=!1,f=a&&p(a)?a:[]):f=a&&o(a)?a:{},e.push({args:[y,f,c],result:{container:d,key:u}})):void 0!==c&&(p(r)&&i(c)||(d[u]=c))}}n.container[n.key]=d}for(var c={},s=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],f=0;f<s.length;f++){var l=s[f];c["[object "+l+"]"]=l.toLowerCase()}var d=c.toString,h=c.hasOwnProperty,p=Array.isArray||function(e){return"array"===n(e)};e.exports=u},/*!*******************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-promise/lib/index.js ***!
  \*******************************************************/
function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}var o=r(n(/*! lie */64)),i="function"==typeof Promise?Promise:o;e.exports=i},/*!**************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-upsert/index.js ***!
  \**************************************************/
function(e,t,n){"use strict";function r(e,t,n){return"string"!=typeof t?i.reject(new Error("doc id is required")):e.get(t)["catch"](function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i=r._rev,u=n(r);return u?(u._id=t,u._rev=i,o(e,u,n)):{updated:!1,rev:i}})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i=n(/*! pouchdb-promise */66);t.upsert=function(e,t,n){var o=this,i=r(o,e,t);return"function"!=typeof n?i:void i.then(function(e){n(null,e)},n)},t.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return!e._rev&&t},u=r(o,e,i);return"function"!=typeof n?u:void u.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(t)},/*!*************************************************!*\
  !*** ./~/pouchdb-find/~/spark-md5/spark-md5.js ***!
  \*************************************************/
function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";var t=function(e,t){return e+t&4294967295},n=function(e,n,r,o,i,u){return n=t(t(n,e),t(o,u)),t(n<<i|n>>>32-i,r)},r=function(e,t,r,o,i,u,a){return n(t&r|~t&o,e,t,i,u,a)},o=function(e,t,r,o,i,u,a){return n(t&o|r&~o,e,t,i,u,a)},i=function(e,t,r,o,i,u,a){return n(t^r^o,e,t,i,u,a)},u=function(e,t,r,o,i,u,a){return n(r^(t|~o),e,t,i,u,a)},a=function(e,n){var a=e[0],c=e[1],s=e[2],f=e[3];a=r(a,c,s,f,n[0],7,-680876936),f=r(f,a,c,s,n[1],12,-389564586),s=r(s,f,a,c,n[2],17,606105819),c=r(c,s,f,a,n[3],22,-1044525330),a=r(a,c,s,f,n[4],7,-176418897),f=r(f,a,c,s,n[5],12,1200080426),s=r(s,f,a,c,n[6],17,-1473231341),c=r(c,s,f,a,n[7],22,-45705983),a=r(a,c,s,f,n[8],7,1770035416),f=r(f,a,c,s,n[9],12,-1958414417),s=r(s,f,a,c,n[10],17,-42063),c=r(c,s,f,a,n[11],22,-1990404162),a=r(a,c,s,f,n[12],7,1804603682),f=r(f,a,c,s,n[13],12,-40341101),s=r(s,f,a,c,n[14],17,-1502002290),c=r(c,s,f,a,n[15],22,1236535329),a=o(a,c,s,f,n[1],5,-165796510),f=o(f,a,c,s,n[6],9,-1069501632),s=o(s,f,a,c,n[11],14,643717713),c=o(c,s,f,a,n[0],20,-373897302),a=o(a,c,s,f,n[5],5,-701558691),f=o(f,a,c,s,n[10],9,38016083),s=o(s,f,a,c,n[15],14,-660478335),c=o(c,s,f,a,n[4],20,-405537848),a=o(a,c,s,f,n[9],5,568446438),f=o(f,a,c,s,n[14],9,-1019803690),s=o(s,f,a,c,n[3],14,-187363961),c=o(c,s,f,a,n[8],20,1163531501),a=o(a,c,s,f,n[13],5,-1444681467),f=o(f,a,c,s,n[2],9,-51403784),s=o(s,f,a,c,n[7],14,1735328473),c=o(c,s,f,a,n[12],20,-1926607734),a=i(a,c,s,f,n[5],4,-378558),f=i(f,a,c,s,n[8],11,-2022574463),s=i(s,f,a,c,n[11],16,1839030562),c=i(c,s,f,a,n[14],23,-35309556),a=i(a,c,s,f,n[1],4,-1530992060),f=i(f,a,c,s,n[4],11,1272893353),s=i(s,f,a,c,n[7],16,-155497632),c=i(c,s,f,a,n[10],23,-1094730640),a=i(a,c,s,f,n[13],4,681279174),f=i(f,a,c,s,n[0],11,-358537222),s=i(s,f,a,c,n[3],16,-722521979),c=i(c,s,f,a,n[6],23,76029189),a=i(a,c,s,f,n[9],4,-640364487),f=i(f,a,c,s,n[12],11,-421815835),s=i(s,f,a,c,n[15],16,530742520),c=i(c,s,f,a,n[2],23,-995338651),a=u(a,c,s,f,n[0],6,-198630844),f=u(f,a,c,s,n[7],10,1126891415),s=u(s,f,a,c,n[14],15,-1416354905),c=u(c,s,f,a,n[5],21,-57434055),a=u(a,c,s,f,n[12],6,1700485571),f=u(f,a,c,s,n[3],10,-1894986606),s=u(s,f,a,c,n[10],15,-1051523),c=u(c,s,f,a,n[1],21,-2054922799),a=u(a,c,s,f,n[8],6,1873313359),f=u(f,a,c,s,n[15],10,-30611744),s=u(s,f,a,c,n[6],15,-1560198380),c=u(c,s,f,a,n[13],21,1309151649),a=u(a,c,s,f,n[4],6,-145523070),f=u(f,a,c,s,n[11],10,-1120210379),s=u(s,f,a,c,n[2],15,718787259),c=u(c,s,f,a,n[9],21,-343485551),e[0]=t(a,e[0]),e[1]=t(c,e[1]),e[2]=t(s,e[2]),e[3]=t(f,e[3])},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},s=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},f=function(e){var t,n,r,o,i,u,s=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)a(f,c(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(f,r),t=0;t<16;t+=1)r[t]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,r[14]=i,r[15]=u,a(f,r),f},l=function(e){var t,n,r,o,i,u,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(f,s(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(f,r),t=0;t<16;t+=1)r[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,r[14]=i,r[15]=u,a(f,r),f},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;t<4;t+=1)n+=d[e>>8*t+4&15]+d[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},v=function(e){return p(f(e))},y=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==v("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),y.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},y.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)a(this._state,c(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},y.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},y.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(a(this._state,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,a(this._state,e)},y.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},y.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=f(e);return t?n:p(n)},y.hashBinary=function(e,t){var n=f(e);return t?n:p(n)},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)a(this._state,s(n.subarray(t-64,t)));return this._buff=t-64<r?n.subarray(t-64):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},y.ArrayBuffer.hash=function(e,t){var n=l(new Uint8Array(e));return t?n:p(n)},y})},/*!****************************************!*\
  !*** ./~/pouchdb/lib/index-browser.js ***!
  \****************************************/
function(e,t,n){(function(t,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function i(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function u(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function a(e){if(e instanceof ArrayBuffer)return u(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function c(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Yr.call(n)==Gr}function s(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t}if(e instanceof Date)return e.toISOString();if(i(e))return a(e);if(!c(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=s(e[n]);"undefined"!=typeof o&&(t[n]=o)}return t}function f(e){var t=!1;return $r(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function l(e){return $r(function(n){n=s(n);var r,o=this,i="function"==typeof n[n.length-1]&&n.pop();i&&(r=function(e,n){t.nextTick(function(){i(e,n)})});var u=new Jr(function(t,r){var i;try{var u=f(function(e,n){e?r(e):t(n)});n.push(u),i=e.apply(o,n),i&&"function"==typeof i.then&&t(i)}catch(a){r(a)}});return r&&u.then(function(e){r(null,e)},r),u})}function d(e,t){function n(e,t,n){if(Xr.enabled){for(var r=[e.name,t],o=0;o<n.length-1;o++)r.push(n[o]);Xr.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[e.name,t];o=o.concat(n?["error",n]:["success",r]),Xr.apply(null,o),i(n,r)}}}return l($r(function(r){if(this._closed)return Jr.reject(new Error("database is closed"));if(this._destroyed)return Jr.reject(new Error("database is destroyed"));var o=this;return n(o,e,r),this.taskqueue.isReady?t.apply(this,r):new Jr(function(t,n){o.taskqueue.addTask(function(i){i?n(i):t(o[e].apply(o,r))})})}))}function h(e,t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}function p(e){return e}function v(e){return[{ok:e}]}function y(e,t,n){function r(){var e=[];d.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function o(){++l===f&&r()}function i(e,t,n){d[e]={id:t,docs:n},o()}function u(){if(!(g>=y.length)){var e=Math.min(g+Qr,y.length),t=y.slice(g,e);a(t,g),g+=t.length}}function a(n,r){n.forEach(function(n,o){var a=r+o,c=s[n],f=h(c[0],["atts_since","attachments"]);f.open_revs=c.map(function(e){return e.rev}),f.open_revs=f.open_revs.filter(p);var l=p;0===f.open_revs.length&&(delete f.open_revs,l=v),["revs","attachments","binary","ajax"].forEach(function(e){e in t&&(f[e]=t[e])}),e.get(n,f,function(e,t){var r;r=e?[{error:e}]:l(t),i(a,n,r),u()})})}var c=t.docs,s={};c.forEach(function(e){e.id in s?s[e.id].push(e):s[e.id]=[e]});var f=Object.keys(s).length,l=0,d=new Array(f),y=Object.keys(s),g=0;u()}function g(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function _(){return Fr}function m(e){g()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):_()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function b(){Ur.EventEmitter.call(this),this._listeners={},m(this)}function w(e){if("undefined"!==console&&e in console){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function k(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t+=1,t>n&&(e=n>>1,t=n);var r=Math.random(),o=t-e;return~~(o*r+e)}function x(e){var t=0;return e||(t=2e3),k(e,t)}function E(e,t){w("info","The above "+e+" is totally normal. "+t)}function j(e){if("object"!=typeof e)throw e+" is not an object";var t=eo.call(arguments,1);return to.call(t,function(t){if(t)for(var n in t)"object"==typeof t[n]&&e[n]?j.call(e,e[n],t[n]):e[n]=t[n]}),e}function A(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}function S(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=A.prototype,new n(t)}function O(e){if("object"!=typeof e){var t=e;e=so,e.data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function q(e,t,n){try{return!e(t,n)}catch(r){var o="Filter function threw: "+r.toString();return S(po,o)}}function T(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var o=n&&q(e.filter,r.doc,t);if("object"==typeof o)return o;if(o)return!1;if(e.include_docs){if(!e.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function D(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function C(e){var t;if(e?"string"!=typeof e?t=S(io):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=S(ao)):t=S(uo),t)throw t}function I(e,t){return"listenerCount"in e?e.listenerCount(t):Ur.EventEmitter.listenerCount(e,t)}function R(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function L(e){var t=R(e);return t?t.join("/"):null}function N(e){for(var t=xo.exec(e),n={},r=14;r--;){var o=bo[r],i=t[r]||"",u=["user","password"].indexOf(o)!==-1;n[o]=u?decodeURIComponent(i):i}return n[wo]={},n[bo[12]].replace(ko,function(e,t,r){t&&(n[wo][t]=r)}),n}function M(e,t,n){return new Jr(function(r,o){e.get(t,function(i,u){if(i){if(404!==i.status)return o(i);u={}}var a=u._rev,c=n(u);return c?(c._id=t,c._rev=a,void r(F(e,c,n))):r({updated:!1,rev:a})})})}function F(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return M(e,t._id,n)})}function B(e){return 0|Math.random()*e}function $(e,t){t=t||Eo.length;var n="",r=-1;if(e){for(;++r<e;)n+=Eo[B(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=Eo[3&B(16)|8];break;default:n+=Eo[B(16)]}return n}function P(e){return"$"+e}function U(e){return e.substring(1)}function z(){this.store={}}function W(e){if(this.store=new z,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function K(e){for(var t,n,r,o,i=e.rev_tree.slice();o=i.pop();){var u=o.ids,a=u[2],c=o.pos;if(a.length)for(var s=0,f=a.length;s<f;s++)i.push({pos:c+1,ids:a[s]});else{var l=!!u[1].deleted,d=u[0];t&&!(r!==l?r:n!==c?n<c:t<d)||(t=d,n=c,r=l)}}return n+"-"+t}function H(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,u=i[2],a=t(0===u.length,o,i[0],n.ctx,i[1]),c=0,s=u.length;c<s;c++)r.push({pos:o+1,ids:u[c],ctx:a})}function V(e,t){return e.pos-t.pos}function J(e){var t=[];H(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(V).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Y(e){for(var t=K(e),n=J(e.rev_tree),r=[],o=0,i=n.length;o<i;o++){var u=n[o];u.rev===t||u.opts.deleted||r.push(u.rev)}return r}function G(e){var t=[];return H(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t}function X(e){for(var t,n=[],r=e.slice();t=r.pop();){var o=t.pos,i=t.ids,u=i[0],a=i[1],c=i[2],s=0===c.length,f=t.history?t.history.slice():[];f.push({id:u,opts:a}),s&&n.push({pos:o+1-f.length,ids:f});for(var l=0,d=c.length;l<d;l++)r.push({pos:o+1,ids:c[l],history:f})}return n.reverse()}function Q(e,t){return e.pos-t.pos}function Z(e,t,n){for(var r,o=0,i=e.length;o<i;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function ee(e,t,n){var r=Z(e,t,n);e.splice(r,0,t)}function te(e,t){for(var n,r,o=t,i=e.length;o<i;o++){var u=e[o],a=[u.id,u.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function ne(e,t){return e[0]<t[0]?-1:1}function re(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,u=o.tree2;(i[1].status||u[1].status)&&(i[1].status="available"===i[1].status||"available"===u[1].status?"available":"missing");for(var a=0;a<u[2].length;a++)if(i[2][0]){for(var c=!1,s=0;s<i[2].length;s++)i[2][s][0]===u[2][a][0]&&(n.push({tree1:i[2][s],tree2:u[2][a]}),c=!0);c||(r="new_branch",ee(i[2],u[2][a],ne))}else r="new_leaf",i[2][0]=u[2][a]}return{conflicts:r,tree:e}}function oe(e,t,n){var r,o=[],i=!1,u=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var s=e[a];if(s.pos===t.pos&&s.ids[0]===t.ids[0])r=re(s.ids,t.ids),o.push({pos:s.pos,ids:r.tree}),i=i||r.conflicts,u=!0;else if(n!==!0){var f=s.pos<t.pos?s:t,l=s.pos<t.pos?t:s,d=l.pos-f.pos,h=[],p=[];for(p.push({ids:f.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var y=v.ids[2],g=0,_=y.length;g<_;g++)p.push({ids:y[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===l.ids[0]&&h.push(v)}var m=h[0];m?(r=re(m.ids,l.ids),m.parent[2][m.parentIdx]=r.tree,o.push({pos:f.pos,ids:f.ids}),i=i||r.conflicts,u=!0):o.push(s)}else o.push(s)}return u||o.push(t),o.sort(Q),{tree:o,conflicts:i||"internal_node"}}function ie(e,t){for(var n,r=X(e),o={},i=0,u=r.length;i<u;i++){for(var a=r[i],c=a.ids,s=Math.max(0,c.length-t),f={pos:a.pos+s,ids:te(c,s)},l=0;l<s;l++){var d=a.pos+l+"-"+c[l].id;o[d]=!0}n=n?oe(n,f,!0).tree:[f]}return H(n,function(e,t,n){delete o[t+"-"+n]}),{tree:n,revs:Object.keys(o)}}function ue(e,t,n){var r=oe(e,t),o=ie(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ae(e,t){for(var n,r=e.slice(),o=t.split("-"),i=parseInt(o[0],10),u=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===u)return!0;for(var a=n.ids[2],c=0,s=a.length;c<s;c++)r.push({pos:n.pos+1,ids:a[c]})}return!1}function ce(e){return e.ids}function se(e,t){t||(t=K(e));for(var n,r=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(ce);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function fe(e){return/^_local/.test(e)}function le(e){return Wr('"use strict";\nreturn '+e+";",{})}function de(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Wr(t,{})}function he(e,t){try{e.emit("change",t)}catch(n){w("error",'Error in .on("change", function):',n)}}function pe(e,t,n){function r(){o.cancel()}Ur.EventEmitter.call(this);var o=this;this.db=e,t=t?s(t):{};var i=t.complete=f(function(t,n){t?I(o,"error")>0&&o.emit("error",t):o.emit("complete",n),o.removeAllListeners(),e.removeListener("destroyed",r)});n&&(o.on("complete",function(e){n(null,e)}),o.on("error",n)),e.once("destroyed",r),t.onChange=function(e){t.isCancelled||he(o,e)};var u=new Jr(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});o.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=u.then.bind(u),this["catch"]=u["catch"].bind(u),this.then(function(e){i(null,e)},i),e.taskqueue.isReady?o.doChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):o.isCancelled?o.emit("cancel"):o.doChanges(t)})}function ve(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=J(t.rev_tree).map(function(e){return{rev:e.rev}}));var o={id:t.id,changes:r,doc:e};return se(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=Y(t),o.doc._conflicts.length||delete o.doc._conflicts),o}function ye(e,t){return e<t?-1:e>t?1:0}function ge(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n)===!0)return e[n]}function _e(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function me(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=h(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function be(e,t){var n=ye(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,o=t._revisions?t._revisions.start:0;return ye(r,o)}function we(e){var t={},n=[];return H(e,function(e,r,o,i){var u=r+"-"+o;return e&&(t[u]=0),void 0!==i&&n.push({from:i,to:u}),u}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function ke(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return Jr.all(r.map(function(n){var r=j({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new Jr(function(t,i){e._allDocs(r,function(e,r){return e?i(e):(o.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return o.rows=e,o})}function xe(e){var n=e._compactionQueue[0],r=n.opts,o=n.callback;e.get("_local/compaction")["catch"](function(){return!1}).then(function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),e._compact(r,function(n,r){n?o(n):o(null,r),t.nextTick(function(){e._compactionQueue.shift(),e._compactionQueue.length&&xe(e)})})})}function Ee(e){return"_"===e.charAt(0)&&e+"is not a valid attachment name, attachment names cannot start with '_'"}function je(){Ur.EventEmitter.call(this)}function Ae(){this.isReady=!1,this.failed=!1,this.queue=[]}function Se(e,t){var n=e.match(/([a-z\-]*):\/\/(.*)/);if(n)return e=/http(s?)/.test(n[1])?n[1]+"://"+n[2]:n[2],{name:e,adapter:n[1]};var r,o="idb"in qe.adapters&&"websql"in qe.adapters&&_()&&localStorage["_pouch__websqldb_"+qe.prefix+e];if(t.adapter)r=t.adapter;else if("undefined"!=typeof t&&t.db)r="leveldb";else for(var i=0;i<qe.preferredAdapters.length&&(r=qe.preferredAdapters[i],o&&"idb"===r);++i)w("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=qe.adapters[r],a=!(u&&"use_prefix"in u)||u.use_prefix;return{name:a?qe.prefix+e:e,adapter:r}}function Oe(e){function t(){e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.emit("destroyed",e)}var r=e.constructor._destructionListeners;e.once("destroyed",t),r.has(e.name)||r.set(e.name,[]),r.get(e.name).push(n)}function qe(e,t){if(!(this instanceof qe))return new qe(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(t=e,e=t.name,delete t.name),this.__opts=t=s(t),n.auto_compaction=t.auto_compaction,n.prefix=qe.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=(t.prefix||"")+e,o=Se(r,t);if(t.name=o.name,t.adapter=t.adapter||o.adapter,n.name=e,n._adapter=t.adapter,Pr("pouchdb:adapter")("Picked adapter: "+t.adapter),!qe.adapters[t.adapter]||!qe.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);je.call(n),n.taskqueue=new Ae,n.adapter=t.adapter,qe.adapters[t.adapter].call(n,t,function(e){return e?n.taskqueue.fail(e):(Oe(n),n.emit("created",n),qe.emit("created",n.name),void n.taskqueue.ready(n))})}function Te(e){Object.keys(Ur.EventEmitter.prototype).forEach(function(t){"function"==typeof Ur.EventEmitter.prototype[t]&&(e[t]=jo[t].bind(jo))});var t=e._destructionListeners=new z;e.on("destroyed",function(e){t.get(e).forEach(function(e){e()}),t["delete"](e)})}function De(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function Ce(e){if(!/^\d+\-./.test(e))return S(_o);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function Ie(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,u=r.length;i<u;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Re(e,t){var n,r,o,i={status:"available"};if(e._deleted&&(i.deleted=!0),t)if(e._id||(e._id=$()),r=$(32,16).toLowerCase(),e._rev){if(o=Ce(e._rev),o.error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Ie(e._revisions,i),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(o=Ce(e._rev),o.error)return o;n=o.prefix,r=o.id,e._rev_tree=[{pos:n,ids:[r,i,[]]}]}C(e._id),e._rev=n+"-"+r;var u={metadata:{},data:{}};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c="_"===a[0];if(c&&!Oo[a]){var s=S(ho,a);throw s.message=ho.message+": "+a,s}c&&!qo[a]?u.metadata[a.slice(1)]=e[a]:u.data[a]=e[a]}return u}function Le(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}function Ne(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function Me(e,t){return Le([Ne(e)],{type:t})}function Fe(e,t){return Me(To(e),t)}function Be(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return t}function $e(e,t){if("undefined"==typeof FileReader)return t(Be((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return r?t(n):void t(Be(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Pe(e,t){$e(e,function(e){t(e)})}function Ue(e,t){Pe(e,function(e){t(Do(e))})}function ze(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function We(e){return Do(e)}function Ke(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}function He(e,t,n,r,o){(n>0||r<t.size)&&(t=Ke(t,n,r)),ze(t,function(t){e.append(t),o()})}function Ve(e,t,n,r,o){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),o()}function Je(e,t){function n(){Co(o)}function r(){var e=f.end(!0),n=We(e);t(n),f.destroy()}function o(){var t=s*a,o=t+a;s++,s<c?l(f,e,t,o,n):l(f,e,t,o,r)}var i="string"==typeof e,u=i?e.length:e.size,a=Math.min(Io,u),c=Math.ceil(u/a),s=0,f=i?new Kr:new Kr.ArrayBuffer,l=i?Ve:He;o()}function Ye(e){return Kr.hash(e)}function Ge(e){try{return To(e)}catch(t){var n=S(fo,"Attachment is not a valid base64 string");return{error:n}}}function Xe(e,t,n){var r=Ge(e.data);return r.error?n(r.error):(e.length=r.length,"blob"===t?e.data=Me(r,e.content_type):"base64"===t?e.data=Do(r):e.data=r,void Je(r,function(t){e.digest="md5-"+t,n()}))}function Qe(e,t,n){Je(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Pe(e.data,function(t){e.data=t,n()}):"base64"===t?Ue(e.data,function(t){e.data=t,n()}):n()})}function Ze(e,t,n){return e.stub?n():void("string"==typeof e.data?Xe(e,t,n):Qe(e,t,n))}function et(e,t,n){function r(){i++,e.length===i&&(o?n(o):n())}if(!e.length)return n();var o,i=0;e.forEach(function(e){function n(e){o=e,u++,u===i.length&&r()}var i=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],u=0;if(!i.length)return r();for(var a in e.data._attachments)e.data._attachments.hasOwnProperty(a)&&Ze(e.data._attachments[a],t,n)})}function tt(e,t,n,r,o,i,u,a){if(ae(t.rev_tree,n.metadata.rev))return r[o]=n,i();var c=t.winningRev||K(t),s="deleted"in t?t.deleted:se(t,c),f="deleted"in n.metadata?n.metadata.deleted:se(n.metadata),l=/^1-/.test(n.metadata.rev);if(s&&!f&&a&&l){var d=n.data;d._rev=c,d._id=n.metadata.id,n=Re(d,a)}var h=ue(t.rev_tree,n.metadata.rev_tree[0],e),p=a&&(s&&f||!s&&"new_leaf"!==h.conflicts||s&&!f&&"new_branch"===h.conflicts);if(p){var v=S(oo);return r[o]=v,i()}var y=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g,_=K(n.metadata),m=se(n.metadata,_),b=s===m?0:s<m?-1:1;g=y===_?m:se(n.metadata,y),u(n,_,m,g,!0,b,o,i)}function nt(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function rt(e,t,n,r,o,i,u,a,c){function s(e,t,n){var r=K(e.metadata),o=se(e.metadata,r);if("was_delete"in a&&o)return i[t]=S(ro,"deleted"),n();var c=l&&nt(e);if(c){var s=S(oo);return i[t]=s,n()}var f=o?0:1;u(e,r,o,o,!1,f,t,n)}function f(){++h===p&&c&&c()}e=e||1e3;var l=a.new_edits,d=new z,h=0,p=t.length;t.forEach(function(e,t){if(e._id&&fe(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:o},function(e,n){i[t]=e||n,f()})}var u=e.metadata.id;d.has(u)?(p--,d.get(u).push([e,t])):d.set(u,[[e,t]])}),d.forEach(function(t,n){function o(){++c<t.length?a():f()}function a(){var a=t[c],f=a[0],d=a[1];if(r.has(n))tt(e,r.get(n),f,i,d,o,u,l);else{var h=ue([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=h.tree,f.stemmedRevs=h.stemmedRevs||[],s(f,d,o)}}var c=0;a()})}function ot(e){try{return JSON.parse(e)}catch(t){return Hr.parse(e)}}function it(e){return e.length<5e4?JSON.parse(e):ot(e)}function ut(e){try{return JSON.stringify(e)}catch(t){return Hr.stringify(e)}}function at(e,t,n,r){try{e.apply(t,n)}catch(o){r.emit("error",o)}}function ct(e){if(!Uo.running&&Uo.queue.length){Uo.running=!0;var n=Uo.queue.shift();n.action(function(r,o){at(n.callback,this,[r,o],e),Uo.running=!1,t.nextTick(function(){ct(e)})})}}function st(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(S(yo,n,t.type))}}function ft(e,t,n){return{data:ut(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function lt(e){if(!e)return null;var t=it(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function dt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function ht(e,t,n,r){n?r(e?"string"!=typeof e?e:Fe(e,t):Le([""],{type:t})):e?"string"!=typeof e?$e(e,function(e){r(Do(e))}):r(e):r("")}function pt(e,t,n,r){function o(){++a===u.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest,u=n.objectStore(Mo).get(i);u.onsuccess=function(e){r.body=e.target.result.body,o()}}var u=Object.keys(e._attachments||{});if(!u.length)return r&&r();var a=0;u.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})}function vt(e,t){return Jr.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Jr.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new Jr(function(u){ht(o,i,t,function(t){e.doc._attachments[n]=j(h(r,["digest","content_type"]),{data:t}),u()})})}}))}}))}function yt(e,t,n){function r(){s--,s||o()}function o(){i.length&&i.forEach(function(e){var t=c.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||a["delete"](e)}})}var i=[],u=n.objectStore(No),a=n.objectStore(Mo),c=n.objectStore(Fo),s=e.length;e.forEach(function(e){var n=u.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();u["delete"](t);var n=c.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),c["delete"](t.primaryKey),t["continue"]()}else r()}}})}function gt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}function _t(e,t,n,r,o,i,u){function a(){var e=[Lo,No,Mo,$o,Fo],t=gt(o,e,"readwrite");return t.error?u(t.error):(_=t.txn,_.onabort=st(u),_.ontimeout=st(u),_.oncomplete=f,m=_.objectStore(Lo),b=_.objectStore(No),w=_.objectStore(Mo),k=_.objectStore(Fo),void d(function(e){return e?(C=!0,u(e)):void s()}))}function c(){rt(e.revs_limit,E,r,D,_,T,h,n)}function s(){function e(){++n===E.length&&c()}function t(t){var n=lt(t.target.result);n&&D.set(n.id,n),e()}if(E.length)for(var n=0,r=0,o=E.length;r<o;r++){var i=E[r];if(i._id&&fe(i._id))e();else{var u=m.get(i.metadata.id);u.onsuccess=t}}}function f(){C||(i.notify(r._meta.name),r._meta.docCount+=j,u(null,T))}function l(e,t){var n=w.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=S(mo,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function d(e){function t(){++o===n.length&&e(r)}var n=[];if(E.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){l(e,function(e){e&&!r&&(r=e),t()})})}function h(e,t,n,r,o,i,u,a){j+=i,e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;c._id=e.metadata.id,c._rev=e.metadata.rev,r&&(c._deleted=!0);var s=c._attachments&&Object.keys(c._attachments).length;return s?v(e,t,n,o,u,a):void p(e,t,n,o,u,a)}function p(e,t,n,o,i,u){function a(i){var u=e.stemmedRevs||[];o&&r.auto_compaction&&(u=u.concat(G(e.metadata))),u&&u.length&&yt(u,e.metadata.id,_),l.seq=i.target.result,delete l.rev;var a=ft(l,t,n),c=m.put(a);c.onsuccess=s}function c(e){e.preventDefault(),e.stopPropagation();var t=b.index("_doc_id_rev"),n=t.getKey(f._doc_id_rev);n.onsuccess=function(e){var t=b.put(f,e.target.result);t.onsuccess=a}}function s(){T[i]={ok:!0,id:l.id,rev:t},D.set(e.metadata.id,e.metadata),y(e,l.seq,u)}var f=e.data,l=e.metadata;f._doc_id_rev=l.id+"::"+l.rev,delete f._id,delete f._rev;var d=b.put(f);d.onsuccess=a,d.onerror=c}function v(e,t,n,r,o,i){function u(){s===f.length&&p(e,t,n,r,o,i)}function a(){s++,u()}var c=e.data,s=0,f=Object.keys(c._attachments);f.forEach(function(n){var r=e.data._attachments[n];if(r.stub)s++,u();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);var i=r.digest;g(i,o,a)}})}function y(e,t,n){function r(){++i===u.length&&n()}function o(n){var o=e.data._attachments[n].digest,i=k.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var i=0,u=Object.keys(e.data._attachments||{});if(!u.length)return n();for(var a=0;a<u.length;a++)o(u[a])}function g(e,t,n){var r=w.count(e);r.onsuccess=function(r){var o=r.target.result;if(o)return n();var i={digest:e,body:t},u=w.put(i);u.onsuccess=n}}for(var _,m,b,w,k,x,E=t.docs,j=0,A=0,O=E.length;A<O;A++){var q=E[A];q._id&&fe(q._id)||(q=E[A]=Re(q,n.new_edits),q.error&&!x&&(x=q))}if(x)return u(x);var T=new Array(E.length),D=new z,C=!1,I=r._meta.blobSupport?"blob":"base64";et(E,I,function(e){return e?u(e):void a()})}function mt(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(i){return{error:i}}return null}function bt(e,t,n,r){return"DataError"===n.name&&0===n.code?r(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]}):void r(S(yo,n.name,n.message))}function wt(e,t,n,r){function o(e,r){function o(t,n,r){var o=t.id+"::"+r;x.get(o).onsuccess=function(r){n.doc=dt(r.target.result),e.conflicts&&(n.doc._conflicts=Y(t)),pt(n.doc,e,m)}}function i(t,n,r){var i={id:r.id,key:r.id,value:{rev:n}},u=r.deleted;if("ok"===e.deleted)E.push(i),u?(i.value.deleted=!0,i.doc=null):e.include_docs&&o(r,i,n);else if(!u&&d--<=0&&(E.push(i),e.include_docs&&o(r,i,n),0===--h))return;t["continue"]()}function u(e){j=t._meta.docCount;var n=e.target.result;if(n){var r=lt(n.value),o=r.winningRev;i(n,o,r)}}function a(){r(null,{total_rows:j,offset:e.skip,rows:E})}function c(){e.attachments?vt(E,e.binary).then(a):a()}var s="startkey"in e&&e.startkey,f="endkey"in e&&e.endkey,l="key"in e&&e.key,d=e.skip||0,h="number"==typeof e.limit?e.limit:-1,p=e.inclusive_end!==!1,v="descending"in e&&e.descending?"prev":null,y=mt(s,f,p,l,v);if(y&&y.error)return bt(t,e,y.error,r);var g=[Lo,No];e.attachments&&g.push(Mo);var _=gt(n,g,"readonly");if(_.error)return r(_.error);var m=_.txn,b=m.objectStore(Lo),w=m.objectStore(No),k=v?b.openCursor(y,v):b.openCursor(y),x=w.index("_doc_id_rev"),E=[],j=0;m.oncomplete=c,k.onsuccess=u}function i(e,n){return 0===e.limit?n(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]}):void o(e,n)}i(e,r)}function kt(e){return new Jr(function(t){var n=Le([""]);e.objectStore(Po).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})["catch"](function(){return!1})}function xt(e,t){var n=this;Uo.queue.push({action:function(t){Et(n,e,t)},callback:t}),ct(n.constructor)}function Et(e,n,r){function o(e){var t=e.createObjectStore(Lo,{keyPath:"id"});e.createObjectStore(No,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Mo,{keyPath:"digest"}),e.createObjectStore(Bo,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Po),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore($o,{keyPath:"_id"});var n=e.createObjectStore(Fo,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function i(e,t){var n=e.objectStore(Lo);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=se(o);o.deletedOrLocal=i?"1":"0",n.put(o),r["continue"]()}else t()}}function u(e){e.createObjectStore($o,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(e,t){var n=e.objectStore($o),r=e.objectStore(Lo),o=e.objectStore(No),i=r.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var u=i.value,a=u.id,c=fe(a),s=K(u);if(c){var f=a+"::"+s,l=a+"::",d=a+"::~",h=o.index("_doc_id_rev"),p=IDBKeyRange.bound(l,d,!1,!1),v=h.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===f&&n.put(t),o["delete"](v.primaryKey),v["continue"]()}else r["delete"](i.primaryKey),i["continue"]()}}else i["continue"]()}else t&&t()}}function c(e){var t=e.createObjectStore(Fo,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function f(e,t){var n=e.objectStore(No),r=e.objectStore(Mo),o=e.objectStore(Fo),i=r.count();i.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,u=Object.keys(r._attachments||{}),a={},c=0;c<u.length;c++){var s=r._attachments[u[c]];a[s.digest]=!0}var f=Object.keys(a);for(c=0;c<f.length;c++){var l=f[c];o.put({seq:i,digestSeq:l+"::"+i})}n["continue"]()}):t()}}function d(e){function t(e){return e.data?lt(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(No),r=e.objectStore(Lo),o=r.openCursor();o.onsuccess=function(e){function o(){var e=a.id+"::",t=a.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),o=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=o,i();var n=t.primaryKey;n>o&&(o=n),t["continue"]()}}function i(){var e=ft(a,a.winningRev,a.deleted),t=r.put(e);t.onsuccess=function(){u["continue"]()}}var u=e.target.result;if(u){var a=t(u.value);return a.winningRev=a.winningRev||K(a),a.seq?i():void o()}}}var h=n.name,p=null;e._meta=null,e.type=function(){return"idb"},e._id=l(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(t,r,o){_t(n,t,r,e,p,Wo,o)},e._get=function(e,t,n){function r(){n(u,{doc:o,metadata:i,ctx:a})}var o,i,u,a=t.ctx;if(!a){var c=gt(p,[Lo,No,Mo],"readonly");if(c.error)return n(c.error);a=c.txn}a.objectStore(Lo).get(e).onsuccess=function(e){if(i=lt(e.target.result),!i)return u=S(ro,"missing"),r();if(se(i)&&!t.rev)return u=S(ro,"deleted"),r();var n=a.objectStore(No),c=t.rev||i.winningRev,s=i.id+"::"+c;n.index("_doc_id_rev").get(s).onsuccess=function(e){return o=e.target.result,o&&(o=dt(o)),o?void r():(u=S(ro,"missing"),r())}}},e._getAttachment=function(e,t,n,r,o){var i;if(r.ctx)i=r.ctx;else{var u=gt(p,[Lo,No,Mo],"readonly");if(u.error)return o(u.error);i=u.txn}var a=n.digest,c=n.content_type;
i.objectStore(Mo).get(a).onsuccess=function(e){var t=e.target.result.body;ht(t,c,r.binary,function(e){o(null,e)})}},e._info=function(t){if(null===p||!zo.has(h)){var n=new Error("db isn't open");return n.id="idbNull",t(n)}var r,o,i=gt(p,[No],"readonly");if(i.error)return t(i.error);var u=i.txn,a=u.objectStore(No).openCursor(null,"prev");a.onsuccess=function(t){var n=t.target.result;r=n?n.key:0,o=e._meta.docCount},u.oncomplete=function(){t(null,{doc_count:o,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(t,n){wt(t,e,p,n)},e._changes=function(t){function n(e){function n(){return s.seq!==u?e["continue"]():(c=u,s.winningRev===i._rev?o(i):void r())}function r(){var e=i._id+"::"+s.winningRev,t=g.get(e);t.onsuccess=function(e){o(dt(e.target.result))}}function o(n){var r=t.processChange(n,s,t);r.seq=s.seq;var o=b(r);return"object"==typeof o?t.complete(o):(o&&(m++,l&&_.push(r),t.attachments&&t.include_docs?pt(n,t,d,function(){vt([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r)),void(m!==f&&e["continue"]()))}var i=dt(e.value),u=e.key;if(a&&!a.has(i._id))return e["continue"]();var s;return(s=w.get(i._id))?n():void(y.get(i._id).onsuccess=function(e){s=lt(e.target.result),w.set(i._id,s),n()})}function r(e){var t=e.target.result;t&&n(t)}function o(){var e=[Lo,No];t.attachments&&e.push(Mo);var n=gt(p,e,"readonly");if(n.error)return t.complete(n.error);d=n.txn,d.onabort=st(t.complete),d.oncomplete=i,v=d.objectStore(No),y=d.objectStore(Lo),g=v.index("_doc_id_rev");var o;o=t.descending?v.openCursor(null,"prev"):v.openCursor(IDBKeyRange.lowerBound(t.since,!0)),o.onsuccess=r}function i(){function e(){t.complete(null,{results:_,last_seq:c})}!t.continuous&&t.attachments?vt(_).then(e):e()}if(t=s(t),t.continuous){var u=h+":"+$();return Wo.addListener(h,u,e,t),Wo.notify(h),{cancel:function(){Wo.removeListener(h,u)}}}var a=t.doc_ids&&new W(t.doc_ids);t.since=t.since||0;var c=t.since,f="limit"in t?t.limit:-1;0===f&&(f=1);var l;l="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var d,v,y,g,_=[],m=0,b=T(t),w=new z;o()},e._close=function(e){return null===p?e(S(co)):(p.close(),zo["delete"](h),p=null,void e())},e._getRevisionTree=function(e,t){var n=gt(p,[Lo],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(Lo).get(e);o.onsuccess=function(e){var n=lt(e.target.result);n?t(null,n.rev_tree):t(S(ro))}},e._doCompaction=function(e,t,n){var r=[Lo,No,Mo,Fo],o=gt(p,r,"readwrite");if(o.error)return n(o.error);var i=o.txn,u=i.objectStore(Lo);u.get(e).onsuccess=function(n){var r=lt(n.target.result);H(r.rev_tree,function(e,n,r,o,i){var u=n+"-"+r;t.indexOf(u)!==-1&&(i.status="missing")}),yt(t,e,i);var o=r.winningRev,u=r.deleted;i.objectStore(Lo).put(ft(r,o,u))},i.onabort=st(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=gt(p,[$o],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore($o).get(e);o.onerror=st(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(S(ro))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;r?e._rev="0-"+(parseInt(r.split("-")[1],10)+1):e._rev="0-1";var i,u=t.ctx;if(!u){var a=gt(p,[$o],"readwrite");if(a.error)return n(a.error);u=a.txn,u.onerror=st(n),u.oncomplete=function(){i&&n(null,i)}}var c,s=u.objectStore($o);r?(c=s.get(o),c.onsuccess=function(o){var u=o.target.result;if(u&&u._rev===r){var a=s.put(e);a.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(S(oo))}):(c=s.add(e),c.onerror=function(e){n(S(oo)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var o=gt(p,[$o],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,u=e._id,a=r.objectStore($o),c=a.get(u);c.onerror=st(n),c.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(a["delete"](u),i={ok:!0,id:u,rev:"0-0"},t.ctx&&n(null,i)):n(S(ro))}},e._destroy=function(e,t){Wo.removeAllListeners(h);var n=Ko.get(h);n&&n.result&&(n.result.close(),zo["delete"](h));var r=indexedDB.deleteDatabase(h);r.onsuccess=function(){Ko["delete"](h),_()&&h in localStorage&&delete localStorage[h],t(null,{ok:!0})},r.onerror=st(t)};var v=zo.get(h);if(v)return p=v.idb,e._meta=v.global,void t.nextTick(function(){r(null,e)});var y;y=n.storage?jt(h,n.storage):indexedDB.open(h,Ro),Ko.set(h,y),y.onupgradeneeded=function(e){function t(){var e=s[l-1];l++,e&&e(r,t)}var n=e.target.result;if(e.oldVersion<1)return o(n);var r=e.currentTarget.transaction;e.oldVersion<3&&u(n),e.oldVersion<4&&c(n);var s=[i,a,f,d],l=e.oldVersion;t()},y.onsuccess=function(t){p=t.target.result,p.onversionchange=function(){p.close(),zo["delete"](h)},p.onabort=function(e){w("error","Database has a global failure",e.target.error),p.close(),zo["delete"](h)};var n=p.transaction([Bo,Po,Lo],"readwrite"),o=n.objectStore(Bo).get(Bo),i=null,u=null,a=null;o.onsuccess=function(t){var o=function(){null!==i&&null!==u&&null!==a&&(e._meta={name:h,instanceId:a,blobSupport:i,docCount:u},zo.set(h,{idb:p,global:e._meta}),r(null,e))},c=t.target.result||{id:Bo};h+"_id"in c?(a=c[h+"_id"],o()):(a=$(),c[h+"_id"]=a,n.objectStore(Bo).put(c).onsuccess=function(){o()}),So||(So=kt(n)),So.then(function(e){i=e,o()});var s=n.objectStore(Lo).index("deletedOrLocal");s.count(IDBKeyRange.only("0")).onsuccess=function(e){u=e.target.result,o()}}},y.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";w("error",e),r(S(yo,e))}}function jt(e,t){try{return indexedDB.open(e,{version:Ro,storage:t})}catch(n){return indexedDB.open(e,Ro)}}function At(e){e.adapter("idb",xt,!0)}function St(e){return decodeURIComponent(escape(e))}function Ot(e){return e<65?e-48:e-55}function qt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Ot(e.charCodeAt(t++))<<4|Ot(e.charCodeAt(t++)));return r}function Tt(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(Ot(e.charCodeAt(t+2))<<12|Ot(e.charCodeAt(t+3))<<8|Ot(e.charCodeAt(t))<<4|Ot(e.charCodeAt(t+1))),t+=4;return r}function Dt(e,t){return"UTF-8"===t?St(qt(e,0,e.length)):Tt(e,0,e.length)}function Ct(e){return"'"+e+"'"}function It(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Rt(e){return e.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Lt(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Nt(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Mt(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Ft(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Bt(e,t,n){function r(){++i===e.length&&o()}function o(){if(u.length){var e="SELECT DISTINCT digest AS digest FROM "+Qo+" WHERE seq IN "+Mt(u.length);n.executeSql(e,u,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+Qo+" WHERE seq IN ("+u.map(function(){return"?"}).join(",")+")";e.executeSql(o,u,function(e){var t="SELECT digest FROM "+Qo+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new W,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+Qo+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+Yo+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,u=[];e.forEach(function(e){var o="SELECT seq FROM "+Jo+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;u.push(n),e.executeSql("DELETE FROM "+Jo+" WHERE seq=?",[n],r)})})}}function $t(e){return function(t){w("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(S(go,o,r))}}function Pt(e){if("size"in e)return 1e6*e.size;var t="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return t?5e6:1}function Ut(e,t,n,r,o,i,u){function a(){return m?u(m):(i.notify(r._name),r._docCount=-1,void u(null,b))}function c(e,t){var n="SELECT count(*) as cnt FROM "+Yo+" WHERE digest=?";_.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var o=S(mo,"unknown stub attachment with digest "+e);t(o)}else t()})}function s(e){function t(){++o===n.length&&e(r)}var n=[];if(y.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){c(e,function(e){e&&!r&&(r=e),t()})})}function f(e,t,n,o,i,u,a,c){function s(){function t(e,t){function r(){return++i===u.length&&t(),!1}function o(t){var o="INSERT INTO "+Qo+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];_.executeSql(o,i,r,r)}var i=0,u=Object.keys(n._attachments||{});if(!u.length)return t();for(var a=0;a<u.length;a++)o(u[a])}var n=e.data,r=o?1:0,i=n._id,u=n._rev,a=Lt(n),c="INSERT INTO "+Jo+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",s=[i,u,a,r];_.executeSql(c,s,function(e,n){var r=n.insertId;t(r,function(){d(e,r)})},function(){var e=Ft("seq",Jo,null,"doc_id=? AND rev=?");return _.executeSql(e,[i,u],function(e,n){var o=n.rows.item(0).seq,c="UPDATE "+Jo+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",s=[a,r,i,u];e.executeSql(c,s,function(e){t(o,function(){d(e,o)})})}),!1})}function f(e){p||(e?(p=e,c(p)):v===y.length&&s())}function l(e){v++,f(e)}function d(n,o){var u=e.metadata.id,s=e.stemmedRevs||[];i&&r.auto_compaction&&(s=G(e.metadata).concat(s)),s.length&&Bt(s,u,n),e.metadata.seq=o,delete e.metadata.rev;var f=i?"UPDATE "+Vo+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Jo+" WHERE doc_id="+Vo+".id AND rev=?) WHERE id=?":"INSERT INTO "+Vo+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",l=ut(e.metadata),d=i?[l,o,t,u]:[u,o,o,l];n.executeSql(f,d,function(){b[a]={ok:!0,id:e.metadata.id,rev:t},w.set(u,e.metadata),c()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var y=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),y.forEach(function(n){var r=e.data._attachments[n];if(r.stub)v++,f();else{var o=r.data;delete r.data,r.revpos=parseInt(t,10);var i=r.digest;h(i,o,l)}}),y.length||s()}function l(){rt(e.revs_limit,y,r,w,_,b,f,n)}function d(e){function t(){++n===y.length&&e()}if(!y.length)return e();var n=0;y.forEach(function(e){if(e._id&&fe(e._id))return t();var n=e.metadata.id;_.executeSql("SELECT json FROM "+Vo+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var o=it(r.rows.item(0).json);w.set(n,o)}t()})})}function h(e,t,n){var r="SELECT digest FROM "+Yo+" WHERE digest=?";_.executeSql(r,[e],function(o,i){return i.rows.length?n():(r="INSERT INTO "+Yo+" (digest, body, escaped) VALUES (?,?,1)",void o.executeSql(r,[e,It(t)],function(){n()},function(){return n(),!1}))})}var p=n.new_edits,v=t.docs,y=v.map(function(e){if(e._id&&fe(e._id))return e;var t=Re(e,p);return t}),g=y.filter(function(e){return e.error});if(g.length)return u(g[0]);var _,m,b=new Array(y.length),w=new z;et(y,"binary",function(e){return e?u(e):void o.transaction(function(e){_=e,s(function(e){e?m=e:d(l)})},$t(u),a)})}function zt(e){return e.websql(e.name,e.version,e.description,e.size)}function Wt(e){try{return{db:zt(e)}}catch(t){return{error:t}}}function Kt(e){var t=Zo.get(e.name);return t||(t=Wt(e),Zo.set(e.name,t)),t}function Ht(e,t,n,r,o){function i(){++c===a.length&&o&&o()}function u(e,o){var u=e._attachments[o],a={binary:t.binary,ctx:r};n._getAttachment(e._id,o,u,a,function(t,n){e._attachments[o]=j(h(u,["digest","content_type"]),{data:n}),i()})}var a=Object.keys(e._attachments||{});if(!a.length)return o&&o();var c=0;a.forEach(function(n){t.attachments&&t.include_docs?u(e,n):(e._attachments[n].stub=!0,i())})}function Vt(e,t){function n(){_()&&(window.localStorage["_pouch__websqldb_"+m._name]=!0),t(null,m)}function r(e,t){e.executeSql(oi),e.executeSql("ALTER TABLE "+Jo+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(ni),e.executeSql("ALTER TABLE "+Vo+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Vo+" (local, id)");var n="SELECT "+Vo+".winningseq AS seq, "+Vo+".json AS metadata FROM "+Jo+" JOIN "+Vo+" ON "+Jo+".seq = "+Vo+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var u=n.rows.item(i),a=u.seq,c=JSON.parse(u.metadata);se(c)&&r.push(a),fe(c.id)&&o.push(c.id)}e.executeSql("UPDATE "+Vo+"SET local = 1 WHERE id IN "+Mt(o.length),o,function(){e.executeSql("UPDATE "+Jo+" SET deleted = 1 WHERE seq IN "+Mt(r.length),r,t)})})})})}function o(e,t){var n="CREATE TABLE IF NOT EXISTS "+Go+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+Vo+".id AS id, "+Jo+".json AS data FROM "+Jo+" JOIN "+Vo+" ON "+Jo+".seq = "+Vo+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+Go+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+Vo+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+Jo+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=Dt(o.hex,g),u=i.lastIndexOf("::"),a=i.substring(0,u),c=i.substring(u+2),s="UPDATE "+Jo+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(s,[a,c,i],function(){r()})}r()}var r="ALTER TABLE "+Jo+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+Jo+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(ri,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+Jo;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function u(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+Yo;e.executeSql(n,[],function(e,n){function r(){var n=Ft(ci+", "+Vo+".id AS id",[Vo,Jo],ai,null,Vo+".id ");n+=" LIMIT "+u+" OFFSET "+i,i+=u,e.executeSql(n,[],function(e,n){function o(e,t){var n=i[e]=i[e]||[];n.indexOf(t)===-1&&n.push(t)}if(!n.rows.length)return t(e);for(var i={},u=0;u<n.rows.length;u++)for(var a=n.rows.item(u),c=Nt(a.data,a.id,a.rev),s=Object.keys(c._attachments||{}),f=0;f<s.length;f++){var l=c._attachments[s[f]];o(l.digest,a.seq)}var d=[];if(Object.keys(i).forEach(function(e){var t=i[e];t.forEach(function(t){d.push([e,t])})}),!d.length)return r();var h=0;d.forEach(function(t){var n="INSERT INTO "+Qo+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++h===d.length&&r()})})})}var o=n.rows.item(0).cnt;if(!o)return t(e);var i=0,u=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+Qo+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(ui,[],function(e){e.executeSql(ii,[],n)})})}function a(e,t){var n="ALTER TABLE "+Yo+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function c(e,t){var n="ALTER TABLE "+Vo+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+Vo+" SET max_seq=(SELECT MAX(seq) FROM "+Jo+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Vo+" (max_seq)";e.executeSql(n,[],t)})})}function f(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;g=2===r.length?"UTF-8":"UTF-16",t()})}function d(){for(;k.length>0;){var e=k.pop();e(null,b)}}function h(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+Xo+" (dbid, db_version INTEGER)",s="CREATE TABLE IF NOT EXISTS "+Yo+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",f="CREATE TABLE IF NOT EXISTS "+Qo+" (digest, seq INTEGER)",l="CREATE TABLE IF NOT EXISTS "+Vo+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",h="CREATE TABLE IF NOT EXISTS "+Jo+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Go+" (id UNIQUE, rev, json)";e.executeSql(s),e.executeSql(p),e.executeSql(f,[],function(){e.executeSql(ii),e.executeSql(ui)}),e.executeSql(l,[],function(){e.executeSql(oi),e.executeSql(h,[],function(){e.executeSql(ni),e.executeSql(ri),e.executeSql(n,[],function(){var t="INSERT INTO "+Xo+" (db_version, dbid) VALUES (?,?)";b=$();var n=[Ho,b];e.executeSql(t,n,function(){d()})})})})}else{var v=function(){var n=t<Ho;n&&e.executeSql("UPDATE "+Xo+" SET db_version = "+Ho);var r="SELECT dbid FROM "+Xo;e.executeSql(r,[],function(e,t){b=t.rows.item(0).dbid,d()})},y=[r,o,i,u,a,c,v],g=t,_=function(e){y[g-1](e,_),g++};_(e)}}function p(){A.transaction(function(e){f(e,function(){v(e)})},$t(t),n)}function v(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+Xo;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+Xo,[],function(e,t){var n=t.rows.item(0).db_version;h(e,n)}):e.executeSql("ALTER TABLE "+Xo+" ADD COLUMN db_version INTEGER",[],function(){h(e,1)}):h(e,0)})}function y(e,t){if(m._docCount!==-1)return t(m._docCount);var n=Ft("COUNT("+Vo+".id) AS 'num'",[Vo,Jo],ai,Jo+".deleted=0");e.executeSql(n,[],function(e,n){m._docCount=n.rows.item(0).num,t(m._docCount)})}var g,m=this,b=null,w=Pt(e),k=[];m._docCount=-1,m._name=e.name;var x=j({},e,{version:ti,description:e.name,size:w}),E=Kt(x);if(E.error)return $t(t)(E.error);var A=E.db;"function"!=typeof A.readTransaction&&(A.readTransaction=A.transaction),p(),m.type=function(){return"websql"},m._id=l(function(e){e(null,b)}),m._info=function(e){A.readTransaction(function(t){y(t,function(n){var r="SELECT MAX(seq) AS seq FROM "+Jo;t.executeSql(r,[],function(t,r){var o=r.rows.item(0).seq||0;e(null,{doc_count:n,update_seq:o,websql_encoding:g})})})},$t(e))},m._bulkDocs=function(t,n,r){Ut(e,t,n,m,A,ei,r)},m._get=function(e,t,n){function r(){n(u,{doc:o,metadata:i,ctx:a})}var o,i,u,a=t.ctx;if(!a)return A.readTransaction(function(r){m._get(e,j({ctx:r},t),n)});var c,s;t.rev?(c=Ft(ci,[Vo,Jo],Vo+".id="+Jo+".doc_id",[Jo+".doc_id=?",Jo+".rev=?"]),s=[e,t.rev]):(c=Ft(ci,[Vo,Jo],ai,Vo+".id=?"),s=[e]),a.executeSql(c,s,function(e,n){if(!n.rows.length)return u=S(ro,"missing"),r();var a=n.rows.item(0);return i=it(a.metadata),a.deleted&&!t.rev?(u=S(ro,"deleted"),r()):(o=Nt(a.data,i.id,a.rev),void r())})},m._allDocs=function(e,t){var n,r=[],o="startkey"in e&&e.startkey,i="endkey"in e&&e.endkey,u="key"in e&&e.key,a="descending"in e&&e.descending,c="limit"in e?e.limit:-1,s="skip"in e?e.skip:0,f=e.inclusive_end!==!1,l=[],d=[];if(u!==!1)d.push(Vo+".id = ?"),l.push(u);else if(o!==!1||i!==!1){if(o!==!1&&(d.push(Vo+".id "+(a?"<=":">=")+" ?"),l.push(o)),i!==!1){var h=a?">":"<";f&&(h+="="),d.push(Vo+".id "+h+" ?"),l.push(i)}u!==!1&&(d.push(Vo+".id = ?"),l.push(u))}"ok"!==e.deleted&&d.push(Jo+".deleted = 0"),A.readTransaction(function(t){y(t,function(o){if(n=o,0!==c){var i=Ft(ci,[Vo,Jo],ai,d,Vo+".id "+(a?"DESC":"ASC"));i+=" LIMIT "+c+" OFFSET "+s,t.executeSql(i,l,function(t,n){for(var o=0,i=n.rows.length;o<i;o++){var u=n.rows.item(o),a=it(u.metadata),c=a.id,s=Nt(u.data,c,u.rev),f=s._rev,l={id:c,key:c,value:{rev:f}};if(e.include_docs&&(l.doc=s,l.doc._rev=f,e.conflicts&&(l.doc._conflicts=Y(a)),Ht(l.doc,e,m,t)),u.deleted){if("ok"!==e.deleted)continue;l.value.deleted=!0,l.doc=null}r.push(l)}})}})},$t(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},m._changes=function(e){function t(){var t=Vo+".json AS metadata, "+Vo+".max_seq AS maxSeq, "+Jo+".json AS winningDoc, "+Jo+".rev AS winningRev ",n=Vo+" JOIN "+Jo,c=Vo+".id="+Jo+".doc_id AND "+Vo+".winningseq="+Jo+".seq",s=["maxSeq > ?"],f=[e.since];e.doc_ids&&(s.push(Vo+".id IN "+Mt(e.doc_ids.length)),f=f.concat(e.doc_ids));var l="maxSeq "+(r?"DESC":"ASC"),d=Ft(t,n,c,s,l),h=T(e);e.view||e.filter||(d+=" LIMIT "+o);var p=e.since||0;A.readTransaction(function(t){t.executeSql(d,f,function(t,n){function r(t){return function(){e.onChange(t)}}for(var c=0,s=n.rows.length;c<s;c++){var f=n.rows.item(c),l=it(f.metadata);p=f.maxSeq;var d=Nt(f.winningDoc,l.id,f.winningRev),v=e.processChange(d,l,e);v.seq=f.maxSeq;var y=h(v);if("object"==typeof y)return e.complete(y);if(y&&(a++,i&&u.push(v),e.attachments&&e.include_docs?Ht(d,e,m,t,r(v)):r(v)()),a===o)break}})},$t(e.complete),function(){e.continuous||e.complete(null,{results:u,last_seq:p})})}if(e=s(e),e.continuous){var n=m._name+":"+$();return ei.addListener(m._name,n,m,e),ei.notify(m._name),{cancel:function(){ei.removeListener(m._name,n)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var o="limit"in e?e.limit:-1;0===o&&(o=1);var i;i="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var u=[],a=0;t()},m._close=function(e){e()},m._getAttachment=function(e,t,n,r,o){var i,u=r.ctx,a=n.digest,c=n.content_type,s="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Yo+" WHERE digest=?";u.executeSql(s,[a],function(e,t){var n=t.rows.item(0),u=n.escaped?Rt(n.body):Dt(n.body,g);i=r.binary?Me(u,c):Do(u),o(null,i)})},m._getRevisionTree=function(e,t){A.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Vo+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=it(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(S(ro))})})},m._doCompaction=function(e,t,n){return t.length?void A.transaction(function(n){var r="SELECT json AS metadata FROM "+Vo+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var o=it(r.rows.item(0).metadata);H(o.rev_tree,function(e,n,r,o,i){var u=n+"-"+r;t.indexOf(u)!==-1&&(i.status="missing")});var i="UPDATE "+Vo+" SET json = ? WHERE id = ?";n.executeSql(i,[ut(o),e])}),Bt(t,e,n)},$t(n),function(){n()}):n()},m._getLocal=function(e,t){A.readTransaction(function(n){var r="SELECT json, rev FROM "+Go+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Nt(o.json,e,o.rev);t(null,i)}else t(S(ro))})})},m._putLocal=function(e,t,n){function r(e){var r,s;i?(r="UPDATE "+Go+" SET rev=?, json=? WHERE id=? AND rev=?",s=[o,c,u,i]):(r="INSERT INTO "+Go+" (id, rev, json) VALUES (?,?,?)",s=[u,o,c]),e.executeSql(r,s,function(e,r){r.rowsAffected?(a={ok:!0,id:u,rev:o},t.ctx&&n(null,a)):n(S(oo))},function(){return n(S(oo)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,u=e._id;o=i?e._rev="0-"+(parseInt(i.split("-")[1],10)+1):e._rev="0-1";var a,c=Lt(e);t.ctx?r(t.ctx):A.transaction(r,$t(n),function(){a&&n(null,a)})},m._removeLocal=function(e,t,n){function r(r){var i="DELETE FROM "+Go+" WHERE id=? AND rev=?",u=[e._id,e._rev];r.executeSql(i,u,function(r,i){return i.rowsAffected?(o={ok:!0,id:e._id,rev:"0-0"},void(t.ctx&&n(null,o))):n(S(ro))})}"function"==typeof t&&(n=t,t={});var o;t.ctx?r(t.ctx):A.transaction(r,$t(n),function(){o&&n(null,o)})},m._destroy=function(e,t){ei.removeAllListeners(m._name),A.transaction(function(e){var t=[Vo,Jo,Yo,Xo,Go,Qo];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},$t(t),function(){_()&&(delete window.localStorage["_pouch__websqldb_"+m._name],delete window.localStorage[m._name]),t(null,{ok:!0})})}}function Jt(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(e){return!1}}function Yt(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var e=_(),t="_pouch__websqldb_valid_"+navigator.userAgent;if(e&&localStorage[t])return"1"===localStorage[t];var n=Jt();return e&&(localStorage[t]=n?"1":"0"),n}function Gt(){return"function"==typeof openDatabase&&Yt()}function Xt(e,t,n,r){return openDatabase(e,t,n,r)}function Qt(e,t){var n=j({websql:Xt},e);Vt.call(this,n,t)}function Zt(e){e.adapter("websql",Qt,!0)}function en(){for(var e={},t=new Jr(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,Jr.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)})["catch"](function(t){e.reject(t)}),e}function tn(e,t){var n,r,o,i=new Headers,u={method:e.method,credentials:"include",headers:i};return e.json&&(i.set("Accept","application/json"),i.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.body instanceof Blob?ze(e.body,function(e){u.body=e}):e.body&&e.processData&&"string"!=typeof e.body?u.body=JSON.stringify(e.body):"body"in e?u.body=e.body:u.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&i.set(t,e.headers[t])}),n=en(e.url,u),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return o={statusCode:t.status},e.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){o.statusCode>=200&&o.statusCode<300?t(null,o,e):t(e,o)})["catch"](function(e){t(e,o)}),{abort:n.reject}}function nn(e,t){var n,r,o=!1,i=function(){n.abort(),c()},u=function(){o=!0,n.abort(),c()},a={abort:i},c=function(){clearTimeout(r),a.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(s){return t(new Error(s.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in e)||e.withCredentials,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var f in e.headers)e.headers.hasOwnProperty(f)&&n.setRequestHeader(f,e.headers[f]);return e.timeout>0&&(r=setTimeout(u,e.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(u,e.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?Le([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var u={};if(o)u=new Error("ETIMEDOUT"),u.code="ETIMEDOUT";else if("string"==typeof n.response)try{u=JSON.parse(n.response)}catch(a){}u.status=n.status,t(u)}c()}},e.body&&e.body instanceof Blob?ze(e.body,function(e){n.send(e)}):n.send(e.body),a}function rn(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function on(e,t){return si||e.xhr?nn(e,t):tn(e,t)}function un(){return""}function an(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(o){return r(o)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?O(e):e})),e.binary&&fi(t,n),r(null,t,n)}e=s(e);var r={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=j(r,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),on(e,function(r,o,i){if(r)return t(O(r));var u,a=o.headers&&o.headers["content-type"],c=i||un();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof c&&(/json/.test(a)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(s){}o.statusCode>=200&&o.statusCode<300?n(c,o,t):(u=O(c),u.status=o.statusCode,t(u))})}function cn(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,o=n.indexOf("msie")!==-1,i=n.indexOf("edge")!==-1,u=r||(o||i)&&"GET"===e.method,a=!("cache"in e)||e.cache,c=/^blob:/.test(e.url);if(!c&&(u||!a)){var s=e.url.indexOf("?")!==-1;e.url+=(s?"&":"?")+"_nonce="+Date.now()}return an(e,t)}function sn(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=Fe(n.data,n.content_type)})}function fn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function ln(e){return e._attachments&&Object.keys(e._attachments)?Jr.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Jr(function(e){Ue(n.data,e)}).then(function(e){n.data=e})})):Jr.resolve()}function dn(e){if(!e.prefix)return!1;var t=N(e.prefix).protocol;return"http"===t||"https"===t}function hn(e,t){if(dn(t)){var n=t.name.substr(t.prefix.length);e=t.prefix+encodeURIComponent(n)}var r=N(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function pn(e,t){return vn(e,e.db+"/"+t)}function vn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function yn(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function gn(e,t){function n(e,t,n){var r=e.ajax||{},o=j(s(l),r,t);return pi(o.method+" "+o.url),a._ajax(o,n)}function r(e,t){return new Jr(function(r,o){n(e,t,function(e,t){return e?o(e):void r(t)})})}function o(e,t){return d(e,$r(function(e){i().then(function(){return t.apply(this,e)})["catch"](function(t){var n=e.pop();n(t)})}))}function i(){if(e.skipSetup||e.skip_setup)return Jr.resolve();if(_)return _;var t={method:"GET",url:f};return _=r({},t)["catch"](function(e){return e&&e.status&&404===e.status?(E(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:f})):Jr.reject(e)})["catch"](function(e){return!(!e||!e.status||412!==e.status)||Jr.reject(e)}),_["catch"](function(){_=null}),_}function u(e){return e.split("/").map(encodeURIComponent).join("/")}var a=this,c=hn(e.name,e),f=pn(c,"");e=s(e);var l=e.ajax||{};if(e.auth||c.auth){var p=e.auth||c.auth,v=p.username+":"+p.password,g=Do(unescape(encodeURIComponent(v)));l.headers=l.headers||{},l.headers.Authorization="Basic "+g}a._ajax=cn;var _;setTimeout(function(){t(null,a)}),a.type=function(){return"http"},a.id=o("id",function(e){n({},{method:"GET",url:vn(c,"")},function(t,n){var r=n&&n.uuid?n.uuid+c.db:pn(c,"");e(null,r)})}),a.request=o("request",function(e,t){e.url=pn(c,e.url),n({},e,t)}),a.compact=o("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e),n(e,{url:pn(c,"_compact"),method:"POST"},function(){function n(){a.info(function(r,o){o&&!o.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),a.bulkGet=d("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),n({},{url:pn(c,"_bulk_get"+yn(r)),method:"POST",body:{docs:e.docs}},t)}function o(){function n(e){return function(n,r){a[e]=r.results,++u===o&&t(null,{results:D(a)})}}for(var r=di,o=Math.ceil(e.docs.length/r),u=0,a=new Array(o),c=0;c<o;c++){var s=h(e,["revs","attachments"]);s.ajax=l,s.docs=e.docs.slice(c*r,Math.min(e.docs.length,(c+1)*r)),y(i,s,n(c))}}var i=this,u=vn(c,""),a=hi[u];"boolean"!=typeof a?r(function(e,n){if(e){var r=Math.floor(e.status/100);4===r||5===r?(hi[u]=!1,E(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):t(e)}else hi[u]=!0,t(null,n)}):a?r(t):o()}),a._info=function(e){i().then(function(){n({},{method:"GET",url:pn(c,"")},function(t,n){return t?e(t):(n.host=pn(c,""),void e(null,n))})})["catch"](e)},a.get=o("get",function(e,t,n){function o(e){function n(){if(!i.length)return null;var n=i.pop(),a=o[n],s=fn(e._id)+"/"+u(n)+"?rev="+e._rev;return r(t,{method:"GET",url:pn(c,s),binary:!0}).then(function(e){return t.binary?e:new Jr(function(t){Ue(e,t)})}).then(function(e){delete a.stub,delete a.length,a.data=e})}var o=e._attachments,i=o&&Object.keys(o);if(o&&i.length)return new Vr(n,5,{promise:Jr}).start()}function i(e){return Array.isArray(e)?Jr.all(e.map(function(e){if(e.ok)return o(e.ok)})):o(e)}"function"==typeof t&&(n=t,t={}),t=s(t);var a={};
t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=fn(e);var f={method:"GET",url:pn(c,e+yn(a))};r(t,f).then(function(e){return Jr.resolve().then(function(){if(t.attachments)return i(e)}).then(function(){n(null,e)})})["catch"](n)}),a.remove=o("remove",function(e,t,r,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(o=r,r={})):(i=e,"function"==typeof t?(o=t,r={}):(o=r,r=t));var u=i._rev||r.rev;n(r,{method:"DELETE",url:pn(c,fn(i._id))+"?rev="+u},o)}),a.getAttachment=o("getAttachment",function(e,t,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"",a=pn(c,fn(e))+"/"+u(t)+i;n(r,{method:"GET",url:a,binary:!0},o)}),a.removeAttachment=o("removeAttachment",function(e,t,r,o){var i=pn(c,fn(e)+"/"+u(t))+"?rev="+r;n({},{method:"DELETE",url:i},o)}),a.putAttachment=o("putAttachment",function(e,t,r,o,i,a){"function"==typeof i&&(a=i,i=o,o=r,r=null);var s=fn(e)+"/"+u(t),f=pn(c,s);if(r&&(f+="?rev="+r),"string"==typeof o){var d;try{d=To(o)}catch(h){return a(S(fo,"Attachment is not a valid base64 string"))}o=d?Me(d,i):""}var p={headers:{"Content-Type":i},method:"PUT",url:f,processData:!1,body:o,timeout:l.timeout||6e4};n({},p,a)}),a._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,i().then(function(){return Jr.all(e.docs.map(ln))}).then(function(){n(t,{method:"POST",url:pn(c,"_bulk_docs"),timeout:t.timeout,body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})})["catch"](r)},a._put=function(e,t,r){i().then(function(){return ln(e)}).then(function(){n(t,{method:"PUT",url:pn(c,fn(e._id)),body:e},function(e,t){return e?r(e):void r(null,t)})})["catch"](r)},a.allDocs=o("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=s(e);var n,o={},i="GET";e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),e.include_docs&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.key&&(o.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(o.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(o.endkey=JSON.stringify(e.endkey)),"undefined"!=typeof e.inclusive_end&&(o.inclusive_end=!!e.inclusive_end),"undefined"!=typeof e.limit&&(o.limit=e.limit),"undefined"!=typeof e.skip&&(o.skip=e.skip);var u=yn(o);"undefined"!=typeof e.keys&&(i="POST",n={keys:e.keys}),r(e,{method:i,url:pn(c,"_all_docs"+u),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(sn),t(null,n)})["catch"](t)}),a._changes=function(e){var t="batch_size"in e?e.batch_size:li;e=s(e),e.timeout="timeout"in e?e.timeout:"timeout"in l?l.timeout:3e4;var r,o=e.timeout?{timeout:e.timeout-5e3}:{},u="undefined"!=typeof e.limit&&e.limit;r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=u;if(e.style&&(o.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(o.include_docs=!0),e.attachments&&(o.attachments=!0),e.continuous&&(o.feed="longpoll"),e.conflicts&&(o.conflicts=!0),e.descending&&(o.descending=!0),"heartbeat"in e?e.heartbeat&&(o.heartbeat=e.heartbeat):o.heartbeat=1e4,e.filter&&"string"==typeof e.filter&&(o.filter=e.filter),e.view&&"string"==typeof e.view&&(o.filter="_view",o.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var f in e.query_params)e.query_params.hasOwnProperty(f)&&(o[f]=e.query_params[f]);var d,h="GET";e.doc_ids&&(o.filter="_doc_ids",h="POST",d={doc_ids:e.doc_ids});var p,v,y=function(r,s){if(!e.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),e.descending?u&&(o.limit=a):o.limit=!u||a>t?t:a;var f={method:h,url:pn(c,"_changes"+yn(o)),timeout:e.timeout,body:d};v=r,e.aborted||i().then(function(){p=n(e,f,s)})["catch"](s)}},g={results:[]},_=function(n,o){if(!e.aborted){var i=0;if(o&&o.results){i=o.results.length,g.last_seq=o.last_seq;var c={};c.query=e.query_params,o.results=o.results.filter(function(t){a--;var n=T(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&sn(t),r&&g.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);o&&o.last_seq&&(v=o.last_seq);var s=u&&a<=0||o&&i<t||e.descending;(!e.continuous||u&&a<=0)&&s?e.complete(null,g):setTimeout(function(){y(v,_)},0)}};return y(e.since||0,_),{cancel:function(){e.aborted=!0,p&&p.abort()}}},a.revsDiff=o("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:pn(c,"_revs_diff"),body:e},r)}),a._close=function(e){e()},a._destroy=function(e,t){n(e,{url:pn(c,""),method:"DELETE"},function(e,n){return e&&e.status&&404!==e.status?t(e):void t(null,n)})}}function _n(e){e.adapter("http",gn,!1),e.adapter("https",gn,!1)}function mn(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}function bn(e,t,n){var r=mn(e,t,n);return r+e}function wn(e,t){if(e===t)return 0;e=kn(e),t=kn(t);var n=Dn(e),r=Dn(t);if(n-r!==0)return n-r;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:e<t?-1:1;case"string":return qn(e,t)}return Array.isArray(e)?On(e,t):Tn(e,t)}function kn(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=kn(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];"undefined"!=typeof i&&(e[o]=kn(i))}}}}return e}function xn(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return Cn(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,o=n.length,i="";if(t)for(;++r<o;)i+=En(n[r]);else for(;++r<o;){var u=n[r];i+=En(u)+En(e[u])}return i}return""}function En(e){var t="\0";return e=kn(e),Dn(e)+gi+xn(e)+t}function jn(e,t){var n,r=t,o="1"===e[t];if(o)n=0,t++;else{var i="0"===e[t];t++;var u="",a=e.substring(t,t+yi),c=parseInt(a,10)+vi;for(i&&(c=-c),t+=yi;;){var s=e[t];if("\0"===s)break;u+=s,t++}u=u.split("."),n=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),i&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:t-r}}function An(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var u=e.pop();o[u]=n}else e.push(n)}}function Sn(e){for(var t=[],n=[],r=0;;){var o=e[r++];if("\0"!==o)switch(o){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var i=jn(e,r);t.push(i.num),r+=i.length;break;case"4":for(var u="";;){var a=e[r];if("\0"===a)break;u+=a,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var s={element:{},index:t.length};t.push(s.element),n.push(s);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===t.length)return t.pop();An(t,n)}}}function On(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=wn(e[r],t[r]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function qn(e,t){return e===t?0:e>t?1:-1}function Tn(e,t){for(var n=Object.keys(e),r=Object.keys(t),o=Math.min(n.length,r.length),i=0;i<o;i++){var u=wn(n[i],r[i]);if(0!==u)return u;if(u=wn(e[n[i]],t[r[i]]),0!==u)return u}return n.length===r.length?0:n.length>r.length?1:-1}function Dn(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Cn(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,o=r?"0":"2",i=(r?-n:n)-vi,u=bn(i.toString(),"0",yi);o+=gi+u;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=gi+c}function In(){this.promise=new Jr(function(e){e()})}function Rn(e){var t,n=e.db,r=e.viewName,o=e.map,i=e.reduce,u=e.temporary,a=o.toString()+(i&&i.toString())+"undefined";if(!u&&(t=n._cachedViews=n._cachedViews||{},t[a]))return t[a];var c=n.info().then(function(e){function c(e){e.views=e.views||{};var t=r;t.indexOf("/")===-1&&(t=r+"/"+r);var n=e.views[t]=e.views[t]||{};if(!n[s])return n[s]=!0,e}var s=e.db_name+"-mrview-"+(u?"temp":Ye(a));return M(n,"_local/mrviews",c).then(function(){return n.registerDependentDatabase(s).then(function(e){var r=e.db;r.auto_compaction=!0;var u={name:s,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return u.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return u.seq=e?e.seq:0,t&&u.db.once("destroyed",function(){delete t[a]}),u})})})});return t&&(t[a]=c),c}function Ln(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ln)}catch(t){}}function Nn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Nn)}catch(t){}}function Mn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Mn)}catch(t){}}function Fn(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Mn(t)}function Bn(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw Fn("_sum");t="number"==typeof t?[t]:t;for(var i=0,u=o.length;i<u;i++){var a=o[i];if("number"!=typeof a)throw Fn("_sum");"undefined"==typeof t[i]?t.push(a):t[i]+=a}}else"number"==typeof t?t+=o:t[0]+=o}return t}function $n(e,t){return Wr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Bn,log:_i,isArray:mi,toJSON:bi})}function Pn(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function Un(e){return 1===e.length&&/^1-/.test(e[0].rev)}function zn(e,t){try{e.emit("error",t)}catch(n){w("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),w("error",t)}}function Wn(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return zn(e,r),{error:r}}}function Kn(e,t){var n=wn(e.key,t.key);return 0!==n?n:wn(e.value,t.value)}function Hn(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function Vn(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function Jn(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Fe(n.data,n.content_type)})})}function Yn(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&Jn(t),t}}function Gn(e,t,n,r){var o=t[e];"undefined"!=typeof o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function Xn(e){if("undefined"!=typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function Qn(e){return e.group_level=Xn(e.group_level),e.limit=Xn(e.limit),e.skip=Xn(e.skip),e}function Zn(e){if(e){if("number"!=typeof e)return new Ln('Invalid value for integer: "'+e+'"');if(e<0)return new Ln('Invalid value for positive integer: "'+e+'"')}}function er(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&wn(e[n],e[r])>0)throw new Ln("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new Ln("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Ln("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=Zn(e[t]);if(n)throw n})}function tr(e,t,n){var r,o=[],i="GET";if(Gn("reduce",n,o),Gn("include_docs",n,o),Gn("attachments",n,o),Gn("limit",n,o),Gn("descending",n,o),Gn("group",n,o),Gn("group_level",n,o),Gn("skip",n,o),Gn("stale",n,o),Gn("conflicts",n,o),Gn("startkey",n,o,!0),Gn("start_key",n,o,!0),Gn("endkey",n,o,!0),Gn("end_key",n,o,!0),Gn("inclusive_end",n,o),Gn("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,"undefined"!=typeof n.keys){var u=2e3,a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+o.length+1<=u?o+=("?"===o[0]?"&":"?")+a:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var c=Pn(t);return e.request({method:i,url:"_design/"+c[0]+"/_view/"+c[1]+o,body:r}).then(Yn(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+o,body:r}).then(Yn(n))}function nr(e,t,n){return new Jr(function(r,o){e._query(t,n,function(e,t){return e?o(e):void r(t)})})}function rr(e){return new Jr(function(t,n){e._viewCleanup(function(e,r){return e?n(e):void t(r)})})}function or(e){return function(t){if(404===t.status)return e;throw t}}function ir(e,t,n){function r(){return Un(f)?Jr.resolve(a):t.db.get(u)["catch"](or(a))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Jr.resolve({rows:[]})}function i(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var u=t.rows[o],a=u.doc;if(a&&(n.push(a),r[a._id]=!0,a._deleted=!s[a._id],!a._deleted)){var c=s[a._id];"value"in c&&(a.value=c.value)}}var f=Object.keys(s);return f.forEach(function(e){if(!r[e]){var t={_id:e},o=s[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=ji(f.concat(e.keys)),n.push(e),n}var u="_local/doc_"+e,a={_id:u,keys:[]},c=n[e],s=c.indexableKeysToKeyValues,f=c.changes;return r().then(function(e){return o(e).then(function(t){return i(e,t)})})}function ur(e,t,n){var r="_local/lastSeq";return e.db.get(r)["catch"](or({_id:r,seq:0})).then(function(r){var o=Object.keys(t);return Jr.all(o.map(function(n){return ir(n,e,t)})).then(function(t){var o=D(t);return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function ar(e){var t="string"==typeof e?e:e.name,n=Ai[t];return n||(n=Ai[t]=new In),n}function cr(e){return Ei(ar(e),function(){return sr(e)})()}function sr(e){function t(e,t){var n={id:o._id,key:kn(e)};"undefined"!=typeof t&&null!==t&&(n.value=kn(t)),r.push(n)}function n(t,n){return function(){return ur(e,t,n)}}var r,o,i;if("function"==typeof e.mapFun&&2===e.mapFun.length){var u=e.mapFun;i=function(e){return u(e,t)}}else i=$n(e.mapFun.toString(),t);var a=e.seq||0,c=new In;return new Jr(function(t,u){function s(){c.finish().then(function(){e.seq=a,t()})}function f(){function t(e){u(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:Oi}).on("complete",function(t){var u=t.results;if(!u.length)return s();for(var l={},d=0,h=u.length;d<h;d++){var p=u[d];if("_"!==p.doc._id[0]){r=[],o=p.doc,o._deleted||Wn(e.sourceDB,i,[o]),r.sort(Kn);for(var v,y={},g=0,_=r.length;g<_;g++){var m=r[g],b=[m.key,m.id];0===wn(m.key,v)&&b.push(g);var w=En(b);y[w]=m,v=m.key}l[p.doc._id]={indexableKeysToKeyValues:y,changes:p.changes}}a=p.seq}return c.add(n(l,a)),u.length<Oi?s():f()}).on("error",t)}f()})}function fr(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=qi[e.reduceFun]?qi[e.reduceFun]:$n(e.reduceFun.toString());var i=[],u=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=i[i.length-1],n=o?e.key:null;return o&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===wn(t.groupKey,n)?(t.keys.push([e.key,e.id]),void t.values.push(e.value)):void i.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var a=0,c=i.length;a<c;a++){var s=i[a],f=Wn(e.sourceDB,r,[s.keys,s.values,!1]);if(f.error&&f.error instanceof Mn)throw f.error;t.push({value:f.error?null:f.output,key:s.groupKey})}return{rows:Hn(t,n.limit,n.skip)}}function lr(e,t){return Ei(ar(e),function(){return dr(e,t)})()}function dr(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Sn(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?fr(e,n,t):{total_rows:o,offset:u,rows:n},t.include_docs){var a=ji(n.map(Vn));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=Vn(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&t.reduce!==!1,u=t.skip||0;if("undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!=typeof t.keys){var a=t.keys,c=a.map(function(e){var t={startkey:En([e]),endkey:En([e,{}])};return n(t)});return Jr.all(c).then(D).then(r)}var s={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"undefined"!=typeof t.startkey&&(s.startkey=En(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var f=t.inclusive_end!==!1;t.descending&&(f=!f),s.endkey=En(f?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var l=En([t.key]),d=En([t.key,{}]);s.descending?(s.endkey=l,s.startkey=d):(s.startkey=l,s.endkey=d)}return i||("number"==typeof t.limit&&(s.limit=t.limit),s.skip=u),n(s).then(r)}function hr(e){return e.request({method:"POST",url:"_view_cleanup"})}function pr(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=Pn(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var u=Object.keys(t.views[i]),a=e.doc&&e.doc.views&&e.doc.views[n];u.forEach(function(e){o[e]=o[e]||a})})});var i=Object.keys(o).filter(function(e){return!o[e]}),u=i.map(function(t){return Ei(ar(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Jr.all(u).then(function(){return{ok:!0}})})},or({ok:!0}))}function vr(e,n,r){if("http"===e.type())return tr(e,n,r);if("function"==typeof e._query)return nr(e,n,r);if("string"!=typeof n){er(r,n);var o={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0};return Si.add(function(){return Rn(o).then(function(e){function t(){return e.db.destroy()}return xi(cr(e).then(function(){return lr(e,r)}),t)})}),Si.finish()}var i=n,u=Pn(i),a=u[0],c=u[1];return e.get("_design/"+a).then(function(n){var o=n.views&&n.views[c];if(!o||"string"!=typeof o.map)throw new Nn("ddoc "+a+" has no view named "+c);er(r,o);var u={db:e,viewName:i,map:o.map,reduce:o.reduce};return Rn(u).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){cr(e)}),lr(e,r)):cr(e).then(function(){return lr(e,r)})})})}function yr(e){return/^1-/.test(e)}function gr(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function _r(e,t){var n=Object.keys(t._attachments);return Jr.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function mr(e,t,n){var r="http"===t.type()&&"http"!==e.type(),o=Object.keys(n._attachments);return r?e.get(n._id).then(function(r){return Jr.all(o.map(function(o){return gr(r,n,o)?t.getAttachment(n._id,o):e.getAttachment(r._id,o)}))})["catch"](function(e){if(404!==e.status)throw e;return _r(t,n)}):_r(t,n)}function br(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0}}function wr(e,t,n,r){function o(){var o=br(n);if(o.docs.length)return e.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return Jr.all(n.results.map(function(n){return Jr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?mr(t,e,r).then(function(e){var t=Object.keys(r._attachments);return e.forEach(function(e,n){var o=r._attachments[t[n]];delete o.stub,delete o.length,o.data=e}),r}):r}))})).then(function(e){l=l.concat(D(e).filter(Boolean))})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function u(e){return e._conflicts&&e._conflicts.length>0}function a(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){e.deleted||!e.doc||!yr(e.value.rev)||i(e.doc)||u(e.doc)||(l.push(e.doc),delete n[e.id])})})}function c(){var e=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&yr(t[0])});if(e.length>0)return a(e)}function f(){return{ok:d,docs:l}}n=s(n);var l=[],d=!0;return Jr.resolve().then(c).then(o).then(f)}function kr(e,t,n,r,o){return e.get(t)["catch"](function(n){if(404===n.status)return"http"===e.type()&&E(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:Ri,version:Ii};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,Li),i.version=Ii,i.replicator=Ri,i.session_id=r,i.last_seq=n,e.put(i)["catch"](function(i){if(409===i.status)return kr(e,t,n,r,o);throw i})})}function xr(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function Er(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:jr(e.history,t.history)}function jr(e,t){var n=e[0],r=e.slice(1),o=t[0],i=t.slice(1);if(!n||0===t.length)return{last_seq:Ni,history:[]};var u=n.session_id;if(Ar(u,t))return{last_seq:n.last_seq,history:e};var a=o.session_id;return Ar(a,r)?{last_seq:o.last_seq,history:i}:jr(r,i)}function Ar(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Ar(e,r))}function Sr(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Or(e,t,n,r){if(e.retry===!1)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=x),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=Fi},i=function(){t.removeListener("active",o)};t.once("paused",i),t.once("active",o)}e.current_back_off=e.current_back_off||Fi,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}function qr(e){return Object.keys(e).sort(wn).reduce(function(t,n){return t[n]=e[n],t},{})}function Tr(e,t,n){var r=n.doc_ids?n.doc_ids.sort(wn):"",o=n.filter?n.filter.toString():"",i="",u="";return n.filter&&n.query_params&&(i=JSON.stringify(qr(n.query_params))),n.filter&&"_view"===n.filter&&(u=n.view.toString()),Jr.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+o+u+i+r;return new Jr(function(e){Je(t,e)})}).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})}function Dr(e,t,n,r,o){function i(){return x?Jr.resolve():Tr(e,t,n).then(function(n){k=n,x=new xr(e,t,k,r)})}function u(){if(N=[],0!==w.docs.length){var e=w.docs,i={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},i).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=e.length-i,e.forEach(function(e){var t=n[e._id];if(t){if(o.errors.push(t),"unauthorized"!==t.name&&"forbidden"!==t.name)throw t;r.emit("denied",s(t))}else N.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function a(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=q=w.seq;var e=s(o);return N.length&&(e.docs=N,r.emit("change",e)),A=!0,x.writeCheckpoint(w.seq,M).then(function(){if(A=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,_()})["catch"](function(e){throw b(e),e})}function c(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function f(){return wr(e,t,w.diffs,r).then(function(e){w.error=!e.ok,e.docs.forEach(function(e){delete w.diffs[e._id],o.docs_read++,w.docs.push(e)})})}function l(){if(!r.cancelled&&!w){if(0===E.length)return void d(!0);w=E.shift(),c().then(f).then(u).then(a).then(l)["catch"](function(e){h("batch processing terminated with error",e)})}}function d(e){return 0===j.changes.length?void(0!==E.length||w||((D&&F.live||S)&&(r.state="pending",r.emit("paused")),S&&p())):void((e||S||j.changes.length>=C)&&(E.push(j),j={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),l()))}function h(e,t){O||(t.message||(t.message=e),o.ok=!1,o.status="aborting",E=[],j={seq:0,changes:[],docs:[]},p(t))}function p(i){O||r.cancelled&&(o.status="cancelled",A)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=q,O=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Or(n,r,i,function(){Dr(e,t,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function v(e){if(r.cancelled)return p();var t=T(n)(e);t&&(j.seq=e.seq,j.changes.push(e),d(0===E.length&&F.live))}function y(e){if(R=!1,r.cancelled)return p();if(e.results.length>0)F.since=e.last_seq,_(),d(!0);else{var t=function(){D?(F.live=!0,_()):S=!0,d(!0)};w||0!==e.results.length?t():(A=!0,x.writeCheckpoint(e.last_seq,M).then(function(){A=!1,o.last_seq=q=e.last_seq,t()})["catch"](b))}}function g(e){return R=!1,r.cancelled?p():void h("changes rejected",e)}function _(){function t(){i.cancel()}function o(){r.removeListener("cancel",t)}if(!R&&!S&&E.length<I){R=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var i=e.changes(F).on("change",v);i.then(o,o),i.then(y)["catch"](g),n.retry&&(r._changes=i,r._abortChanges=t)}}function m(){i().then(function(){return r.cancelled?void p():x.getCheckpoint().then(function(e){q=e,F={since:q,limit:C,batch_size:C,style:"all_docs",doc_ids:L,return_docs:!0},n.filter&&("string"!=typeof n.filter?F.include_docs=!0:F.filter=n.filter),"heartbeat"in n&&(F.heartbeat=n.heartbeat),"timeout"in n&&(F.timeout=n.timeout),n.query_params&&(F.query_params=n.query_params),n.view&&(F.view=n.view),_()})})["catch"](function(e){h("getCheckpoint rejected with ",e)})}function b(e){A=!1,h("writeCheckpoint completed with error",e)}var w,k,x,E=[],j={seq:0,changes:[],docs:[]},A=!1,S=!1,O=!1,q=0,D=n.continuous||n.live||!1,C=n.batch_size||100,I=n.batches_limit||10,R=!1,L=n.doc_ids,N=[],M=$();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var F={};return r.ready(e,t),r.cancelled?void p():(r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void("undefined"==typeof n.since?m():i().then(function(){return A=!0,x.writeCheckpoint(n.since,M)}).then(function(){return A=!1,r.cancelled?void p():(q=n.since,void m())})["catch"](b)))}function Cr(){Ur.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Jr(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e["catch"]=function(e){return t["catch"](e)},e["catch"](function(){})}function Ir(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function Rr(e,t,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw S(po,"`doc_ids` filter parameter is not a list.");n.complete=r,n=s(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Cr(n),i=Ir(e,n),u=Ir(t,n);return Dr(i,u,n,o),o}function Lr(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=s(n),n.PouchConstructor=n.PouchConstructor||this,e=Ir(e,n),t=Ir(t,n),new Nr(e,t,n,r)}function Nr(e,t,n,r){function o(e){h.emit("change",{direction:"pull",change:e})}function i(e){h.emit("change",{direction:"push",change:e})}function u(e){h.emit("denied",{direction:"push",doc:e})}function a(e){h.emit("denied",{direction:"pull",doc:e})}function c(){h.pushPaused=!0,h.pullPaused&&h.emit("paused")}function s(){h.pullPaused=!0,h.pushPaused&&h.emit("paused")}function f(){h.pushPaused=!1,h.pullPaused&&h.emit("active",{direction:"push"})}function l(){h.pullPaused=!1,h.pushPaused&&h.emit("active",{direction:"pull"})}function d(e){return function(t,n){var r="change"===t&&(n===o||n===i),d="denied"===t&&(n===a||n===u),p="paused"===t&&(n===s||n===c),v="active"===t&&(n===l||n===f);(r||d||p||v)&&(t in y||(y[t]={}),y[t][e]=!0,2===Object.keys(y[t]).length&&h.removeAllListeners(t))}}var h=this;this.canceled=!1;var p=n.push?j({},n,n.push):n,v=n.pull?j({},n,n.pull):n;this.push=Rr(e,t,p),this.pull=Rr(t,e,v),this.pushPaused=!0,this.pullPaused=!0;var y={};n.live&&(this.push.on("complete",h.pull.cancel.bind(h.pull)),this.pull.on("complete",h.push.cancel.bind(h.push))),this.on("newListener",function(e){"change"===e?(h.pull.on("change",o),h.push.on("change",i)):"denied"===e?(h.pull.on("denied",a),h.push.on("denied",u)):"active"===e?(h.pull.on("active",l),h.push.on("active",f)):"paused"===e&&(h.pull.on("paused",s),h.push.on("paused",c))}),this.on("removeListener",function(e){"change"===e?(h.pull.removeListener("change",o),h.push.removeListener("change",i)):"denied"===e?(h.pull.removeListener("denied",a),h.push.removeListener("denied",u)):"active"===e?(h.pull.removeListener("active",l),h.push.removeListener("active",f)):"paused"===e&&(h.pull.removeListener("paused",s),h.push.removeListener("paused",c))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var g=Jr.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return h.emit("complete",t),r&&r(null,t),h.removeAllListeners(),t},function(e){if(h.cancel(),r?r(e):h.emit("error",e),h.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this["catch"]=function(e){return g["catch"](e)}}function Mr(e){e.replicate=Rr,e.sync=Lr,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return{from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}var Fr,Br=o(n(/*! lie */75)),$r=o(n(/*! argsarray */69)),Pr=o(n(/*! debug */70)),Ur=n(/*! events */82),zr=o(n(/*! inherits */74)),Wr=o(n(/*! scope-eval */77)),Kr=o(n(/*! spark-md5 */78)),Hr=o(n(/*! vuvuzela */79)),Vr=o(n(/*! es6-promise-pool */73)),Jr="function"==typeof Promise?Promise:Br,Yr=Function.prototype.toString,Gr=Yr.call(Object),Xr=Pr("pouchdb:api"),Qr=6;if(g())Fr=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Fr=!!localStorage.getItem("_pouch_check_localstorage")}catch(Zr){Fr=!1}zr(b,Ur.EventEmitter),b.prototype.addListener=function(e,t,n,r){function o(){function e(){u=!1}if(i._listeners[t]){if(u)return void(u="waiting");u=!0;var a=h(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(a).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===u&&setTimeout(function(){o()},0),u=!1}).on("error",e)}}if(!this._listeners[t]){var i=this,u=!1;this._listeners[t]=o,this.on(e,o)}},b.prototype.removeListener=function(e,t){t in this._listeners&&(Ur.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},b.prototype.notifyLocalWindows=function(e){g()?chrome.storage.local.set({dbName:e}):_()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},b.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var eo=Array.prototype.slice,to=Array.prototype.forEach;zr(A,Error),
A.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var no=(new A({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),new A({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"})),ro=new A({status:404,error:"not_found",reason:"missing"}),oo=new A({status:409,error:"conflict",reason:"Document update conflict"}),io=new A({status:400,error:"bad_request",reason:"_id field must contain a string"}),uo=new A({status:412,error:"missing_id",reason:"_id is required for puts"}),ao=new A({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),co=new A({status:412,error:"precondition_failed",reason:"Database not open"}),so=new A({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),fo=new A({status:500,error:"badarg",reason:"Some query argument is invalid"}),lo=(new A({status:400,error:"invalid_request",reason:"Request was invalid"}),new A({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"})),ho=new A({status:500,error:"doc_validation",reason:"Bad special document member"}),po=new A({status:400,error:"bad_request",reason:"Something wrong with the request"}),vo=new A({status:400,error:"bad_request",reason:"Document must be a JSON object"}),yo=(new A({status:404,error:"not_found",reason:"Database not found"}),new A({status:500,error:"indexed_db_went_bad",reason:"unknown"})),go=new A({status:500,error:"web_sql_went_bad",reason:"unknown"}),_o=(new A({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),new A({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),new A({status:400,error:"bad_request",reason:"Invalid rev format"})),mo=(new A({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),new A({status:412,error:"missing_stub"})),bo=(new A({status:413,error:"invalid_url",reason:"Provided URL is invalid"}),["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]),wo="queryKey",ko=/(?:^|&)([^&=]*)=?([^&]*)/g,xo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Eo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");z.prototype.get=function(e){var t=P(e);return this.store[t]},z.prototype.set=function(e,t){var n=P(e);return this.store[n]=t,!0},z.prototype.has=function(e){var t=P(e);return t in this.store},z.prototype["delete"]=function(e){var t=P(e),n=t in this.store;return delete this.store[t],n},z.prototype.forEach=function(e){for(var t=Object.keys(this.store),n=0,r=t.length;n<r;n++){var o=t[n],i=this.store[o];o=U(o),e(i,o)}},W.prototype.add=function(e){return this.store.set(e,!0)},W.prototype.has=function(e){return this.store.has(e)},zr(pe,Ur.EventEmitter),pe.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},pe.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=s(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=ve,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.view&&!e.filter&&(e.filter="_view"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=L(e.view):e.filter=L(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var o=t.cancel;t.cancel=$r(function(e){r.cancel(),o.apply(this,e)})}},pe.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=S(po,"`view` filter parameter not found or invalid.");return n(r)}var o=R(e.view);this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(O(r));var u=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;return u?(e.filter=de(u),void t.doChanges(e)):n(S(ro,i.views?"missing json key: "+o[1]:"missing json key: views"))})}else{var i=R(e.filter);if(!i)return t.doChanges(e);this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(O(r));var u=o&&o.filters&&o.filters[i[1]];return u?(e.filter=le(u),void t.doChanges(e)):n(S(ro,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"))})}},zr(je,Ur.EventEmitter),je.prototype.post=d("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(S(vo)):void this.bulkDocs({docs:[e]},t,_e(n))}),je.prototype.put=d("put",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(S(vo)):(C(e._id),fe(e._id)&&"function"==typeof this._putLocal?e._deleted?this._removeLocal(e,n):this._putLocal(e,n):void("function"==typeof this._put&&t.new_edits!==!1?this._put(e,t,n):this.bulkDocs({docs:[e]},t,_e(n))))}),je.prototype.putAttachment=d("putAttachment",function(e,t,n,r,o){function i(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r,revpos:++n},u.put(e)}var u=this;return"function"==typeof o&&(o=r,r=n,n=null),"undefined"==typeof o&&(o=r,r=n,n=null),u.get(e).then(function(e){if(e._rev!==n)throw S(oo);return i(e)},function(t){if(t.reason===ro.message)return i({_id:e});throw t})}),je.prototype.removeAttachment=d("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(S(oo)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),je.prototype.remove=d("remove",function(e,t,n,r){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};return i._deleted=!0,fe(i._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,r):void this.bulkDocs({docs:[i]},n,_e(r))}),je.prototype.revsDiff=d("revsDiff",function(e,t,n){function r(e,t){a.has(e)||a.set(e,{missing:[]}),a.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);H(n,function(e,n,i,u,a){var c=n+"-"+i,s=o.indexOf(c);s!==-1&&(o.splice(s,1),"available"!==a.status&&r(t,c))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var u=0,a=new z;i.map(function(t){this._getRevisionTree(t,function(r,c){if(r&&404===r.status&&"missing"===r.message)a.set(t,{missing:e[t]});else{if(r)return n(r);o(t,c)}if(++u===i.length){var s={};return a.forEach(function(e,t){s[t]=e}),n(null,s)}})},this)}),je.prototype.bulkGet=d("bulkGet",function(e,t){y(this,e,t)}),je.prototype.compactDocument=d("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(o,i){if(o)return n(o);var u=we(i),a=[],c=[];Object.keys(u).forEach(function(e){u[e]>t&&a.push(e)}),H(i,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&a.indexOf(i)!==-1&&c.push(i)}),r._doCompaction(e,c,n)})}),je.prototype.compact=d("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&xe(n)}),je.prototype._compact=function(e,t){function n(e){u.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;Jr.all(u).then(function(){return M(o,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<n)&&(e.last_seq=n,e)})}).then(function(){t(null,{ok:!0})})["catch"](t)}var o=this,i={return_docs:!1,last_seq:e.last_seq||0},u=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},je.prototype.get=d("get",function(e,t,n){function r(){var r=[],u=o.length;return u?void o.forEach(function(o){i.get(e,{rev:o,revs:t.revs,attachments:t.attachments},function(e,t){e?r.push({missing:o}):r.push({ok:t}),u--,u||n(null,r)})}):n(null,r)}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(S(io));if(fe(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var o=[],i=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var o=r.doc,u=r.metadata,a=r.ctx;if(t.conflicts){var c=Y(u);c.length&&(o._conflicts=c)}if(se(u,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){var s=X(u.rev_tree),f=ge(s,function(e){return e.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])!==-1}),l=f.ids.map(function(e){return e.id}).indexOf(o._rev.split("-")[1])+1,d=f.ids.length-l;if(f.ids.splice(l,d),f.ids.reverse(),t.revs&&(o._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map(function(e){return e.id})}),t.revs_info){var h=f.pos+f.ids.length;o._revs_info=f.ids.map(function(e){return h--,{rev:h+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var p=o._attachments,v=Object.keys(p).length;if(0===v)return n(null,o);Object.keys(p).forEach(function(e){this._getAttachment(o._id,e,p[e],{rev:o._rev,binary:t.binary,ctx:a},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--v||n(null,o)})},i)}else{if(o._attachments)for(var y in o._attachments)o._attachments.hasOwnProperty(y)&&(o._attachments[y].stub=!0);n(null,o)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?n(e):(o=J(t).map(function(e){return e.rev}),void r())});else{if(!Array.isArray(t.open_revs))return n(S(so,"function_clause"));o=t.open_revs;for(var u=0;u<o.length;u++){var a=o[u];if("string"!=typeof a||!/^\d+-/.test(a))return n(S(_o))}r()}}),je.prototype.getAttachment=d("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(i,u){return i?r(i):u.doc._attachments&&u.doc._attachments[t]?(n.ctx=u.ctx,n.binary=!0,void o._getAttachment(e,t,u.doc._attachments[t],n,r)):r(S(ro))})}),je.prototype.allDocs=d("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(S(lo,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return ke(this,e,t)}return this._allDocs(e,t)}),je.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new pe(this,e,t)},je.prototype.close=d("close",function(e){return this._closed=!0,this._close(e)}),je.prototype.info=d("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),void e(null,r))})}),je.prototype.id=d("id",function(e){return this._id(e)}),je.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},je.prototype.bulkDocs=d("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(S(no));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(S(vo));var o;return e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(e){o=o||Ee(e)})}),o?n(S(po,o)):("new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0),t.new_edits||"http"===this.type()||e.docs.sort(be),me(e.docs),this._bulkDocs(e,t,function(e,r){return e?n(e):(t.new_edits||(r=r.filter(function(e){return e.error})),void n(null,r))}))}),je.prototype.registerDependentDatabase=d("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);M(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})})["catch"](t)}),je.prototype.destroy=d("destroy",function(e,t){function n(){r._destroy(e,function(e,n){return e?t(e):(r._destroyed=!0,r.emit("destroyed"),void t(null,n||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var r=this,o=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(e,i){if(e)return 404!==e.status?t(e):n();var u=i.dependentDbs,a=r.constructor,c=Object.keys(u).map(function(e){var t=o?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,r.__opts).destroy()});Jr.all(c).then(n,t)})}),Ae.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Ae.prototype.fail=function(e){this.failed=e,this.execute()},Ae.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Ae.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},zr(qe,je),qe.debug=Pr,qe.adapters={},qe.preferredAdapters=[],qe.prefix="_pouch_";var jo=new Ur.EventEmitter;Te(qe),qe.adapter=function(e,t,n){t.valid()&&(qe.adapters[e]=t,n&&qe.preferredAdapters.push(e))},qe.plugin=function(e){if("function"==typeof e)e(qe);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error("Invalid plugin: object passed in is empty or not an object");Object.keys(e).forEach(function(t){qe.prototype[t]=e[t]})}return qe},qe.defaults=function(e){function t(n,r){return this instanceof t?(r=r||{},n&&"object"==typeof n&&(r=n,n=r.name,delete r.name),r=j({},e,r),void qe.call(this,n,r)):new t(n,r)}return zr(t,qe),t.preferredAdapters=qe.preferredAdapters.slice(),Object.keys(qe).forEach(function(e){e in t||(t[e]=qe[e])}),t};var Ao="6.0.7";qe.version=Ao;var So,Oo=De(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),qo=De(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),To=function(e){return atob(e)},Do=function(e){return btoa(e)},Co=r.setImmediate||r.setTimeout,Io=32768,Ro=5,Lo="document-store",No="by-sequence",Mo="attach-store",Fo="attach-seq-store",Bo="meta-store",$o="local-store",Po="detect-blob-support",Uo={running:!1,queue:[]},zo=new z,Wo=new b,Ko=new z;xt.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Ho=7,Vo=Ct("document-store"),Jo=Ct("by-sequence"),Yo=Ct("attach-store"),Go=Ct("local-store"),Xo=Ct("metadata-store"),Qo=Ct("attach-seq-store"),Zo=new z,ei=new b,ti=1,ni="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Jo+" (seq, deleted)",ri="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Jo+" (doc_id, rev)",oi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Vo+" (winningseq)",ii="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Qo+" (seq)",ui="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Qo+" (digest, seq)",ai=Jo+".seq = "+Vo+".winningseq",ci=Jo+".seq AS seq, "+Jo+".deleted AS deleted, "+Jo+".json AS data, "+Jo+".rev AS rev, "+Vo+".json AS metadata";Qt.valid=Gt,Qt.use_prefix=!0;var si=rn(),fi=function(){},li=25,di=50,hi={},pi=Pr("pouchdb:http");gn.valid=function(){return!0};var vi=-324,yi=3,gi="";In.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},In.prototype.finish=function(){return this.promise},zr(Ln,Error),zr(Nn,Error),zr(Mn,Error);var _i=w.bind(null,"log"),mi=Array.isArray,bi=JSON.parse,wi=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},ki=function(e){return $r(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&wi(r,n),r})},xi=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},Ei=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},ji=function(e){for(var t={},n=0,r=e.length;n<r;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i},Ai={},Si=new In,Oi=50,qi={_sum:function(e,t){return Bn(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e[n];t+=o*o}return t}return{sum:Bn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}},Ti=ki(function(){var e=this;return"http"===e.type()?hr(e):"function"==typeof e._viewCleanup?rr(e):pr(e)}),Di=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?Qn(t):{},"function"==typeof e&&(e={map:e});var r=this,o=Jr.resolve().then(function(){return vr(r,e,t)});return wi(o,n),o},Ci={query:Di,viewCleanup:Ti},Ii=1,Ri="pouchdb",Li=5,Ni=0;xr.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},xr.prototype.updateTarget=function(e,t){return kr(this.target,this.id,e,t,this.returnValue)},xr.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?Jr.resolve(!0):kr(this.src,this.id,e,t,this.returnValue)["catch"](function(e){if(Sr(e))return n.readOnlySource=!0,!0;throw e})};var Mi={undefined:function(e,t){return 0===wn(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Er(t,e).last_seq}};xr.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?Jr.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return Ni;var n;return n=t.version?t.version.toString():"undefined",n in Mi?Mi[n](t,e):Ni},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:Ni}).then(function(){return Ni},function(n){return Sr(n)?(e.readOnlySource=!0,t.last_seq):Ni});throw n})})["catch"](function(e){if(404!==e.status)throw e;return Ni})};var Fi=0;zr(Cr,Ur.EventEmitter),Cr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Cr.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),o.once("complete",r))},zr(Nr,Ur.EventEmitter),Nr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},qe.plugin(At).plugin(Zt).plugin(_n).plugin(Ci).plugin(Mr),e.exports=qe}).call(t,n(/*! (webpack)/~/node-libs-browser/~/process/browser.js */6),function(){return this}())},/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,,,,,,,,,,,,,,,,,,,,,,,/*!********************************!*\
  !*** ./~/lodash/lodash.min.js ***!
  \********************************/
function(e,t,n){var r;(function(e,o){(function(){function i(e,t){return e.set(t[0],t[1]),e}function u(e,t){return e.add(t),e}function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function c(e,t,n,r){for(var o=-1,i=e?e.length:0;++o<i;){var u=e[o];t(r,u,n(u),e)}return r}function s(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function f(e,t){for(var n=e?e.length:0;n--&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function d(e,t){for(var n=-1,r=e?e.length:0,o=0,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[o++]=u)}return i}function h(e,t){return!(!e||!e.length)&&-1<k(e,t,0)}function p(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function v(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function y(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function g(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function _(e,t,n,r){var o=e?e.length:0;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function m(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function w(e,t,n,r){var o=e.length;for(n+=r?1:-1;r?n--:++n<o;)if(t(e[n],n,e))return n;return-1}function k(e,t,n){if(t===t)e:{--n;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=w(e,E,n);return e}function x(e,t,n,r){--n;for(var o=e.length;++n<o;)if(r(e[n],t))return n;return-1}function E(e){return e!==e}function j(e,t){var n=e?e.length:0;return n?T(e,t)/n:J}function A(e){return function(t){return null==t?H:t[e]}}function S(e){return function(t){return null==e?H:e[t]}}function O(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function q(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function T(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==H&&(n=n===H?i:n+i)}return n}function D(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function C(e,t){return v(t,function(t){return[t,e[t]]})}function I(e){return function(t){return e(t)}}function R(e,t){return v(t,function(t){return e[t]})}function L(e,t){return e.has(t)}function N(e,t){for(var n=-1,r=e.length;++n<r&&-1<k(t,e[n],0););return n}function M(e,t){for(var n=e.length;n--&&-1<k(t,e[n],0););return n}function F(e){return"\\"+ze[e]}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function $(e,t){return function(n){return e(t(n))}}function P(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n];u!==t&&"__lodash_placeholder__"!==u||(e[n]="__lodash_placeholder__",i[o++]=n)}return i}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function W(e){if(Me.test(e)){for(var t=Le.lastIndex=0;Le.test(e);)++t;e=t}else e=it(e);return e}function K(e){return Me.test(e)?e.match(Le)||[]:e.split("")}var H,V=1/0,J=NaN,Y=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],G=/\b__p\+='';/g,X=/\b(__p\+=)''\+/g,Q=/(__e\(.*?\)|\b__t\))\+'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,ee=/[&<>"']/g,te=RegExp(Z.source),ne=RegExp(ee.source),re=/<%-([\s\S]+?)%>/g,oe=/<%([\s\S]+?)%>/g,ie=/<%=([\s\S]+?)%>/g,ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/,ce=/^\./,se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fe=/[\\^$.*+?()[\]{}|]/g,le=RegExp(fe.source),de=/^\s+|\s+$/g,he=/^\s+/,pe=/\s+$/,ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ye=/\{\n\/\* \[wrapped with (.+)\] \*/,ge=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,me=/\\(\\)?/g,be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,we=/\w*$/,ke=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Ae=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oe=/($^)/,qe=/['\n\r\u2028\u2029\\]/g,Te="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",De="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Te,Ce="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Ie=RegExp("['’]","g"),Re=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Le=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Ce+Te,"g"),Ne=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d+",De].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Fe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),$e={};$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Arguments]"]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object Boolean]"]=$e["[object DataView]"]=$e["[object Date]"]=$e["[object Error]"]=$e["[object Function]"]=$e["[object Map]"]=$e["[object Number]"]=$e["[object Object]"]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object WeakMap]"]=!1;var Pe={};Pe["[object Arguments]"]=Pe["[object Array]"]=Pe["[object ArrayBuffer]"]=Pe["[object DataView]"]=Pe["[object Boolean]"]=Pe["[object Date]"]=Pe["[object Float32Array]"]=Pe["[object Float64Array]"]=Pe["[object Int8Array]"]=Pe["[object Int16Array]"]=Pe["[object Int32Array]"]=Pe["[object Map]"]=Pe["[object Number]"]=Pe["[object Object]"]=Pe["[object RegExp]"]=Pe["[object Set]"]=Pe["[object String]"]=Pe["[object Symbol]"]=Pe["[object Uint8Array]"]=Pe["[object Uint8ClampedArray]"]=Pe["[object Uint16Array]"]=Pe["[object Uint32Array]"]=!0,Pe["[object Error]"]=Pe["[object Function]"]=Pe["[object WeakMap]"]=!1;var Ue,ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},We=parseFloat,Ke=parseInt,He="object"==typeof e&&e&&e.Object===Object&&e,Ve="object"==typeof self&&self&&self.Object===Object&&self,Je=He||Ve||Function("return this")(),Ye="object"==typeof t&&t&&!t.nodeType&&t,Ge=Ye&&"object"==typeof o&&o&&!o.nodeType&&o,Xe=Ge&&Ge.exports===Ye,Qe=Xe&&He.h;e:{try{Ue=Qe&&Qe.g("util");break e}catch(i){}Ue=void 0}var Ze=Ue&&Ue.isArrayBuffer,et=Ue&&Ue.isDate,tt=Ue&&Ue.isMap,nt=Ue&&Ue.isRegExp,rt=Ue&&Ue.isSet,ot=Ue&&Ue.isTypedArray,it=A("length"),ut=S({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),at=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),ct=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),st=function ft(e){function t(e){return ci.call(e)}function n(e){if(yo(e)&&!ta(e)&&!(e instanceof S)){if(e instanceof o)return e;if(ii.call(e,"__wrapped__"))return Fr(e)}return new o(e)}function r(){}function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=H}function S(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Le(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ce;++t<n;)this.add(e[t])}function Ue(e){this.size=(this.__data__=new De(e)).size}function ze(e,t){var n,r=ta(e),o=!r&&ea(e),i=!r&&!o&&ra(e),u=!r&&!o&&!i&&ca(e),o=(r=r||o||i||u)?D(e.length,Qo):[],a=o.length;for(n in e)!t&&!ii.call(e,n)||r&&("length"==n||i&&("offset"==n||"parent"==n)||u&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||xr(n,a))||o.push(n);return o}function He(e){var t=e.length;return t?e[cn(0,t-1)]:H}function Ve(e,t){return Rr(Nn(e),yt(t,0,e.length))}function Ye(e){return Rr(Nn(e))}function Ge(e,t,n,r){return e===H||ao(e,ti[n])&&!ii.call(r,n)?t:e}function Qe(e,t,n){(n===H||ao(e[t],n))&&(n!==H||t in e)||pt(e,t,n)}function it(e,t,n){var r=e[t];ii.call(e,t)&&ao(r,n)&&(n!==H||t in e)||pt(e,t,n)}function lt(e,t){for(var n=e.length;n--;)if(ao(e[n][0],t))return n;return-1}function dt(e,t,n,r){return tu(e,function(e,o,i){t(r,e,n(e),i)}),r}function ht(e,t){return e&&Mn(t,To(t),e)}function pt(e,t,n){"__proto__"==t&&wi?wi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function vt(e,t){for(var n=-1,r=null==e,o=t.length,i=Ko(o);++n<o;)i[n]=r?H:Oo(e,t[n]);return i}function yt(e,t,n){return e===e&&(n!==H&&(e=e<=n?e:n),t!==H&&(e=e>=t?e:t)),e}function gt(e,n,r,o,i,u,a){var c;if(o&&(c=u?o(e,i,u,a):o(e)),c!==H)return c;if(!vo(e))return e;if(i=ta(e)){if(c=mr(e),!n)return Nn(e,c)}else{var f=t(e),l="[object Function]"==f||"[object GeneratorFunction]"==f;if(ra(e))return Tn(e,n);if("[object Object]"==f||"[object Arguments]"==f||l&&!u){if(c=br(l?{}:e),!n)return Fn(e,ht(c,e))}else{if(!Pe[f])return u?e:{};c=wr(e,f,gt,n)}}if(a||(a=new Ue),u=a.get(e))return u;a.set(e,c);var d=i?H:(r?lr:To)(e);return s(d||e,function(t,i){d&&(i=t,t=e[i]),it(c,i,gt(t,n,r,o,i,e,a))}),c}function _t(e){var t=To(e);return function(n){return mt(n,e,t)}}function mt(e,t,n){var r=n.length;if(null==e)return!r;for(e=Go(e);r--;){var o=n[r],i=t[o],u=e[o];if(u===H&&!(o in e)||!i(u))return!1}return!0}function bt(e,t,n){if("function"!=typeof e)throw new Zo("Expected a function");return pu(function(){e.apply(H,n)},t)}function wt(e,t,n,r){var o=-1,i=h,u=!0,a=e.length,c=[],s=t.length;if(!a)return c;n&&(t=v(t,I(n))),r?(i=p,u=!1):200<=t.length&&(i=L,u=!1,t=new Le(t));e:for(;++o<a;){var f=e[o],l=n?n(f):f,f=r||0!==f?f:0;if(u&&l===l){for(var d=s;d--;)if(t[d]===l)continue e;c.push(f)}else i(t,l,r)||c.push(f)}return c}function kt(e,t){var n=!0;return tu(e,function(e,r,o){return n=!!t(e,r,o)}),n}function xt(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=t(i);if(null!=u&&(a===H?u===u&&!bo(u):n(u,a)))var a=u,c=i}return c}function Et(e,t){var n=[];return tu(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function jt(e,t,n,r,o){var i=-1,u=e.length;for(n||(n=kr),o||(o=[]);++i<u;){var a=e[i];0<t&&n(a)?1<t?jt(a,t-1,n,r,o):y(o,a):r||(o[o.length]=a)}return o}function At(e,t){return e&&ru(e,t,To)}function St(e,t){return e&&ou(e,t,To)}function Ot(e,t){return d(t,function(t){return lo(e[t])})}function qt(e,t){t=jr(t,e)?[t]:On(t);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Lr(t[n++])];return n&&n==r?e:H}function Tt(e,t,n){return t=t(e),ta(e)?t:y(t,n(e))}function Dt(e,t){return e>t}function Ct(e,t){return null!=e&&ii.call(e,t)}function It(e,t){return null!=e&&t in Go(e)}function Rt(e,t,n){for(var r=n?p:h,o=e[0].length,i=e.length,u=i,a=Ko(i),c=1/0,s=[];u--;){var f=e[u];u&&t&&(f=v(f,I(t))),c=Ii(f.length,c),a[u]=!n&&(t||120<=o&&120<=f.length)?new Le(u&&f):H}var f=e[0],l=-1,d=a[0];e:for(;++l<o&&s.length<c;){var y=f[l],g=t?t(y):y,y=n||0!==y?y:0;if(d?!L(d,g):!r(s,g,n)){for(u=i;--u;){var _=a[u];if(_?!L(_,g):!r(e[u],g,n))continue e}d&&d.push(g),s.push(y)}}return s}function Lt(e,t,n){var r={};return At(e,function(e,o,i){t(r,n(e),o,i)}),r}function Nt(e,t,n){return jr(t,e)||(t=On(t),e=Dr(e,t),t=zr(t)),t=null==e?e:e[Lr(t)],null==t?H:a(t,e,n)}function Mt(e){return yo(e)&&"[object Arguments]"==ci.call(e)}function Ft(e){return yo(e)&&"[object ArrayBuffer]"==ci.call(e)}function Bt(e){return yo(e)&&"[object Date]"==ci.call(e)}function $t(e,n,r,o,i){if(e===n)n=!0;else if(null==e||null==n||!vo(e)&&!yo(n))n=e!==e&&n!==n;else e:{var u=ta(e),a=ta(n),c="[object Array]",s="[object Array]";u||(c=t(e),c="[object Arguments]"==c?"[object Object]":c),a||(s=t(n),s="[object Arguments]"==s?"[object Object]":s);var f="[object Object]"==c,a="[object Object]"==s;if((s=c==s)&&ra(e)){if(!ra(n)){n=!1;break e}u=!0,f=!1}if(s&&!f)i||(i=new Ue),n=u||ca(e)?cr(e,n,$t,r,o,i):sr(e,n,c,$t,r,o,i);else{if(!(2&o)&&(u=f&&ii.call(e,"__wrapped__"),c=a&&ii.call(n,"__wrapped__"),u||c)){e=u?e.value():e,n=c?n.value():n,i||(i=new Ue),n=$t(e,n,r,o,i);break e}if(s)t:if(i||(i=new Ue),u=2&o,c=To(e),a=c.length,s=To(n).length,a==s||u){for(f=a;f--;){var l=c[f];if(!(u?l in n:ii.call(n,l))){n=!1;break t}}if((s=i.get(e))&&i.get(n))n=s==n;else{s=!0,i.set(e,n),i.set(n,e);for(var d=u;++f<a;){var l=c[f],h=e[l],p=n[l];if(r)var v=u?r(p,h,l,n,e,i):r(h,p,l,e,n,i);if(v===H?h!==p&&!$t(h,p,r,o,i):!v){s=!1;break}d||(d="constructor"==l)}s&&!d&&(r=e.constructor,o=n.constructor,r!=o&&"constructor"in e&&"constructor"in n&&!("function"==typeof r&&r instanceof r&&"function"==typeof o&&o instanceof o)&&(s=!1)),i["delete"](e),i["delete"](n),n=s}}else n=!1;else n=!1}}return n}function Pt(e){return yo(e)&&"[object Map]"==t(e)}function Ut(e,t,n,r){var o=n.length,i=o,u=!r;if(null==e)return!i;for(e=Go(e);o--;){var a=n[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var a=n[o],c=a[0],s=e[c],f=a[1];if(u&&a[2]){if(s===H&&!(c in e))return!1}else{if(a=new Ue,r)var l=r(s,f,c,e,t,a);if(l===H?!$t(f,s,r,3,a):!l)return!1}}return!0}function zt(e){return!(!vo(e)||ri&&ri in e)&&(lo(e)?fi:Ee).test(Nr(e))}function Wt(e){return vo(e)&&"[object RegExp]"==ci.call(e)}function Kt(e){return yo(e)&&"[object Set]"==t(e)}function Ht(e){return yo(e)&&po(e.length)&&!!$e[ci.call(e)]}function Vt(e){return"function"==typeof e?e:null==e?Fo:"object"==typeof e?ta(e)?Qt(e[0],e[1]):Xt(e):Uo(e)}function Jt(e){if(!Sr(e))return Di(e);var t,n=[];for(t in Go(e))ii.call(e,t)&&"constructor"!=t&&n.push(t);return n}function Yt(e,t){return e<t}function Gt(e,t){var n=-1,r=co(e)?Ko(e.length):[];return tu(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Xt(e){var t=yr(e);return 1==t.length&&t[0][2]?Or(t[0][0],t[0][1]):function(n){return n===e||Ut(n,e,t)}}function Qt(e,t){return jr(e)&&t===t&&!vo(t)?Or(Lr(e),t):function(n){var r=Oo(n,e);return r===H&&r===t?qo(n,e):$t(t,r,H,3)}}function Zt(e,t,n,r,o){e!==t&&ru(t,function(i,u){if(vo(i)){o||(o=new Ue);var a=o,c=e[u],s=t[u],f=a.get(s);if(f)Qe(e,u,f);else{var f=r?r(c,s,u+"",e,t,a):H,l=f===H;if(l){var d=ta(s),h=!d&&ra(s),p=!d&&!h&&ca(s),f=s;d||h||p?ta(c)?f=c:so(c)?f=Nn(c):h?(l=!1,f=Tn(s,!0)):p?(l=!1,f=Cn(s,!0)):f=[]:_o(s)||ea(s)?(f=c,ea(c)?f=Ao(c):(!vo(c)||n&&lo(c))&&(f=br(s))):l=!1}l&&(a.set(s,f),Zt(f,s,n,r,a),a["delete"](s)),Qe(e,u,f)}}else a=r?r(e[u],i,u+"",e,t,o):H,a===H&&(a=i),Qe(e,u,a)},Do)}function en(e,t){var n=e.length;if(n)return t+=0>t?n:0,xr(t,n)?e[t]:H}function tn(e,t,n){var r=-1;return t=v(t.length?t:[Fo],I(pr())),e=Gt(e,function(e){return{a:v(t,function(t){return t(e)}),b:++r,c:e}}),q(e,function(e,t){var r;e:{r=-1;for(var o=e.a,i=t.a,u=o.length,a=n.length;++r<u;){var c=In(o[r],i[r]);if(c){r=r>=a?c:c*("desc"==n[r]?-1:1);break e}}r=e.b-t.b}return r})}function nn(e,t){return e=Go(e),rn(e,t,function(t,n){return n in e})}function rn(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var u=t[r],a=e[u];n(a,u)&&pt(i,u,a)}return i}function on(e){return function(t){return qt(t,e)}}function un(e,t,n,r){var o=r?x:k,i=-1,u=t.length,a=e;for(e===t&&(t=Nn(t)),n&&(a=v(e,I(n)));++i<u;)for(var c=0,s=t[i],s=n?n(s):s;-1<(c=o(a,s,c,r));)a!==e&&mi.call(a,c,1),mi.call(e,c,1);return e}function an(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;if(xr(o))mi.call(e,o,1);else if(jr(o,e))delete e[Lr(o)];else{var o=On(o),u=Dr(e,o);null!=u&&delete u[Lr(zr(o))]}}}}function cn(e,t){return e+Ai(Ni()*(t-e+1))}function sn(e,t){var n="";if(!e||1>t||9007199254740991<t)return n;do t%2&&(n+=e),(t=Ai(t/2))&&(e+=e);while(t);return n}function fn(e,t){return vu(Tr(e,t,Fo),e+"")}function ln(e){return He(Io(e))}function dn(e,t){var n=Io(e);return Rr(n,yt(t,0,n.length))}function hn(e,t,n,r){if(!vo(e))return e;t=jr(t,e)?[t]:On(t);for(var o=-1,i=t.length,u=i-1,a=e;null!=a&&++o<i;){var c=Lr(t[o]),s=n;if(o!=u){var f=a[c],s=r?r(f,c,a):H;s===H&&(s=vo(f)?f:xr(t[o+1])?[]:{})}it(a,c,s),a=a[c]}return e}function pn(e){return Rr(Io(e))}function vn(e,t,n){var r=-1,o=e.length;for(0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0,n=Ko(o);++r<o;)n[r]=e[r+t];return n}function yn(e,t){var n;return tu(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function gn(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&2147483647>=o){for(;r<o;){var i=r+o>>>1,u=e[i];null!==u&&!bo(u)&&(n?u<=t:u<t)?r=i+1:o=i}return o}return _n(e,t,Fo,n)}function _n(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,u=t!==t,a=null===t,c=bo(t),s=t===H;o<i;){var f=Ai((o+i)/2),l=n(e[f]),d=l!==H,h=null===l,p=l===l,v=bo(l);(u?r||p:s?p&&(r||d):a?p&&d&&(r||!h):c?p&&d&&!h&&(r||!v):h||v?0:r?l<=t:l<t)?o=f+1:i=f}return Ii(i,4294967294)}function mn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var u=e[n],a=t?t(u):u;if(!n||!ao(a,c)){var c=a;i[o++]=0===u?0:u}}return i}function bn(e){return"number"==typeof e?e:bo(e)?J:+e}function wn(e){if("string"==typeof e)return e;if(ta(e))return v(e,wn)+"";if(bo(e))return Zi?Zi.call(e):"";var t=e+"";return"0"==t&&1/e==-V?"-0":t}function kn(e,t,n){var r=-1,o=h,i=e.length,u=!0,a=[],c=a;if(n)u=!1,o=p;else if(200<=i){if(o=t?null:cu(e))return U(o);u=!1,o=L,c=new Le}else c=t?[]:a;e:for(;++r<i;){var s=e[r],f=t?t(s):s,s=n||0!==s?s:0;if(u&&f===f){for(var l=c.length;l--;)if(c[l]===f)continue e;t&&c.push(f),a.push(s)}else o(c,f,n)||(c!==a&&c.push(f),a.push(s))}return a}function xn(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?vn(e,r?0:i,r?i+1:o):vn(e,r?i+1:0,r?o:i)}function En(e,t){var n=e;return n instanceof S&&(n=n.value()),g(t,function(e,t){return t.func.apply(t.thisArg,y([e],t.args))},n)}function jn(e,t,n){for(var r=-1,o=e.length;++r<o;)var i=i?y(wt(i,e[r],t,n),wt(e[r],i,t,n)):e[r];return i&&i.length?kn(i,t,n):[]}function An(e,t,n){for(var r=-1,o=e.length,i=t.length,u={};++r<o;)n(u,e[r],r<i?t[r]:H);return u}function Sn(e){return so(e)?e:[]}function On(e){return ta(e)?e:yu(e)}function qn(e,t,n){var r=e.length;return n=n===H?r:n,!t&&n>=r?e:vn(e,t,n)}function Tn(e,t){if(t)return e.slice();var n=e.length,n=pi?pi(n):new e.constructor(n);return e.copy(n),n}function Dn(e){var t=new e.constructor(e.byteLength);return new hi(t).set(new hi(e)),t}function Cn(e,t){return new e.constructor(t?Dn(e.buffer):e.buffer,e.byteOffset,e.length)}function In(e,t){if(e!==t){var n=e!==H,r=null===e,o=e===e,i=bo(e),u=t!==H,a=null===t,c=t===t,s=bo(t);if(!a&&!s&&!i&&e>t||i&&u&&c&&!a&&!s||r&&u&&c||!n&&c||!o)return 1;if(!r&&!i&&!s&&e<t||s&&n&&o&&!r&&!i||a&&n&&o||!u&&o||!c)return-1}return 0}function Rn(e,t,n,r){var o=-1,i=e.length,u=n.length,a=-1,c=t.length,s=Ci(i-u,0),f=Ko(c+s);for(r=!r;++a<c;)f[a]=t[a];for(;++o<u;)(r||o<i)&&(f[n[o]]=e[o]);for(;s--;)f[a++]=e[o++];return f}function Ln(e,t,n,r){var o=-1,i=e.length,u=-1,a=n.length,c=-1,s=t.length,f=Ci(i-a,0),l=Ko(f+s);for(r=!r;++o<f;)l[o]=e[o];for(f=o;++c<s;)l[f+c]=t[c];for(;++u<a;)(r||o<i)&&(l[f+n[u]]=e[o++]);return l}function Nn(e,t){var n=-1,r=e.length;for(t||(t=Ko(r));++n<r;)t[n]=e[n];return t}function Mn(e,t,n,r){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var a=t[i],c=r?r(n[a],e[a],a,n,e):H;c===H&&(c=e[a]),o?pt(n,a,c):it(n,a,c)}return n}function Fn(e,t){return Mn(e,fu(e),t)}function Bn(e,t){return function(n,r){var o=ta(n)?c:dt,i=t?t():{};return o(n,e,pr(r,2),i)}}function $n(e){return fn(function(t,n){var r=-1,o=n.length,i=1<o?n[o-1]:H,u=2<o?n[2]:H,i=3<e.length&&"function"==typeof i?(o--,i):H;for(u&&Er(n[0],n[1],u)&&(i=3>o?H:i,o=1),t=Go(t);++r<o;)(u=n[r])&&e(t,u,r,i);return t})}function Pn(e,t){return function(n,r){if(null==n)return n;if(!co(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=Go(n);(t?i--:++i<o)&&!1!==r(u[i],i,u););return n}}function Un(e){return function(t,n,r){var o=-1,i=Go(t);r=r(t);for(var u=r.length;u--;){var a=r[e?u:++o];if(!1===n(i[a],a,i))break}return t}}function zn(e,t,n){function r(){return(this&&this!==Je&&this instanceof r?i:e).apply(o?n:this,arguments)}var o=1&t,i=Hn(e);return r}function Wn(e){return function(t){t=So(t);var n=Me.test(t)?K(t):H,r=n?n[0]:t.charAt(0);return t=n?qn(n,1).join(""):t.slice(1),r[e]()+t}}function Kn(e){return function(t){return g(No(Lo(t).replace(Ie,"")),e,"")}}function Hn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=eu(e.prototype),t=e.apply(n,t);return vo(t)?t:n}}function Vn(e,t,n){function r(){for(var i=arguments.length,u=Ko(i),c=i,s=hr(r);c--;)u[c]=arguments[c];return c=3>i&&u[0]!==s&&u[i-1]!==s?[]:P(u,s),i-=c.length,i<n?or(e,t,Gn,r.placeholder,H,u,c,H,H,n-i):a(this&&this!==Je&&this instanceof r?o:e,this,u)}var o=Hn(e);return r}function Jn(e){return function(t,n,r){var o=Go(t);if(!co(t)){var i=pr(n,3);t=To(t),n=function(e){return i(o[e],e,o)}}return n=e(t,n,r),-1<n?o[i?t[n]:n]:H}}function Yn(e){return fr(function(t){var n=t.length,r=n,i=o.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Zo("Expected a function");if(i&&!a&&"wrapper"==dr(u))var a=new o([],(!0))}for(r=a?r:n;++r<n;)var u=t[r],i=dr(u),c="wrapper"==i?su(u):H,a=c&&Ar(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[dr(c[0])].apply(a,c[3]):1==u.length&&Ar(u)?a[i]():a.thru(u);return function(){var e=arguments,r=e[0];if(a&&1==e.length&&ta(r)&&200<=r.length)return a.plant(r).value();for(var o=0,e=n?t[o].apply(this,e):r;++o<n;)e=t[o].call(this,e);return e}})}function Gn(e,t,n,r,o,i,u,a,c,s){function f(){for(var g=arguments.length,_=Ko(g),m=g;m--;)_[m]=arguments[m];if(p){var b,w=hr(f),m=_.length;for(b=0;m--;)_[m]===w&&++b}if(r&&(_=Rn(_,r,o,p)),i&&(_=Ln(_,i,u,p)),g-=b,p&&g<s)return w=P(_,w),or(e,t,Gn,f.placeholder,n,_,w,a,c,s-g);if(w=d?n:this,m=h?w[e]:e,g=_.length,a){b=_.length;for(var k=Ii(a.length,b),x=Nn(_);k--;){var E=a[k];_[k]=xr(E,b)?x[E]:H}}else v&&1<g&&_.reverse();return l&&c<g&&(_.length=c),this&&this!==Je&&this instanceof f&&(m=y||Hn(m)),m.apply(w,_)}var l=128&t,d=1&t,h=2&t,p=24&t,v=512&t,y=h?H:Hn(e);return f}function Xn(e,t){return function(n,r){return Lt(n,e,t(r))}}function Qn(e,t){return function(n,r){var o;if(n===H&&r===H)return t;if(n!==H&&(o=n),r!==H){if(o===H)return r;"string"==typeof n||"string"==typeof r?(n=wn(n),r=wn(r)):(n=bn(n),r=bn(r)),o=e(n,r)}return o}}function Zn(e){return fr(function(t){return t=v(t,I(pr())),fn(function(n){var r=this;return e(t,function(e){return a(e,r,n)})})})}function er(e,t){t=t===H?" ":wn(t);var n=t.length;return 2>n?n?sn(t,e):t:(n=sn(t,ji(e/W(t))),Me.test(t)?qn(K(n),0,e).join(""):n.slice(0,e))}function tr(e,t,n,r){function o(){for(var t=-1,c=arguments.length,s=-1,f=r.length,l=Ko(f+c),d=this&&this!==Je&&this instanceof o?u:e;++s<f;)l[s]=r[s];for(;c--;)l[s++]=arguments[++t];return a(d,i?n:this,l)}var i=1&t,u=Hn(e);return o}function nr(e){return function(t,n,r){r&&"number"!=typeof r&&Er(t,n,r)&&(n=r=H),t=ko(t),n===H?(n=t,t=0):n=ko(n),r=r===H?t<n?1:-1:ko(r);var o=-1;n=Ci(ji((n-t)/(r||1)),0);for(var i=Ko(n);n--;)i[e?n:++o]=t,t+=r;return i}}function rr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=jo(t),n=jo(n)),e(t,n)}}function or(e,t,n,r,o,i,u,a,c,s){var f=8&t,l=f?u:H;u=f?H:u;var d=f?i:H;return i=f?H:i,t=(t|(f?32:64))&~(f?64:32),4&t||(t&=-4),o=[e,t,o,d,l,i,u,a,c,s],n=n.apply(H,o),Ar(e)&&hu(n,o),n.placeholder=r,Cr(n,e,t)}function ir(e){var t=Yo[e];return function(e,n){if(e=jo(e),n=Ii(xo(n),292)){var r=(So(e)+"e").split("e"),r=t(r[0]+"e"+(+r[1]+n)),r=(So(r)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return t(e)}}function ur(e){return function(n){var r=t(n);return"[object Map]"==r?B(n):"[object Set]"==r?z(n):C(n,e(n))}}function ar(e,t,n,r,o,i,u,a){var c=2&t;if(!c&&"function"!=typeof e)throw new Zo("Expected a function");var s=r?r.length:0;if(s||(t&=-97,r=o=H),u=u===H?u:Ci(xo(u),0),a=a===H?a:xo(a),s-=o?o.length:0,64&t){var f=r,l=o;r=o=H}var d=c?H:su(e);return i=[e,t,n,r,o,f,l,i,u,a],d&&(n=i[1],e=d[1],t=n|e,r=128==e&&8==n||128==e&&256==n&&i[7].length<=d[8]||384==e&&d[7].length<=d[8]&&8==n,131>t||r)&&(1&e&&(i[2]=d[2],t|=1&n?0:4),(n=d[3])&&(r=i[3],i[3]=r?Rn(r,n,d[4]):n,i[4]=r?P(i[3],"__lodash_placeholder__"):d[4]),(n=d[5])&&(r=i[5],i[5]=r?Ln(r,n,d[6]):n,i[6]=r?P(i[5],"__lodash_placeholder__"):d[6]),(n=d[7])&&(i[7]=n),128&e&&(i[8]=null==i[8]?d[8]:Ii(i[8],d[8])),null==i[9]&&(i[9]=d[9]),i[0]=d[0],i[1]=t),e=i[0],t=i[1],n=i[2],r=i[3],o=i[4],a=i[9]=null==i[9]?c?0:e.length:Ci(i[9]-s,0),!a&&24&t&&(t&=-25),Cr((d?iu:hu)(t&&1!=t?8==t||16==t?Vn(e,t,a):32!=t&&33!=t||o.length?Gn.apply(H,i):tr(e,t,n,r):zn(e,t,n),i),e,t)}function cr(e,t,n,r,o,i){var u=2&o,a=e.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;if((c=i.get(e))&&i.get(t))return c==t;var c=-1,s=!0,f=1&o?new Le:H;for(i.set(e,t),i.set(t,e);++c<a;){var l=e[c],d=t[c];if(r)var h=u?r(d,l,c,t,e,i):r(l,d,c,e,t,i);if(h!==H){if(h)continue;s=!1;break}if(f){if(!m(t,function(e,t){if(!L(f,t)&&(l===e||n(l,e,r,o,i)))return f.push(t)})){s=!1;break}}else if(l!==d&&!n(l,d,r,o,i)){s=!1;break}}return i["delete"](e),i["delete"](t),s}function sr(e,t,n,r,o,i,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!r(new hi(e),new hi(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ao(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=B;case"[object Set]":if(a||(a=U),e.size!=t.size&&!(2&i))break;return(n=u.get(e))?n==t:(i|=1,u.set(e,t),t=cr(a(e),a(t),r,o,i,u),u["delete"](e),t);case"[object Symbol]":if(Qi)return Qi.call(e)==Qi.call(t)}return!1}function fr(e){return vu(Tr(e,H,Pr),e+"")}function lr(e){return Tt(e,To,fu)}function dr(e){for(var t=e.name+"",n=Ki[t],r=ii.call(Ki,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function hr(e){return(ii.call(n,"placeholder")?n:e).placeholder}function pr(){var e=n.iteratee||Bo,e=e===Bo?Vt:e;return arguments.length?e(arguments[0],arguments[1]):e}function vr(e,t){var n=e.__data__,r=typeof t;return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function yr(e){for(var t=To(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o===o&&!vo(o)]}return t}function gr(e,t){var n=null==e?H:e[t];return zt(n)?n:H}function _r(e,t,n){t=jr(t,e)?[t]:On(t);for(var r=-1,o=t.length,i=!1;++r<o;){var u=Lr(t[r]);if(!(i=null!=e&&n(e,u)))break;e=e[u]}return i||++r!=o?i:(o=e?e.length:0,!!o&&po(o)&&xr(u,o)&&(ta(e)||ea(e)))}function mr(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ii.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function br(e){return"function"!=typeof e.constructor||Sr(e)?{}:eu(vi(e))}function wr(e,t,n,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Dn(e);case"[object Boolean]":case"[object Date]":return new o((+e));case"[object DataView]":return t=r?Dn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cn(e,r);case"[object Map]":return t=r?n(B(e),!0):B(e),g(t,i,new e.constructor);case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return t=new e.constructor(e.source,we.exec(e)),t.lastIndex=e.lastIndex,t;case"[object Set]":return t=r?n(U(e),!0):U(e),g(t,u,new e.constructor);case"[object Symbol]":return Qi?Go(Qi.call(e)):{}}}function kr(e){return ta(e)||ea(e)||!!(bi&&e&&e[bi])}function xr(e,t){return t=null==t?9007199254740991:t,!!t&&("number"==typeof e||Ae.test(e))&&-1<e&&0==e%1&&e<t}function Er(e,t,n){if(!vo(n))return!1;var r=typeof t;return!!("number"==r?co(n)&&xr(t,n.length):"string"==r&&t in n)&&ao(n[t],e)}function jr(e,t){if(ta(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!bo(e))||ae.test(e)||!ue.test(e)||null!=t&&e in Go(t);
}function Ar(e){var t=dr(e),r=n[t];return"function"==typeof r&&t in S.prototype&&(e===r||(t=su(r),!!t&&e===t[0]))}function Sr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ti)}function Or(e,t){return function(n){return null!=n&&n[e]===t&&(t!==H||e in Go(n))}}function qr(e,t,n,r,o,i){return vo(e)&&vo(t)&&(i.set(t,e),Zt(e,t,H,qr,i),i["delete"](t)),e}function Tr(e,t,n){return t=Ci(t===H?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Ci(r.length-t,0),u=Ko(i);++o<i;)u[o]=r[t+o];for(o=-1,i=Ko(t+1);++o<t;)i[o]=r[o];return i[t]=n(u),a(e,this,i)}}function Dr(e,t){return 1==t.length?e:qt(e,vn(t,0,-1))}function Cr(e,t,n){var r=t+"";t=vu;var o,i=Mr;return o=(o=r.match(ye))?o[1].split(ge):[],n=i(o,n),(i=n.length)&&(o=i-1,n[o]=(1<i?"& ":"")+n[o],n=n.join(2<i?", ":" "),r=r.replace(ve,"{\n/* [wrapped with "+n+"] */\n")),t(e,r)}function Ir(e){var t=0,n=0;return function(){var r=Ri(),o=16-(r-n);if(n=r,0<o){if(500<=++t)return arguments[0]}else t=0;return e.apply(H,arguments)}}function Rr(e,t){var n=-1,r=e.length,o=r-1;for(t=t===H?r:t;++n<t;){var r=cn(n,o),i=e[r];e[r]=e[n],e[n]=i}return e.length=t,e}function Lr(e){if("string"==typeof e||bo(e))return e;var t=e+"";return"0"==t&&1/e==-V?"-0":t}function Nr(e){if(null!=e){try{return oi.call(e)}catch(e){}return e+""}return""}function Mr(e,t){return s(Y,function(n){var r="_."+n[0];t&n[1]&&!h(e,r)&&e.push(r)}),e.sort()}function Fr(e){if(e instanceof S)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=Nn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Br(e,t,n){var r=e?e.length:0;return r?(n=null==n?0:xo(n),0>n&&(n=Ci(r+n,0)),w(e,pr(t,3),n)):-1}function $r(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r-1;return n!==H&&(o=xo(n),o=0>n?Ci(r+o,0):Ii(o,r-1)),w(e,pr(t,3),o,!0)}function Pr(e){return e&&e.length?jt(e,1):[]}function Ur(e){return e&&e.length?e[0]:H}function zr(e){var t=e?e.length:0;return t?e[t-1]:H}function Wr(e,t){return e&&e.length&&t&&t.length?un(e,t):e}function Kr(e){return e?Mi.call(e):e}function Hr(e){if(!e||!e.length)return[];var t=0;return e=d(e,function(e){if(so(e))return t=Ci(e.length,t),!0}),D(t,function(t){return v(e,A(t))})}function Vr(e,t){if(!e||!e.length)return[];var n=Hr(e);return null==t?n:v(n,function(e){return a(t,H,e)})}function Jr(e){return e=n(e),e.__chain__=!0,e}function Yr(e,t){return t(e)}function Gr(){return this}function Xr(e,t){return(ta(e)?s:tu)(e,pr(t,3))}function Qr(e,t){return(ta(e)?f:nu)(e,pr(t,3))}function Zr(e,t){return(ta(e)?v:Gt)(e,pr(t,3))}function eo(e,t,n){return t=n?H:t,t=e&&null==t?e.length:t,ar(e,128,H,H,H,H,t)}function to(e,t){var n;if("function"!=typeof t)throw new Zo("Expected a function");return e=xo(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=H),n}}function no(e,t,n){return t=n?H:t,e=ar(e,8,H,H,H,H,H,t),e.placeholder=no.placeholder,e}function ro(e,t,n){return t=n?H:t,e=ar(e,16,H,H,H,H,H,t),e.placeholder=ro.placeholder,e}function oo(e,t,n){function r(t){var n=c,r=s;return c=s=H,p=t,l=e.apply(r,n)}function o(e){var n=e-h;return e-=p,h===H||n>=t||0>n||y&&e>=f}function i(){var e=zu();if(o(e))return u(e);var n,r=pu;n=e-p,e=t-(e-h),n=y?Ii(e,f-n):e,d=r(i,n)}function u(e){return d=H,g&&c?r(e):(c=s=H,l)}function a(){var e=zu(),n=o(e);if(c=arguments,s=this,h=e,n){if(d===H)return p=e=h,d=pu(i,t),v?r(e):l;if(y)return d=pu(i,t),r(h)}return d===H&&(d=pu(i,t)),l}var c,s,f,l,d,h,p=0,v=!1,y=!1,g=!0;if("function"!=typeof e)throw new Zo("Expected a function");return t=jo(t)||0,vo(n)&&(v=!!n.leading,f=(y="maxWait"in n)?Ci(jo(n.maxWait)||0,t):f,g="trailing"in n?!!n.trailing:g),a.cancel=function(){d!==H&&au(d),p=0,c=h=s=d=H},a.flush=function(){return d===H?l:u(zu())},a}function io(e,t){function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;return i.has(o)?i.get(o):(r=e.apply(this,r),n.cache=i.set(o,r)||i,r)}if("function"!=typeof e||t&&"function"!=typeof t)throw new Zo("Expected a function");return n.cache=new(io.Cache||Ce),n}function uo(e){if("function"!=typeof e)throw new Zo("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ao(e,t){return e===t||e!==e&&t!==t}function co(e){return null!=e&&po(e.length)&&!lo(e)}function so(e){return yo(e)&&co(e)}function fo(e){return!!yo(e)&&("[object Error]"==ci.call(e)||"string"==typeof e.message&&"string"==typeof e.name)}function lo(e){return e=vo(e)?ci.call(e):"","[object Function]"==e||"[object GeneratorFunction]"==e||"[object Proxy]"==e}function ho(e){return"number"==typeof e&&e==xo(e)}function po(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function vo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function yo(e){return null!=e&&"object"==typeof e}function go(e){return"number"==typeof e||yo(e)&&"[object Number]"==ci.call(e)}function _o(e){return!(!yo(e)||"[object Object]"!=ci.call(e))&&(e=vi(e),null===e||(e=ii.call(e,"constructor")&&e.constructor,"function"==typeof e&&e instanceof e&&oi.call(e)==ai))}function mo(e){return"string"==typeof e||!ta(e)&&yo(e)&&"[object String]"==ci.call(e)}function bo(e){return"symbol"==typeof e||yo(e)&&"[object Symbol]"==ci.call(e)}function wo(e){if(!e)return[];if(co(e))return mo(e)?K(e):Nn(e);if(yi&&e[yi]){e=e[yi]();for(var n,r=[];!(n=e.next()).done;)r.push(n.value);return r}return n=t(e),("[object Map]"==n?B:"[object Set]"==n?U:Io)(e)}function ko(e){return e?(e=jo(e),e===V||e===-V?1.7976931348623157e308*(0>e?-1:1):e===e?e:0):0===e?e:0}function xo(e){e=ko(e);var t=e%1;return e===e?t?e-t:e:0}function Eo(e){return e?yt(xo(e),0,4294967295):0}function jo(e){if("number"==typeof e)return e;if(bo(e))return J;if(vo(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=vo(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(de,"");var t=xe.test(e);return t||je.test(e)?Ke(e.slice(2),t?2:8):ke.test(e)?J:+e}function Ao(e){return Mn(e,Do(e))}function So(e){return null==e?"":wn(e)}function Oo(e,t,n){return e=null==e?H:qt(e,t),e===H?n:e}function qo(e,t){return null!=e&&_r(e,t,It)}function To(e){return co(e)?ze(e):Jt(e)}function Do(e){if(co(e))e=ze(e,!0);else if(vo(e)){var t,n=Sr(e),r=[];for(t in e)("constructor"!=t||!n&&ii.call(e,t))&&r.push(t);e=r}else{if(t=[],null!=e)for(n in Go(e))t.push(n);e=t}return e}function Co(e,t){return null==e?{}:rn(e,Tt(e,Do,lu),pr(t))}function Io(e){return e?R(e,To(e)):[]}function Ro(e){return Ra(So(e).toLowerCase())}function Lo(e){return(e=So(e))&&e.replace(Se,ut).replace(Re,"")}function No(e,t,n){return e=So(e),t=n?H:t,t===H?Fe.test(e)?e.match(Ne)||[]:e.match(_e)||[]:e.match(t)||[]}function Mo(e){return function(){return e}}function Fo(e){return e}function Bo(e){return Vt("function"==typeof e?e:gt(e,!0))}function $o(e,t,n){var r=To(t),o=Ot(t,r);null!=n||vo(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Ot(t,To(t)));var i=!(vo(n)&&"chain"in n&&!n.chain),u=lo(e);return s(o,function(n){var r=t[n];e[n]=r,u&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Nn(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,y([this.value()],arguments))})}),e}function Po(){}function Uo(e){return jr(e)?A(Lr(e)):on(e)}function zo(){return[]}function Wo(){return!1}e=e?st.defaults(Je.Object(),e,st.pick(Je,Be)):Je;var Ko=e.Array,Ho=e.Date,Vo=e.Error,Jo=e.Function,Yo=e.Math,Go=e.Object,Xo=e.RegExp,Qo=e.String,Zo=e.TypeError,ei=Ko.prototype,ti=Go.prototype,ni=e["__core-js_shared__"],ri=function(){var e=/[^.]+$/.exec(ni&&ni.keys&&ni.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oi=Jo.prototype.toString,ii=ti.hasOwnProperty,ui=0,ai=oi.call(Go),ci=ti.toString,si=Je._,fi=Xo("^"+oi.call(ii).replace(fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),li=Xe?e.Buffer:H,di=e.Symbol,hi=e.Uint8Array,pi=li?li.f:H,vi=$(Go.getPrototypeOf,Go),yi=di?di.iterator:H,gi=Go.create,_i=ti.propertyIsEnumerable,mi=ei.splice,bi=di?di.isConcatSpreadable:H,wi=function(){try{var e=gr(Go,"defineProperty");return e({},"",{}),e}catch(e){}}(),ki=e.clearTimeout!==Je.clearTimeout&&e.clearTimeout,xi=Ho&&Ho.now!==Je.Date.now&&Ho.now,Ei=e.setTimeout!==Je.setTimeout&&e.setTimeout,ji=Yo.ceil,Ai=Yo.floor,Si=Go.getOwnPropertySymbols,Oi=li?li.isBuffer:H,qi=e.isFinite,Ti=ei.join,Di=$(Go.keys,Go),Ci=Yo.max,Ii=Yo.min,Ri=Ho.now,Li=e.parseInt,Ni=Yo.random,Mi=ei.reverse,Fi=gr(e,"DataView"),Bi=gr(e,"Map"),$i=gr(e,"Promise"),Pi=gr(e,"Set"),Ui=gr(e,"WeakMap"),zi=gr(Go,"create"),Wi=Ui&&new Ui,Ki={},Hi=Nr(Fi),Vi=Nr(Bi),Ji=Nr($i),Yi=Nr(Pi),Gi=Nr(Ui),Xi=di?di.prototype:H,Qi=Xi?Xi.valueOf:H,Zi=Xi?Xi.toString:H,eu=function(){function e(){}return function(t){return vo(t)?gi?gi(t):(e.prototype=t,t=new e,e.prototype=H,t):{}}}();n.templateSettings={escape:re,evaluate:oe,interpolate:ie,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,o.prototype=eu(r.prototype),o.prototype.constructor=o,S.prototype=eu(r.prototype),S.prototype.constructor=S,Te.prototype.clear=function(){this.__data__=zi?zi(null):{},this.size=0},Te.prototype["delete"]=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Te.prototype.get=function(e){var t=this.__data__;return zi?(e=t[e],"__lodash_hash_undefined__"===e?H:e):ii.call(t,e)?t[e]:H},Te.prototype.has=function(e){var t=this.__data__;return zi?t[e]!==H:ii.call(t,e)},Te.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zi&&t===H?"__lodash_hash_undefined__":t,this},De.prototype.clear=function(){this.__data__=[],this.size=0},De.prototype["delete"]=function(e){var t=this.__data__;return e=lt(t,e),!(0>e||(e==t.length-1?t.pop():mi.call(t,e,1),--this.size,0))},De.prototype.get=function(e){var t=this.__data__;return e=lt(t,e),0>e?H:t[e][1]},De.prototype.has=function(e){return-1<lt(this.__data__,e)},De.prototype.set=function(e,t){var n=this.__data__,r=lt(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(Bi||De),string:new Te}},Ce.prototype["delete"]=function(e){return e=vr(this,e)["delete"](e),this.size-=e?1:0,e},Ce.prototype.get=function(e){return vr(this,e).get(e)},Ce.prototype.has=function(e){return vr(this,e).has(e)},Ce.prototype.set=function(e,t){var n=vr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Le.prototype.add=Le.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Le.prototype.has=function(e){return this.__data__.has(e)},Ue.prototype.clear=function(){this.__data__=new De,this.size=0},Ue.prototype["delete"]=function(e){var t=this.__data__;return e=t["delete"](e),this.size=t.size,e},Ue.prototype.get=function(e){return this.__data__.get(e)},Ue.prototype.has=function(e){return this.__data__.has(e)},Ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof De){var r=n.__data__;if(!Bi||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ce(r)}return n.set(e,t),this.size=n.size,this};var tu=Pn(At),nu=Pn(St,!0),ru=Un(),ou=Un(!0),iu=Wi?function(e,t){return Wi.set(e,t),e}:Fo,uu=wi?function(e,t){return wi(e,"toString",{configurable:!0,enumerable:!1,value:Mo(t),writable:!0})}:Fo,au=ki||function(e){return Je.clearTimeout(e)},cu=Pi&&1/U(new Pi([,-0]))[1]==V?function(e){return new Pi(e)}:Po,su=Wi?function(e){return Wi.get(e)}:Po,fu=Si?$(Si,Go):zo,lu=Si?function(e){for(var t=[];e;)y(t,fu(e)),e=vi(e);return t}:zo;(Fi&&"[object DataView]"!=t(new Fi(new ArrayBuffer(1)))||Bi&&"[object Map]"!=t(new Bi)||$i&&"[object Promise]"!=t($i.resolve())||Pi&&"[object Set]"!=t(new Pi)||Ui&&"[object WeakMap]"!=t(new Ui))&&(t=function(e){var t=ci.call(e);if(e=(e="[object Object]"==t?e.constructor:H)?Nr(e):H)switch(e){case Hi:return"[object DataView]";case Vi:return"[object Map]";case Ji:return"[object Promise]";case Yi:return"[object Set]";case Gi:return"[object WeakMap]"}return t});var du=ni?lo:Wo,hu=Ir(iu),pu=Ei||function(e,t){return Je.setTimeout(e,t)},vu=Ir(uu),yu=function(e){e=io(e,function(e){return 500===t.size&&t.clear(),e});var t=e.cache;return e}(function(e){e=So(e);var t=[];return ce.test(e)&&t.push(""),e.replace(se,function(e,n,r,o){t.push(r?o.replace(me,"$1"):n||e)}),t}),gu=fn(function(e,t){return so(e)?wt(e,jt(t,1,so,!0)):[]}),_u=fn(function(e,t){var n=zr(t);return so(n)&&(n=H),so(e)?wt(e,jt(t,1,so,!0),pr(n,2)):[]}),mu=fn(function(e,t){var n=zr(t);return so(n)&&(n=H),so(e)?wt(e,jt(t,1,so,!0),H,n):[]}),bu=fn(function(e){var t=v(e,Sn);return t.length&&t[0]===e[0]?Rt(t):[]}),wu=fn(function(e){var t=zr(e),n=v(e,Sn);return t===zr(n)?t=H:n.pop(),n.length&&n[0]===e[0]?Rt(n,pr(t,2)):[]}),ku=fn(function(e){var t=zr(e),n=v(e,Sn);return t===zr(n)?t=H:n.pop(),n.length&&n[0]===e[0]?Rt(n,H,t):[]}),xu=fn(Wr),Eu=fr(function(e,t){var n=e?e.length:0,r=vt(e,t);return an(e,v(t,function(e){return xr(e,n)?+e:e}).sort(In)),r}),ju=fn(function(e){return kn(jt(e,1,so,!0))}),Au=fn(function(e){var t=zr(e);return so(t)&&(t=H),kn(jt(e,1,so,!0),pr(t,2))}),Su=fn(function(e){var t=zr(e);return so(t)&&(t=H),kn(jt(e,1,so,!0),H,t)}),Ou=fn(function(e,t){return so(e)?wt(e,t):[]}),qu=fn(function(e){return jn(d(e,so))}),Tu=fn(function(e){var t=zr(e);return so(t)&&(t=H),jn(d(e,so),pr(t,2))}),Du=fn(function(e){var t=zr(e);return so(t)&&(t=H),jn(d(e,so),H,t)}),Cu=fn(Hr),Iu=fn(function(e){var t=e.length,t=1<t?e[t-1]:H,t="function"==typeof t?(e.pop(),t):H;return Vr(e,t)}),Ru=fr(function(e){function t(t){return vt(t,e)}var n=e.length,r=n?e[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof S&&xr(r)?(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:Yr,args:[t],thisArg:H}),new o(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(H),e})):this.thru(t)}),Lu=Bn(function(e,t,n){ii.call(e,n)?++e[n]:pt(e,n,1)}),Nu=Jn(Br),Mu=Jn($r),Fu=Bn(function(e,t,n){ii.call(e,n)?e[n].push(t):pt(e,n,[t])}),Bu=fn(function(e,t,n){var r=-1,o="function"==typeof t,i=jr(t),u=co(e)?Ko(e.length):[];return tu(e,function(e){var c=o?t:i&&null!=e?e[t]:H;u[++r]=c?a(c,e,n):Nt(e,t,n)}),u}),$u=Bn(function(e,t,n){pt(e,n,t)}),Pu=Bn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Uu=fn(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Er(e,t[0],t[1])?t=[]:2<n&&Er(t[0],t[1],t[2])&&(t=[t[0]]),tn(e,jt(t,1),[])}),zu=xi||function(){return Je.Date.now()},Wu=fn(function(e,t,n){var r=1;if(n.length)var o=P(n,hr(Wu)),r=32|r;return ar(e,r,t,n,o)}),Ku=fn(function(e,t,n){var r=3;if(n.length)var o=P(n,hr(Ku)),r=32|r;return ar(t,r,e,n,o)}),Hu=fn(function(e,t){return bt(e,1,t)}),Vu=fn(function(e,t,n){return bt(e,jo(t)||0,n)});io.Cache=Ce;var Ju=fn(function(e,t){t=1==t.length&&ta(t[0])?v(t[0],I(pr())):v(jt(t,1),I(pr()));var n=t.length;return fn(function(r){for(var o=-1,i=Ii(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return a(e,this,r)})}),Yu=fn(function(e,t){return ar(e,32,H,t,P(t,hr(Yu)))}),Gu=fn(function(e,t){return ar(e,64,H,t,P(t,hr(Gu)))}),Xu=fr(function(e,t){return ar(e,256,H,H,H,t)}),Qu=rr(Dt),Zu=rr(function(e,t){return e>=t}),ea=Mt(function(){return arguments}())?Mt:function(e){return yo(e)&&ii.call(e,"callee")&&!_i.call(e,"callee")},ta=Ko.isArray,na=Ze?I(Ze):Ft,ra=Oi||Wo,oa=et?I(et):Bt,ia=tt?I(tt):Pt,ua=nt?I(nt):Wt,aa=rt?I(rt):Kt,ca=ot?I(ot):Ht,sa=rr(Yt),fa=rr(function(e,t){return e<=t}),la=$n(function(e,t){if(Sr(t)||co(t))Mn(t,To(t),e);else for(var n in t)ii.call(t,n)&&it(e,n,t[n])}),da=$n(function(e,t){Mn(t,Do(t),e)}),ha=$n(function(e,t,n,r){Mn(t,Do(t),e,r)}),pa=$n(function(e,t,n,r){Mn(t,To(t),e,r)}),va=fr(vt),ya=fn(function(e){return e.push(H,Ge),a(ha,H,e)}),ga=fn(function(e){return e.push(H,qr),a(ka,H,e)}),_a=Xn(function(e,t,n){e[t]=n},Mo(Fo)),ma=Xn(function(e,t,n){ii.call(e,t)?e[t].push(n):e[t]=[n]},pr),ba=fn(Nt),wa=$n(function(e,t,n){Zt(e,t,n)}),ka=$n(function(e,t,n,r){Zt(e,t,n,r)}),xa=fr(function(e,t){return null==e?{}:(t=v(t,Lr),nn(e,wt(Tt(e,Do,lu),t)))}),Ea=fr(function(e,t){return null==e?{}:nn(e,v(t,Lr))}),ja=ur(To),Aa=ur(Do),Sa=Kn(function(e,t,n){return t=t.toLowerCase(),e+(n?Ro(t):t)}),Oa=Kn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qa=Kn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ta=Wn("toLowerCase"),Da=Kn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ca=Kn(function(e,t,n){return e+(n?" ":"")+Ra(t)}),Ia=Kn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ra=Wn("toUpperCase"),La=fn(function(e,t){try{return a(e,H,t)}catch(e){return fo(e)?e:new Vo(e)}}),Na=fr(function(e,t){return s(t,function(t){t=Lr(t),pt(e,t,Wu(e[t],e))}),e}),Ma=Yn(),Fa=Yn(!0),Ba=fn(function(e,t){return function(n){return Nt(n,e,t)}}),$a=fn(function(e,t){return function(n){return Nt(e,n,t)}}),Pa=Zn(v),Ua=Zn(l),za=Zn(m),Wa=nr(),Ka=nr(!0),Ha=Qn(function(e,t){return e+t},0),Va=ir("ceil"),Ja=Qn(function(e,t){return e/t},1),Ya=ir("floor"),Ga=Qn(function(e,t){return e*t},1),Xa=ir("round"),Qa=Qn(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new Zo("Expected a function");return e=xo(e),function(){if(1>--e)return t.apply(this,arguments)}},n.ary=eo,n.assign=la,n.assignIn=da,n.assignInWith=ha,n.assignWith=pa,n.at=va,n.before=to,n.bind=Wu,n.bindAll=Na,n.bindKey=Ku,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ta(e)?e:[e]},n.chain=Jr,n.chunk=function(e,t,n){if(t=(n?Er(e,t,n):t===H)?1:Ci(xo(t),0),n=e?e.length:0,!n||1>t)return[];for(var r=0,o=0,i=Ko(ji(n/t));r<n;)i[o++]=vn(e,r,r+=t);return i},n.compact=function(e){for(var t=-1,n=e?e.length:0,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Ko(e-1),n=arguments[0];e--;)t[e-1]=arguments[e];return y(ta(n)?Nn(n):[n],jt(t,1))},n.cond=function(e){var t=e?e.length:0,n=pr();return e=t?v(e,function(e){if("function"!=typeof e[1])throw new Zo("Expected a function");return[n(e[0]),e[1]]}):[],fn(function(n){for(var r=-1;++r<t;){var o=e[r];if(a(o[0],this,n))return a(o[1],this,n)}})},n.conforms=function(e){return _t(gt(e,!0))},n.constant=Mo,n.countBy=Lu,n.create=function(e,t){var n=eu(e);return t?ht(n,t):n},n.curry=no,n.curryRight=ro,n.debounce=oo,n.defaults=ya,n.defaultsDeep=ga,n.defer=Hu,n.delay=Vu,n.difference=gu,n.differenceBy=_u,n.differenceWith=mu,n.drop=function(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:xo(t),vn(e,0>t?0:t,r)):[]},n.dropRight=function(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:xo(t),t=r-t,vn(e,0,0>t?0:t)):[]},n.dropRightWhile=function(e,t){return e&&e.length?xn(e,pr(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?xn(e,pr(t,3),!0):[]},n.fill=function(e,t,n,r){var o=e?e.length:0;if(!o)return[];for(n&&"number"!=typeof n&&Er(e,t,n)&&(n=0,r=o),o=e.length,n=xo(n),0>n&&(n=-n>o?0:o+n),r=r===H||r>o?o:xo(r),0>r&&(r+=o),r=n>r?0:Eo(r);n<r;)e[n++]=t;return e},n.filter=function(e,t){return(ta(e)?d:Et)(e,pr(t,3))},n.flatMap=function(e,t){return jt(Zr(e,t),1)},n.flatMapDeep=function(e,t){return jt(Zr(e,t),V)},n.flatMapDepth=function(e,t,n){return n=n===H?1:xo(n),jt(Zr(e,t),n)},n.flatten=Pr,n.flattenDeep=function(e){return e&&e.length?jt(e,V):[]},n.flattenDepth=function(e,t){return e&&e.length?(t=t===H?1:xo(t),jt(e,t)):[]},n.flip=function(e){return ar(e,512)},n.flow=Ma,n.flowRight=Fa,n.fromPairs=function(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},n.functions=function(e){return null==e?[]:Ot(e,To(e))},n.functionsIn=function(e){return null==e?[]:Ot(e,Do(e))},n.groupBy=Fu,n.initial=function(e){return e&&e.length?vn(e,0,-1):[]},n.intersection=bu,n.intersectionBy=wu,n.intersectionWith=ku,n.invert=_a,n.invertBy=ma,n.invokeMap=Bu,n.iteratee=Bo,n.keyBy=$u,n.keys=To,n.keysIn=Do,n.map=Zr,n.mapKeys=function(e,t){var n={};return t=pr(t,3),At(e,function(e,r,o){pt(n,t(e,r,o),e)}),n},n.mapValues=function(e,t){var n={};return t=pr(t,3),At(e,function(e,r,o){pt(n,r,t(e,r,o))}),n},n.matches=function(e){return Xt(gt(e,!0))},n.matchesProperty=function(e,t){return Qt(e,gt(t,!0))},n.memoize=io,n.merge=wa,n.mergeWith=ka,n.method=Ba,n.methodOf=$a,n.mixin=$o,n.negate=uo,n.nthArg=function(e){return e=xo(e),fn(function(t){return en(t,e)})},n.omit=xa,n.omitBy=function(e,t){return Co(e,uo(pr(t)))},n.once=function(e){return to(2,e)},n.orderBy=function(e,t,n,r){return null==e?[]:(ta(t)||(t=null==t?[]:[t]),n=r?H:n,ta(n)||(n=null==n?[]:[n]),tn(e,t,n))},n.over=Pa,n.overArgs=Ju,n.overEvery=Ua,n.overSome=za,n.partial=Yu,n.partialRight=Gu,n.partition=Pu,n.pick=Ea,n.pickBy=Co,n.property=Uo,n.propertyOf=function(e){return function(t){return null==e?H:qt(e,t)}},n.pull=xu,n.pullAll=Wr,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?un(e,t,pr(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?un(e,t,H,n):e},n.pullAt=Eu,n.range=Wa,n.rangeRight=Ka,n.rearg=Xu,n.reject=function(e,t){return(ta(e)?d:Et)(e,uo(pr(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=pr(t,3);++r<i;){var u=e[r];t(u,r,e)&&(n.push(u),o.push(r))}return an(e,o),n},n.rest=function(e,t){if("function"!=typeof e)throw new Zo("Expected a function");return t=t===H?t:xo(t),fn(e,t)},n.reverse=Kr,n.sampleSize=function(e,t,n){return t=(n?Er(e,t,n):t===H)?1:xo(t),(ta(e)?Ve:dn)(e,t)},n.set=function(e,t,n){return null==e?e:hn(e,t,n)},n.setWith=function(e,t,n,r){return r="function"==typeof r?r:H,null==e?e:hn(e,t,n,r)},n.shuffle=function(e){return(ta(e)?Ye:pn)(e)},n.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Er(e,t,n)?(t=0,n=r):(t=null==t?0:xo(t),n=n===H?r:xo(n)),vn(e,t,n)):[]},n.sortBy=Uu,n.sortedUniq=function(e){return e&&e.length?mn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?mn(e,pr(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&Er(e,t,n)&&(t=n=H),n=n===H?4294967295:n>>>0,n?(e=So(e))&&("string"==typeof t||null!=t&&!ua(t))&&(t=wn(t),!t&&Me.test(e))?qn(K(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new Zo("Expected a function");return t=t===H?0:Ci(xo(t),0),fn(function(n){var r=n[t];return n=qn(n,0,t),r&&y(n,r),a(e,this,n)})},n.tail=function(e){var t=e?e.length:0;return t?vn(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?(t=n||t===H?1:xo(t),vn(e,0,0>t?0:t)):[]},n.takeRight=function(e,t,n){var r=e?e.length:0;return r?(t=n||t===H?1:xo(t),t=r-t,vn(e,0>t?0:t,r)):[]},n.takeRightWhile=function(e,t){return e&&e.length?xn(e,pr(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?xn(e,pr(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Zo("Expected a function");return vo(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),oo(e,t,{leading:r,maxWait:t,trailing:o})},n.thru=Yr,n.toArray=wo,n.toPairs=ja,n.toPairsIn=Aa,n.toPath=function(e){return ta(e)?v(e,Lr):bo(e)?[e]:Nn(yu(e))},n.toPlainObject=Ao,n.transform=function(e,t,n){var r=ta(e),o=r||ra(e)||ca(e);if(t=pr(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:vo(e)&&lo(i)?eu(vi(e)):{}}return(o?s:At)(e,function(e,r,o){return t(n,e,r,o)}),n},n.unary=function(e){return eo(e,1)},n.union=ju,n.unionBy=Au,n.unionWith=Su,n.uniq=function(e){return e&&e.length?kn(e):[]},n.uniqBy=function(e,t){return e&&e.length?kn(e,pr(t,2)):[]},n.uniqWith=function(e,t){return e&&e.length?kn(e,H,t):[]},n.unset=function(e,t){var n;if(null==e)n=!0;else{n=e;var r=t,r=jr(r,n)?[r]:On(r);n=Dr(n,r),r=Lr(zr(r)),n=!(null!=n&&ii.call(n,r))||delete n[r]}return n},n.unzip=Hr,n.unzipWith=Vr,n.update=function(e,t,n){return null==e?e:hn(e,t,("function"==typeof n?n:Fo)(qt(e,t)),void 0)},n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:H,null!=e&&(e=hn(e,t,("function"==typeof n?n:Fo)(qt(e,t)),r)),e},n.values=Io,n.valuesIn=function(e){return null==e?[]:R(e,Do(e))},n.without=Ou,n.words=No,n.wrap=function(e,t){return t=null==t?Fo:t,Yu(t,e)},n.xor=qu,n.xorBy=Tu,n.xorWith=Du,n.zip=Cu,n.zipObject=function(e,t){return An(e||[],t||[],it)},n.zipObjectDeep=function(e,t){return An(e||[],t||[],hn)},n.zipWith=Iu,n.entries=ja,n.entriesIn=Aa,n.extend=da,n.extendWith=ha,$o(n,n),n.add=Ha,n.attempt=La,n.camelCase=Sa,n.capitalize=Ro,n.ceil=Va,n.clamp=function(e,t,n){return n===H&&(n=t,t=H),n!==H&&(n=jo(n),n=n===n?n:0),t!==H&&(t=jo(t),t=t===t?t:0),yt(jo(e),t,n)},n.clone=function(e){return gt(e,!1,!0)},n.cloneDeep=function(e){return gt(e,!0,!0)},n.cloneDeepWith=function(e,t){return gt(e,!0,!0,t)},n.cloneWith=function(e,t){return gt(e,!1,!0,t)},n.conformsTo=function(e,t){return null==t||mt(e,t,To(t))},n.deburr=Lo,n.defaultTo=function(e,t){return null==e||e!==e?t:e},n.divide=Ja,n.endsWith=function(e,t,n){e=So(e),t=wn(t);var r=e.length,r=n=n===H?r:yt(xo(n),0,r);return n-=t.length,0<=n&&e.slice(n,r)==t},n.eq=ao,n.escape=function(e){return(e=So(e))&&ne.test(e)?e.replace(ee,at):e},n.escapeRegExp=function(e){return(e=So(e))&&le.test(e)?e.replace(fe,"\\$&"):e},n.every=function(e,t,n){var r=ta(e)?l:kt;return n&&Er(e,t,n)&&(t=H),r(e,pr(t,3))},n.find=Nu,n.findIndex=Br,n.findKey=function(e,t){return b(e,pr(t,3),At)},n.findLast=Mu,n.findLastIndex=$r,n.findLastKey=function(e,t){return b(e,pr(t,3),St)},n.floor=Ya,n.forEach=Xr,n.forEachRight=Qr,n.forIn=function(e,t){return null==e?e:ru(e,pr(t,3),Do)},n.forInRight=function(e,t){return null==e?e:ou(e,pr(t,3),Do)},n.forOwn=function(e,t){return e&&At(e,pr(t,3))},n.forOwnRight=function(e,t){return e&&St(e,pr(t,3))},n.get=Oo,n.gt=Qu,n.gte=Zu,n.has=function(e,t){return null!=e&&_r(e,t,Ct)},n.hasIn=qo,n.head=Ur,n.identity=Fo,n.includes=function(e,t,n,r){return e=co(e)?e:Io(e),n=n&&!r?xo(n):0,r=e.length,0>n&&(n=Ci(r+n,0)),mo(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<k(e,t,n)},n.indexOf=function(e,t,n){var r=e?e.length:0;return r?(n=null==n?0:xo(n),0>n&&(n=Ci(r+n,0)),k(e,t,n)):-1},n.inRange=function(e,t,n){return t=ko(t),n===H?(n=t,t=0):n=ko(n),e=jo(e),e>=Ii(t,n)&&e<Ci(t,n)},n.invoke=ba,n.isArguments=ea,n.isArray=ta,n.isArrayBuffer=na,n.isArrayLike=co,n.isArrayLikeObject=so,n.isBoolean=function(e){return!0===e||!1===e||yo(e)&&"[object Boolean]"==ci.call(e)},n.isBuffer=ra,n.isDate=oa,n.isElement=function(e){return null!=e&&1===e.nodeType&&yo(e)&&!_o(e)},n.isEmpty=function(e){if(co(e)&&(ta(e)||"string"==typeof e||"function"==typeof e.splice||ra(e)||ca(e)||ea(e)))return!e.length;var n=t(e);if("[object Map]"==n||"[object Set]"==n)return!e.size;if(Sr(e))return!Jt(e).length;for(var r in e)if(ii.call(e,r))return!1;return!0},n.isEqual=function(e,t){return $t(e,t)},n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:H)?n(e,t):H;return r===H?$t(e,t,n):!!r},n.isError=fo,n.isFinite=function(e){return"number"==typeof e&&qi(e)},n.isFunction=lo,n.isInteger=ho,n.isLength=po,n.isMap=ia,n.isMatch=function(e,t){return e===t||Ut(e,t,yr(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:H,Ut(e,t,yr(t),n)},n.isNaN=function(e){return go(e)&&e!=+e},n.isNative=function(e){if(du(e))throw new Vo("Unsupported core-js use. Try https://github.com/es-shims.");return zt(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=go,n.isObject=vo,n.isObjectLike=yo,n.isPlainObject=_o,n.isRegExp=ua,n.isSafeInteger=function(e){return ho(e)&&-9007199254740991<=e&&9007199254740991>=e},n.isSet=aa,n.isString=mo,n.isSymbol=bo,n.isTypedArray=ca,n.isUndefined=function(e){return e===H},n.isWeakMap=function(e){return yo(e)&&"[object WeakMap]"==t(e)},n.isWeakSet=function(e){return yo(e)&&"[object WeakSet]"==ci.call(e)},n.join=function(e,t){return e?Ti.call(e,t):""},n.kebabCase=Oa,n.last=zr,n.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if(n!==H&&(o=xo(n),o=0>o?Ci(r+o,0):Ii(o,r-1)),t===t){for(n=o+1;n--&&e[n]!==t;);e=n}else e=w(e,E,o,!0);return e},n.lowerCase=qa,n.lowerFirst=Ta,n.lt=sa,n.lte=fa,n.max=function(e){return e&&e.length?xt(e,Fo,Dt):H},n.maxBy=function(e,t){return e&&e.length?xt(e,pr(t,2),Dt):H},n.mean=function(e){return j(e,Fo)},n.meanBy=function(e,t){return j(e,pr(t,2))},n.min=function(e){return e&&e.length?xt(e,Fo,Yt):H},n.minBy=function(e,t){return e&&e.length?xt(e,pr(t,2),Yt):H},n.stubArray=zo,n.stubFalse=Wo,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Ga,n.nth=function(e,t){return e&&e.length?en(e,xo(t)):H},n.noConflict=function(){return Je._===this&&(Je._=si),this},n.noop=Po,n.now=zu,n.pad=function(e,t,n){e=So(e);var r=(t=xo(t))?W(e):0;return!t||r>=t?e:(t=(t-r)/2,er(Ai(t),n)+e+er(ji(t),n))},n.padEnd=function(e,t,n){e=So(e);var r=(t=xo(t))?W(e):0;return t&&r<t?e+er(t-r,n):e},n.padStart=function(e,t,n){e=So(e);var r=(t=xo(t))?W(e):0;return t&&r<t?er(t-r,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Li(So(e).replace(he,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Er(e,t,n)&&(t=n=H),n===H&&("boolean"==typeof t?(n=t,t=H):"boolean"==typeof e&&(n=e,e=H)),e===H&&t===H?(e=0,t=1):(e=ko(e),t===H?(t=e,e=0):t=ko(t)),e>t){var r=e;e=t,t=r}return n||e%1||t%1?(n=Ni(),Ii(e+n*(t-e+We("1e-"+((n+"").length-1))),t)):cn(e,t)},n.reduce=function(e,t,n){var r=ta(e)?g:O,o=3>arguments.length;return r(e,pr(t,4),n,o,tu)},n.reduceRight=function(e,t,n){var r=ta(e)?_:O,o=3>arguments.length;return r(e,pr(t,4),n,o,nu)},n.repeat=function(e,t,n){return t=(n?Er(e,t,n):t===H)?1:xo(t),sn(So(e),t)},n.replace=function(){var e=arguments,t=So(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},n.result=function(e,t,n){t=jr(t,e)?[t]:On(t);var r=-1,o=t.length;for(o||(e=H,o=1);++r<o;){var i=null==e?H:e[Lr(t[r])];i===H&&(r=o,i=n),e=lo(i)?i.call(e):i}return e},n.round=Xa,n.runInContext=ft,n.sample=function(e){return(ta(e)?He:ln)(e)},n.size=function(e){if(null==e)return 0;if(co(e))return mo(e)?W(e):e.length;var n=t(e);return"[object Map]"==n||"[object Set]"==n?e.size:Jt(e).length},n.snakeCase=Da,n.some=function(e,t,n){var r=ta(e)?m:yn;return n&&Er(e,t,n)&&(t=H),r(e,pr(t,3))},n.sortedIndex=function(e,t){return gn(e,t)},n.sortedIndexBy=function(e,t,n){return _n(e,t,pr(n,2))},n.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var r=gn(e,t);if(r<n&&ao(e[r],t))return r}return-1},n.sortedLastIndex=function(e,t){return gn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return _n(e,t,pr(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=gn(e,t,!0)-1;if(ao(e[n],t))return n}return-1},n.startCase=Ca,n.startsWith=function(e,t,n){return e=So(e),n=yt(xo(n),0,e.length),t=wn(t),e.slice(n,n+t.length)==t},n.subtract=Qa,n.sum=function(e){return e&&e.length?T(e,Fo):0},n.sumBy=function(e,t){return e&&e.length?T(e,pr(t,2)):0},n.template=function(e,t,r){var o=n.templateSettings;r&&Er(e,t,r)&&(t=H),e=So(e),t=ha({},t,o,Ge),r=ha({},t.imports,o.imports,Ge);var i,u,a=To(r),c=R(r,a),s=0;r=t.interpolate||Oe;var f="__p+='";r=Xo((t.escape||Oe).source+"|"+r.source+"|"+(r===ie?be:Oe).source+"|"+(t.evaluate||Oe).source+"|$","g");var l="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(r,function(t,n,r,o,a,c){return r||(r=o),f+=e.slice(s,c).replace(qe,F),n&&(i=!0,f+="'+__e("+n+")+'"),a&&(u=!0,f+="';"+a+";\n__p+='"),r&&(f+="'+((__t=("+r+"))==null?'':__t)+'"),s=c+t.length,t}),f+="';",(t=t.variable)||(f="with(obj){"+f+"}"),f=(u?f.replace(G,""):f).replace(X,"$1").replace(Q,"$1;"),f="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(u?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+f+"return __p}",t=La(function(){return Jo(a,l+"return "+f).apply(H,c)}),t.source=f,fo(t))throw t;return t},n.times=function(e,t){if(e=xo(e),1>e||9007199254740991<e)return[];var n=4294967295,r=Ii(e,4294967295);for(t=pr(t),e-=4294967295,r=D(r,t);++n<e;)t(n);return r},n.toFinite=ko,n.toInteger=xo,n.toLength=Eo,n.toLower=function(e){return So(e).toLowerCase()},n.toNumber=jo,n.toSafeInteger=function(e){return yt(xo(e),-9007199254740991,9007199254740991)},n.toString=So,n.toUpper=function(e){return So(e).toUpperCase()},n.trim=function(e,t,n){return(e=So(e))&&(n||t===H)?e.replace(de,""):e&&(t=wn(t))?(e=K(e),n=K(t),t=N(e,n),n=M(e,n)+1,qn(e,t,n).join("")):e},n.trimEnd=function(e,t,n){return(e=So(e))&&(n||t===H)?e.replace(pe,""):e&&(t=wn(t))?(e=K(e),t=M(e,K(t))+1,
qn(e,0,t).join("")):e},n.trimStart=function(e,t,n){return(e=So(e))&&(n||t===H)?e.replace(he,""):e&&(t=wn(t))?(e=K(e),t=N(e,K(t)),qn(e,t).join("")):e},n.truncate=function(e,t){var n=30,r="...";if(vo(t))var o="separator"in t?t.separator:o,n="length"in t?xo(t.length):n,r="omission"in t?wn(t.omission):r;e=So(e);var i=e.length;if(Me.test(e))var u=K(e),i=u.length;if(n>=i)return e;if(i=n-W(r),1>i)return r;if(n=u?qn(u,0,i).join(""):e.slice(0,i),o===H)return n+r;if(u&&(i+=n.length-i),ua(o)){if(e.slice(i).search(o)){var a=n;for(o.global||(o=Xo(o.source,So(we.exec(o))+"g")),o.lastIndex=0;u=o.exec(a);)var c=u.index;n=n.slice(0,c===H?i:c)}}else e.indexOf(wn(o),i)!=i&&(o=n.lastIndexOf(o),-1<o&&(n=n.slice(0,o)));return n+r},n.unescape=function(e){return(e=So(e))&&te.test(e)?e.replace(Z,ct):e},n.uniqueId=function(e){var t=++ui;return So(e)+t},n.upperCase=Ia,n.upperFirst=Ra,n.each=Xr,n.eachRight=Qr,n.first=Ur,$o(n,function(){var e={};return At(n,function(t,r){ii.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.16.4",s("bind bindKey curry curryRight partial partialRight".split(" "),function(e){n[e].placeholder=n}),s(["drop","take"],function(e,t){S.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new S(this);n=n===H?1:Ci(xo(n),0);var o=this.clone();return r?o.__takeCount__=Ii(n,o.__takeCount__):o.__views__.push({size:Ii(n,4294967295),type:e+(0>o.__dir__?"Right":"")}),o},S.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;S.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:pr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),s(["head","last"],function(e,t){var n="take"+(t?"Right":"");S.prototype[e]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");S.prototype[e]=function(){return this.__filtered__?new S(this):this[n](1)}}),S.prototype.compact=function(){return this.filter(Fo)},S.prototype.find=function(e){return this.filter(e).head()},S.prototype.findLast=function(e){return this.reverse().find(e)},S.prototype.invokeMap=fn(function(e,t){return"function"==typeof e?new S(this):this.map(function(n){return Nt(n,e,t)})}),S.prototype.reject=function(e){return this.filter(uo(pr(e)))},S.prototype.slice=function(e,t){e=xo(e);var n=this;return n.__filtered__&&(0<e||0>t)?new S(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==H&&(t=xo(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},S.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},S.prototype.toArray=function(){return this.take(4294967295)},At(S.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),u=n[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);u&&(n.prototype[t]=function(){function t(e){return e=u.apply(n,y([e],s)),i&&h?e[0]:e}var c=this.__wrapped__,s=i?[1]:arguments,f=c instanceof S,l=s[0],d=f||ta(c);d&&r&&"function"==typeof l&&1!=l.length&&(f=d=!1);var h=this.__chain__,p=!!this.__actions__.length,l=a&&!h,f=f&&!p;return!a&&d?(c=f?c:new S(this),c=e.apply(c,s),c.__actions__.push({func:Yr,args:[t],thisArg:H}),new o(c,h)):l&&f?e.apply(this,s):(c=this.thru(t),l?i?c.value()[0]:c.value():c)})}),s("pop push shift sort splice unshift".split(" "),function(e){var t=ei[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return t.apply(ta(n)?n:[],e)}return this[r](function(n){return t.apply(ta(n)?n:[],e)})}}),At(S.prototype,function(e,t){var r=n[t];if(r){var o=r.name+"";(Ki[o]||(Ki[o]=[])).push({name:t,func:r})}}),Ki[Gn(H,2).name]=[{name:"wrapper",func:H}],S.prototype.clone=function(){var e=new S(this.__wrapped__);return e.__actions__=Nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Nn(this.__views__),e},S.prototype.reverse=function(){if(this.__filtered__){var e=new S(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},S.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,r=ta(t),o=0>n,i=r?t.length:0;e=i;for(var u=this.__views__,a=0,c=-1,s=u.length;++c<s;){var f=u[c],l=f.size;switch(f.type){case"drop":a+=l;break;case"dropRight":e-=l;break;case"take":e=Ii(e,a+l);break;case"takeRight":a=Ci(a,e-l)}}if(e={start:a,end:e},u=e.start,a=e.end,e=a-u,o=o?a:u-1,u=this.__iteratees__,a=u.length,c=0,s=Ii(e,this.__takeCount__),!r||200>i||i==e&&s==e)return En(t,this.__actions__);r=[];e:for(;e--&&c<s;){for(o+=n,i=-1,f=t[o];++i<a;){var d=u[i],l=d.type,d=(0,d.iteratee)(f);if(2==l)f=d;else if(!d){if(1==l)continue e;break e}}r[c++]=f}return r},n.prototype.at=Ru,n.prototype.chain=function(){return Jr(this)},n.prototype.commit=function(){return new o(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===H&&(this.__values__=wo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?H:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof r;){var o=Fr(n);o.__index__=0,o.__values__=H,t?i.__wrapped__=o:t=o;var i=o,n=n.__wrapped__}return i.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof S?(this.__actions__.length&&(e=new S(this)),e=e.reverse(),e.__actions__.push({func:Yr,args:[Kr],thisArg:H}),new o(e,this.__chain__)):this.thru(Kr)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return En(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,yi&&(n.prototype[yi]=Gr),n}();Je._=st,r=function(){return st}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))}).call(this)}).call(t,function(){return this}(),n(/*! ./../webpack/buildin/module.js */21)(e))},/*!**********************************************************!*\
  !*** ./~/mousetrap-global-bind/mousetrap-global-bind.js ***!
  \**********************************************************/
function(e,t){!function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,r,o,i){var u=this;return!!u.paused||!t[o]&&!t[i]&&n.call(u,e,r,o)},e.prototype.bindGlobal=function(e,n,r){var o=this;if(o.bind(e,n,r),e instanceof Array)for(var i=0;i<e.length;i++)t[e[i]]=!0;else t[e]=!0},e.prototype.unbindGlobal=function(e,n){var r=this;if(r.unbind(e,n),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!1;else t[e]=!1},e.init()}(Mousetrap)},/*!**********************************!*\
  !*** ./~/mousetrap/mousetrap.js ***!
  \**********************************/
function(e,t,n){var r;!function(o,i,u){function a(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function c(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:k[e.which]?k[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e,t){return e.sort().join(",")===t.sort().join(",")}function f(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function d(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function h(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){if(!b){b={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(b[w[e]]=e)}return b}function v(e,t,n){return n||(n=p()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function y(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function g(e,t){var n,r,o,i=[];for(n=y(e),o=0;o<n.length;++o)r=n[o],E[r]&&(r=E[r]),t&&"keypress"!=t&&x[r]&&(r=x[r],i.push("shift")),h(r)&&i.push(r);return t=v(r,i,t),{key:r,modifiers:i,action:t}}function _(e,t){return null!==e&&e!==i&&(e===t||_(e.parentNode,t))}function m(e){function t(e){e=e||{};var t,n=!1;for(t in b)e[t]?n=!0:b[t]=0;n||(x=!1)}function n(e,t,n,r,o,i){var u,a,c=[],f=n.type;if(!y._callbacks[e])return[];for("keyup"==f&&h(e)&&(t=[e]),u=0;u<y._callbacks[e].length;++u)if(a=y._callbacks[e][u],(r||!a.seq||b[a.seq]==a.level)&&f==a.action&&("keypress"==f&&!n.metaKey&&!n.ctrlKey||s(t,a.modifiers))){var l=!r&&a.combo==o,d=r&&a.seq==r&&a.level==i;(l||d)&&y._callbacks[e].splice(u,1),c.push(a)}return c}function r(e,t,n,r){y.stopCallback(t,t.target||t.srcElement,n,r)||e(t,n)===!1&&(l(t),d(t))}function o(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=c(e);if(t)return"keyup"==e.type&&w===t?void(w=!1):void y.handleKey(t,f(e),e)}function u(){clearTimeout(_),_=setTimeout(t,1e3)}function p(e,n,o,i){function a(t){return function(){x=t,++b[e],u()}}function s(n){r(o,n,e),"keyup"!==i&&(w=c(n)),setTimeout(t,10)}b[e]=0;for(var f=0;f<n.length;++f){var l=f+1===n.length,d=l?s:a(i||g(n[f+1]).action);v(n[f],d,i,e,f)}}function v(e,t,r,o,i){y._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var u,a=e.split(" ");return a.length>1?void p(e,a,t,r):(u=g(e,r),y._callbacks[u.key]=y._callbacks[u.key]||[],n(u.key,u.modifiers,{type:u.action},o,e,i),void y._callbacks[u.key][o?"unshift":"push"]({callback:t,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:e}))}var y=this;if(e=e||i,!(y instanceof m))return new m(e);y.target=e,y._callbacks={},y._directMap={};var _,b={},w=!1,k=!1,x=!1;y._handleKey=function(e,o,i){var u,a=n(e,o,i),c={},s=0,f=!1;for(u=0;u<a.length;++u)a[u].seq&&(s=Math.max(s,a[u].level));for(u=0;u<a.length;++u)if(a[u].seq){if(a[u].level!=s)continue;f=!0,c[a[u].seq]=1,r(a[u].callback,i,a[u].combo,a[u].seq)}else f||r(a[u].callback,i,a[u].combo);var l="keypress"==i.type&&k;i.type!=x||h(e)||l||t(c),k=f&&"keydown"==i.type},y._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},a(e,"keypress",o),a(e,"keydown",o),a(e,"keyup",o)}if(o){for(var b,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},k={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},E={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},j=1;j<20;++j)w[111+j]="f"+j;for(j=0;j<=9;++j)w[j+96]=j;m.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},m.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},m.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},m.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},m.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&!_(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);b=null},m.init=function(){var e=m(i);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),o.Mousetrap=m,"undefined"!=typeof e&&e.exports&&(e.exports=m),r=function(){return m}.call(t,n,t,e),!(r!==u&&(e.exports=r))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},/*!**************************************************************!*\
  !*** ./~/pouchdb-find/lib/abstract-mapreduce/create-view.js ***!
  \**************************************************************/
function(e,t,n){"use strict";function r(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}var o=n(/*! ./upsert */11),i=n(/*! ./utils */9),u=i.Promise;e.exports=function(e){var t=e.db,n=e.viewName,a=e.map,c=e.reduce,s=e.temporary,f=e.pluginName,l=r(a)+r(c)+"undefined";if(!s&&t._cachedViews){var d=t._cachedViews[l];if(d)return u.resolve(d)}return t.info().then(function(e){function r(e){e.views=e.views||{};var t=n;t.indexOf("/")===-1&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[u])return r[u]=!0,e}var u=e.db_name+"-mrview-"+(s?"temp":i.MD5(l));return o(t,"_local/"+f,r).then(function(){return t.registerDependentDatabase(u).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:u,db:n,sourceDB:t,adapter:t.adapter,mapFun:a,reduceFun:c};return r.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,s||(t._cachedViews=t._cachedViews||{},t._cachedViews[l]=r,r.db.on("destroyed",function(){delete t._cachedViews[l]})),r})})})})}},/*!********************************************************!*\
  !*** ./~/pouchdb-find/lib/abstract-mapreduce/index.js ***!
  \********************************************************/
function(e,t,n){(function(t){"use strict";function r(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r)}catch(t){}}function o(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}function i(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function u(e){return 1===e.length&&/^1-/.test(e[0].rev)}function a(e,t){var n=_(e.key,t.key);return 0!==n?n:_(e.value,t.value)}function c(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function s(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function f(e,t){try{e.emit("error",t)}catch(n){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function l(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return f(e,r),{error:r}}}function d(e,t){var n=e.descending?"endkey":"startkey",o=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[o]&&_(e[n],e[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new r('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new r('Invalid value for positive integer: "'+e.group_level+'"')}}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e){function n(e,t,n){function r(){return u(l)?x.resolve(c):t.db.get(a)["catch"](h(c))}function o(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):x.resolve({rows:[]})}function i(e,t){for(var n=[],r={},o=0,i=t.rows.length;o<i;o++){var u=t.rows[o],a=u.doc;if(a&&(n.push(a),r[a._id]=!0,a._deleted=!f[a._id],!a._deleted)){var c=f[a._id];"value"in c&&(a.value=c.value)}}var s=Object.keys(f);return s.forEach(function(e){if(!r[e]){var t={_id:e},o=f[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=k.uniq(s.concat(e.keys)),n.push(e),n}var a="_local/doc_"+e,c={_id:a,keys:[]},s=n[e],f=s.indexableKeysToKeyValues,l=s.changes;return r().then(function(e){return o(e).then(function(t){return i(e,t)})})}function r(e,t,r){var o="_local/lastSeq";return e.db.get(o)["catch"](h({_id:o,seq:0})).then(function(o){var i=Object.keys(t);return x.all(i.map(function(r){return n(r,e,t)})).then(function(t){var n=k.flatten(t);return o.seq=r,n.push(o),e.db.bulkDocs({docs:n})})})}function f(e){var t="string"==typeof e?e:e.name,n=E[t];return n||(n=E[t]=new g),n}function p(e){return k.sequentialize(f(e),function(){return v(e)})()}function v(e){function t(e,t){var n={id:i._id,key:b(e)};"undefined"!=typeof t&&null!==t&&(n.value=b(t)),o.push(n)}function n(t,n){return function(){return r(e,t,n)}}var o,i,u=I(e.mapFun,t),c=e.seq||0,s=new g;return new x(function(t,r){function f(){s.finish().then(function(){e.seq=c,t()})}function d(){function t(e){r(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:A}).on("complete",function(t){var r=t.results;if(!r.length)return f();for(var h={},p=0,v=r.length;p<v;p++){var y=r[p];if("_"!==y.doc._id[0]){o=[],i=y.doc,i._deleted||l(e.sourceDB,u,[i]),o.sort(a);for(var g,b={},w=0,k=o.length;w<k;w++){var x=o[w],E=[x.key,x.id];0===_(x.key,g)&&E.push(w);var j=m(E);b[j]=x,g=x.key}h[y.doc._id]={indexableKeysToKeyValues:b,changes:y.changes}}c=y.seq}return s.add(n(h,c)),r.length<A?f():d()}).on("error",t)}d()})}function S(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=R(e.reduceFun),i=[],u=n.group_level;t.forEach(function(e){var t=i[i.length-1],n=r?e.key:null;return r&&Array.isArray(n)&&"number"==typeof u&&(n=n.length>u?n.slice(0,u):n),t&&0===_(t.key[0][0],n)?(t.key.push([n,e.id]),void t.value.push(e.value)):void i.push({key:[[n,e.id]],value:[e.value]})});for(var a=0,s=i.length;a<s;a++){var f=i[a],d=l(e.sourceDB,o,[f.key,f.value,!1]);if(d.error&&/BuiltInError/.test(d.error.constructor))throw d.error;f.value=d.error?null:d.output,f.key=f.key[0][0]}return{rows:c(i,n.limit,n.skip)}}function O(e,t){return k.sequentialize(f(e),function(){return q(e,t)})()}function q(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=y.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?S(e,n,t):{total_rows:o,offset:u,rows:n},t.include_docs){var a=k.uniq(n.map(s));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=s(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&t.reduce!==!1,u=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var a=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var c=t.keys,f=c.map(function(e){var t={startkey:m([e]),endkey:m([e,{}])};return n(t)});return x.all(f).then(a).then(r)}var l={descending:t.descending};if("undefined"!=typeof t.startkey&&(l.startkey=m(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var d=t.inclusive_end!==!1;t.descending&&(d=!d),l.endkey=m(d?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var h=m([t.key]),p=m([t.key,{}]);l.descending?(l.endkey=h,l.startkey=p):(l.startkey=h,l.endkey=p)}return i||("number"==typeof t.limit&&(l.limit=t.limit),l.skip=u),n(l).then(r)}function T(e){return e.get("_local/"+C).then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=i(e),r="_design/"+t[0],o=t[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var u=Object.keys(t.views[i]),a=e.doc&&e.doc.views&&e.doc.views[n];u.forEach(function(e){o[e]=o[e]||a})})});var i=Object.keys(o).filter(function(e){return!o[e]}),u=i.map(function(t){return k.sequentialize(f(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return x.all(u).then(function(){return{ok:!0}})})},h({ok:!0}))}function D(e,n,r){if("string"!=typeof n){d(r,n);var u={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:C};return j.add(function(){return w(u).then(function(e){function t(){return e.db.destroy()}return k.fin(p(e).then(function(){return O(e,r)}),t)})}),j.finish()}var a=n,c=i(a),s=c[0],f=c[1];return e.get("_design/"+s).then(function(n){var i=n.views&&n.views[f];if(!i)throw new o("ddoc "+n._id+" has no view named "+f);L(n,f),d(r,i);var u={db:e,viewName:a,map:i.map,reduce:i.reduce,pluginName:C};return w(u).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&t.nextTick(function(){p(e)}),O(e,r)):p(e).then(function(){return O(e,r)})})})}var C=e.name,I=e.mapper,R=e.reducer,L=e.ddocValidator,N=function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=k.extend(!0,{},t),"function"==typeof e&&(e={map:e});var o=x.resolve().then(function(){return D(r,e,t)});return k.promisedCallback(o,n),o},M=k.callbackify(function(){var e=this;return T(e)});return{query:N,viewCleanup:M}}var v,y=n(/*! pouchdb-collate */7),g=n(/*! ./taskqueue */50),_=y.collate,m=y.toIndexableString,b=y.normalizeKey,w=n(/*! ./create-view */48);v="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var k=n(/*! ./utils */9),x=k.Promise,E={},j=new g,A=50;k.inherits(r,Error),k.inherits(o,Error),e.exports=p}).call(t,n(/*! (webpack)/~/node-libs-browser/~/process/browser.js */6))},/*!************************************************************!*\
  !*** ./~/pouchdb-find/lib/abstract-mapreduce/taskqueue.js ***!
  \************************************************************/
function(e,t,n){"use strict";function r(){this.promise=new o(function(e){e()})}var o=n(/*! ./utils */9).Promise;r.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},r.prototype.finish=function(){return this.promise},e.exports=r},/*!***************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/http/index.js ***!
  \***************************************************/
function(e,t,n){"use strict";function r(e,t,n){t=a(t),e.request({method:"POST",url:"_index",body:t},n)}function o(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}function i(e,t){e.request({method:"GET",url:"_index"},t)}function u(e,t,n){var r=t.ddoc,o=t.type||"json",i=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var u="_index/"+[r,o,i].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:u},n)}var a=n(/*! ../../massageCreateIndexRequest */14);t.createIndex=r,t.find=o,t.getIndexes=i,t.deleteIndex=u},/*!*****************************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/create-index/index.js ***!
  \*****************************************************************/
function(e,t,n){"use strict";function r(e,t,n){return a.upsert.call(e,t,n)}function o(e,t){function n(e){return e._rev&&"query"!==e.language&&(v=!0),e.language="query",e.views=e.views||{},y=!!e.views[s],e.views[s]={map:{fields:i.mergeObjects(t.index.fields)},reduce:"_count",options:{def:o}},e}t=d(t);var o=i.clone(t.index);t.index=l(t.index),f(t.index);var a=i.MD5(JSON.stringify(t)),s=t.name||"idx-"+a,h=t.ddoc||"idx-"+a,p="_design/"+h,v=!1,y=!1;return u("creating index",p),r(e,p,n).then(function(){if(v)throw new Error('invalid language for ddoc with id "'+p+'" (should be "query")')}).then(function(){var t=h+"/"+s;return c.query.call(e,t,{limit:0,reduce:!1}).then(function(){return{id:p,name:s,result:y?"exists":"created"}})})}var i=n(/*! ../../../utils */3),u=i.log,a=n(/*! pouchdb-upsert */18),c=n(/*! ../abstract-mapper */10),s=n(/*! ../utils */5),f=s.validateIndex,l=s.massageIndexDef,d=n(/*! ../../../massageCreateIndexRequest */14);e.exports=o},/*!*****************************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/delete-index/index.js ***!
  \*****************************************************************/
function(e,t,n){"use strict";function r(e,t){function n(e){return 1===Object.keys(e.views).length&&e.views[u]?{_id:r,_deleted:!0}:(delete e.views[u],e)}if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,u=t.name;return i(e,r,n).then(function(){return o.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}var o=n(/*! ../abstract-mapper */10),i=n(/*! ../../../abstract-mapreduce/upsert */11);e.exports=r},/*!********************************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/find/in-memory-filter.js ***!
  \********************************************************************/
function(e,t,n){"use strict";function r(e){function t(t){return e.map(function(e){var n=w(e),r=x(n),o=j(t,r);return o})}return function(e,n){var r=t(e.doc),o=t(n.doc),i=_(r,o);return 0!==i?i:E.compare(e.doc._id,n.doc._id)}}function o(e,t,n){if(e=e.filter(function(e){return i(e.doc,t.selector,n)}),t.sort){var o=r(t.sort);e=e.sort(o),"string"!=typeof t.sort[0]&&"desc"===k(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var u=t.skip||0,a=("limit"in t?t.limit:e.length)+u;e=e.slice(u,a)}return e}function i(e,t,n){return n.every(function(n){var r=t[n],o=x(n),i=j(e,o);return b(n)?a(n,r,e):u(r,e,o,i)})}function u(e,t,n,r){return!e||Object.keys(e).every(function(o){var i=e[o];return c(o,t,i,n,r)})}function a(e,t,n){return"$or"===e?t.some(function(e){return i(n,e,Object.keys(e))}):"$not"===e?!i(n,t,Object.keys(t)):!t.find(function(e){return i(n,e,Object.keys(e))})}function c(e,t,n,r,o){if(!A[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return A[e](t,n,r,o)}function s(e){return"undefined"!=typeof e&&null!==e}function f(e){return"undefined"!=typeof e}function l(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}function d(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function h(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function p(e,t){return e.length===t}function v(e,t){var n=new RegExp(t);return n.test(e)}function y(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var g=n(/*! is-array */62),_=n(/*! pouchdb-collate */7).collate,m=n(/*! ../utils */5),b=m.isCombinationalField,w=m.getKey,k=m.getValue,x=m.parseField,E=n(/*! ../../../utils */3),j=E.getFieldFromDoc,A={$elemMatch:function(e,t,n,r){return!!g(r)&&0!==r.length&&("object"==typeof r[0]?r.some(function(e){return i(e,t,Object.keys(t))}):r.some(function(r){return u(t,e,n,r)}))},$eq:function(e,t,n,r){return f(r)&&0===_(r,t)},$gte:function(e,t,n,r){return f(r)&&_(r,t)>=0},$gt:function(e,t,n,r){return f(r)&&_(r,t)>0},$lte:function(e,t,n,r){return f(r)&&_(r,t)<=0},$lt:function(e,t,n,r){return f(r)&&_(r,t)<0},$exists:function(e,t,n,r){return t?f(r):!f(r)},$mod:function(e,t,n,r){return s(r)&&l(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==_(r,e)})},$in:function(e,t,n,r){return s(r)&&d(r,t)},$nin:function(e,t,n,r){return s(r)&&!d(r,t)},$size:function(e,t,n,r){return s(r)&&p(r,t)},$all:function(e,t,n,r){return g(r)&&h(r,t)},$regex:function(e,t,n,r){return s(r)&&v(r,t)},$type:function(e,t,n,r){return y(r,t)}};e.exports=o},/*!*********************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/find/index.js ***!
  \*********************************************************/
function(e,t,n){"use strict";function r(e){return e.ddoc.substring(8)+"/"+e.name}function o(e,t){var n=a(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n)}function i(e,t){return t.selector&&(t.selector=p(t.selector)),t.sort&&(t.sort=v(t.sort)),g(t),c(e).then(function(n){var i=l(t,n.indexes),a=i.index;_(t,a);var c=u.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);if("startkey"in c&&"endkey"in c&&s(c.startkey,c.endkey)>0)return{docs:[]};var d=t.sort&&"string"!=typeof t.sort[0]&&"desc"===y(t.sort[0]);return d&&(c.descending=!0,c=m(c)),i.inMemoryFields.length||("limit"in t&&(c.limit=t.limit),"skip"in t&&(c.skip=t.skip)),w.resolve().then(function(){if("_all_docs"===a.name)return o(e,c);var t=r(a);return f.query.call(e,t,c)}).then(function(e){c.inclusive_start===!1&&(e.rows=b(e.rows,c.startkey,a)),i.inMemoryFields.length&&(e.rows=h(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?u.pick(n,t.fields):n})};return a.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n})})}var u=n(/*! ../../../utils */3),a=u.clone,c=n(/*! ../get-indexes */12),s=n(/*! pouchdb-collate */7).collate,f=n(/*! ../abstract-mapper */10),l=n(/*! ./query-planner */56),d=n(/*! ../utils */5),h=n(/*! ./in-memory-filter */54),p=d.massageSelector,v=d.massageSort,y=d.getValue,g=d.validateFindRequest,_=d.validateSort,m=d.reverseOptions,b=d.filterInclusiveStart,w=u.Promise;e.exports=i},/*!*****************************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/find/query-planner.js ***!
  \*****************************************************************/
function(e,t,n){"use strict";function r(e,t){for(var n=e.def.fields.map(j),r=0,o=n.length;r<o;r++){var i=n[r];if(t===i)return!0}return!1}function o(e,t){var n=e[t],r=j(n);return"$eq"!==r}function i(e,t){var n=t.def.fields.map(j);return e.slice().sort(function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return r===-1&&(r=Number.MAX_VALUE),o===-1&&(o=Number.MAX_VALUE),k.compare(r,o)})}function u(e,t,n){n=i(n,e);for(var u=!1,a=0,c=n.length;a<c;a++){var s=n[a];if(u||!r(e,s))return n.slice(a);a<c-1&&o(t,s)&&(u=!0)}return[]}function a(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Object.keys(r).forEach(function(e){"$ne"===e&&t.push(n)})}),t}function c(e,t,n,r){var o=k.flatten(e,u(t,n,r),a(n));return i(k.uniq(o),t)}function s(e,t,n){if(t){var r=k.oneArrayIsStrictSubArrayOfOther(t,e),o=k.oneArrayIsSubArrayOfOther(n,e);return r&&o}return k.oneSetIsSubArrayOfOther(n,e)}function f(e){return q.indexOf(e)===-1}function l(e,t){var n=e[0],r=t[n],o=Object.keys(r).some(function(e){return!f(e)});if(!o)return!1;var i=1===Object.keys(r).length&&"$ne"===j(r);return!i}function d(e,t,n,r){var o=e.def.fields.map(j),i=s(o,t,n);return!!i&&l(o,r)}function h(e,t,n,r){return r.reduce(function(r,o){var i=d(o,n,t,e);return i&&r.push(o),r},[])}function p(e,t,n,r){function o(e){for(var t=e.def.fields.map(j),n=0,r=0,o=t.length;r<o;r++){var i=t[r];a[i]&&n++}return n}var i=h(e,t,n,r);if(0===i.length){var u=r[0];return u.defaultUsed=!0,u}if(1===i.length)return i[0];var a=k.arrayToObject(t);return k.max(i,o)}function v(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function y(e,t){var n,r=j(t.def.fields[0]),o=e[r],i=[],u=Object.keys(o);return u.forEach(function(e){if(f(e))return void i.push(r);var t=o[e],u=v(e,t);n=n?k.mergeObjects([n,u]):u}),{queryOpts:n,inMemoryFields:i}}function g(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function _(e,t){function n(e){r!==!1&&a.push(S),o!==!1&&c.push(O),u=i.slice(e)}for(var r,o,i=t.def.fields.map(j),u=[],a=[],c=[],s=0,f=i.length;s<f;s++){var l=i[s],d=e[l];if(!d){n(s);break}if(s>0){if("$ne"in d){n(s);break}var h="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,p=Object.keys(e[i[s-1]]),v=k.arrayEquals(p,["$eq"]),y=k.arrayEquals(p,Object.keys(d)),_=h&&!v&&!y;if(_){n(s);break}}for(var m=Object.keys(d),b=null,w=0;w<m.length;w++){var x=m[w],E=d[x],A=g(x,E);b=b?k.mergeObjects([b,A]):A}a.push("startkey"in b?b.startkey:S),c.push("endkey"in b?b.endkey:O),"inclusive_start"in b&&(r=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var q={startkey:a,endkey:c};return"undefined"!=typeof r&&(q.inclusive_start=r),"undefined"!=typeof o&&(q.inclusive_end=o),{queryOpts:q,inMemoryFields:u}}function m(){return{queryOpts:{startkey:null},inMemoryFields:[]}}function b(e,t){return t.defaultUsed?m(e,t):1===t.def.fields.length?y(e,t):_(e,t)}function w(e,t){x("planning query",e);var n=e.selector,r=e.sort,o=A(n,r),i=o.fields,u=o.sortOrder,a=p(n,i,u,t),s=b(n,a),f=s.queryOpts,l=s.inMemoryFields,d=c(l,a,n,i),h={queryOpts:f,index:a,inMemoryFields:d};return x("query plan",h),h}var k=n(/*! ../../../utils */3),x=k.log,E=n(/*! ../utils */5),j=E.getKey,A=(E.getValue,E.getUserFields),S=null,O={"￿":{}},q=["$eq","$gt","$gte","$lt","$lte"];e.exports=w},/*!****************************************************!*\
  !*** ./~/pouchdb-find/lib/adapters/local/index.js ***!
  \****************************************************/
function(e,t,n){"use strict";var r=n(/*! ../../utils */3),o=r.callbackify;t.createIndex=o(n(/*! ./create-index */52)),t.find=o(n(/*! ./find */55)),t.getIndexes=o(n(/*! ./get-indexes */12)),t.deleteIndex=o(n(/*! ./delete-index */53))},/*!*********************************************!*\
  !*** ./~/pouchdb-find/~/argsarray/index.js ***!
  \*********************************************/
function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=n},/*!*******************************************!*\
  !*** ./~/pouchdb-find/~/debug/browser.js ***!
  \*******************************************/
function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function a(){var e;try{e=t.storage.debug}catch(n){}return e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=n(/*! ./debug */60),t.log=i,t.formatArgs=o,t.save=u,t.load=a,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(a())},/*!*****************************************!*\
  !*** ./~/pouchdb-find/~/debug/debug.js ***!
  \*****************************************/
function(e,t,n){function r(){return t.colors[f++%t.colors.length]}function o(e){function n(){}function o(){var e=o,n=+new Date,i=n-(s||n);e.diff=i,e.prev=s,e.curr=n,s=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var u=Array.prototype.slice.call(arguments);u[0]=t.coerce(u[0]),"string"!=typeof u[0]&&(u=["%o"].concat(u));var a=0;u[0]=u[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var i=u[a];n=o.call(e,i),u.splice(a,1),a--}return n}),"function"==typeof t.formatArgs&&(u=t.formatArgs.apply(e,u));var c=o.log||t.log||console.log.bind(console);c.apply(e,u)}n.enabled=!1,o.enabled=!0;var i=t.enabled(e)?o:n;return i.namespace=e,i}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function u(){t.enable("")}function a(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o,t.coerce=c,t.disable=u,t.enable=i,t.enabled=a,t.humanize=n(/*! ms */61),t.names=[],t.skips=[],t.formatters={};var s,f=0},/*!**********************************************!*\
  !*** ./~/pouchdb-find/~/debug/~/ms/index.js ***!
  \**********************************************/
function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=s?Math.round(e/s)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=u?Math.round(e/u)+"s":e+"ms"}function o(e){return i(e,s,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,u,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var u=1e3,a=60*u,c=60*a,s=24*c,f=365.25*s;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?o(e):r(e)}},/*!********************************************!*\
  !*** ./~/pouchdb-find/~/is-array/index.js ***!
  \********************************************/
function(e,t){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==r.call(e)}},/*!*******************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-collate/lib/utils.js ***!
  \*******************************************************/
function(e,t){"use strict";function n(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}t.padLeft=function(e,t,r){var o=n(e,t,r);return o+e},t.padRight=function(e,t,r){var o=n(e,t,r);return e+o},t.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;n<r;n++){if(n===o)return 1;var i=e.charAt(n),u=t.charAt(n);if(i!==u)return i<u?-1:1}return r<o?-1:0},t.intToDecimalForm=function(e){var t=e<0,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},/*!*************************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-promise/~/lie/lib/index.js ***!
  \*************************************************************/
function(e,t,n){(function(t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,t.browser||(this.handled=m),e!==r&&c(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){p(function(){var r;try{r=t(n)}catch(o){return v.reject(e,o)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,u=s(o);"error"===u.status&&n(u.value)}function s(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function f(e){return e instanceof this?e:v.resolve(new this(r),e)}function l(e){var t=new this(r);return v.reject(t,e)}function d(e){function t(e,t){function r(e){u[t]=e,++a!==o||i||(i=!0,v.resolve(s,u))}n.resolve(e).then(r,function(e){i||(i=!0,v.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=new Array(o),a=0,c=-1,s=new this(r);++c<o;)t(e[c],c);return s}function h(e){function t(e){n.resolve(e).then(function(e){i||(i=!0,v.resolve(a,e))},function(e){i||(i=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=-1,a=new this(r);++u<o;)t(e[u]);return a}var p=n(/*! immediate */65),v={},y=["REJECTED"],g=["FULFILLED"],_=["PENDING"];if(!t.browser)var m=["UNHANDLED"];e.exports=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===g||"function"!=typeof n&&this.state===y)return this;var o=new this.constructor(r);if(t.browser||this.handled===m&&(this.handled=null),this.state!==_){var a=this.state===g?e:n;u(o,a,this.outcome)}else this.queue.push(new i(o,e,n));return o},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=s(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,n){e.state=y,e.outcome=n,t.browser||e.handled===m&&p(function(){e.handled===m&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=f,o.reject=l,o.all=d,o.race=h}).call(t,n(/*! (webpack)/~/node-libs-browser/~/process/browser.js */6))},/*!***************************************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-promise/~/lie/~/immediate/lib/browser.js ***!
  \***************************************************************************/
function(e,t){(function(t){"use strict";function n(){f=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}f=!1}function r(e){1!==l.push(e)||f||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var u=0,a=new i(n),c=t.document.createTextNode("");a.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var s=new t.MessageChannel;s.port1.onmessage=n,o=function(){s.port2.postMessage(0)}}var f,l=[];e.exports=r}).call(t,function(){return this}())},/*!************************************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-upsert/~/pouchdb-promise/lib/index.js ***!
  \************************************************************************/
function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}var o=r(n(/*! lie */67)),i="function"==typeof Promise?Promise:o;e.exports=i},/*!******************************************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-upsert/~/pouchdb-promise/~/lie/lib/index.js ***!
  \******************************************************************************/
function(e,t,n){(function(t){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,t.browser||(this.handled=m),e!==r&&c(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){p(function(){var r;try{r=t(n)}catch(o){return v.reject(e,o)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,u=s(o);"error"===u.status&&n(u.value)}function s(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function f(e){return e instanceof this?e:v.resolve(new this(r),e)}function l(e){var t=new this(r);return v.reject(t,e)}function d(e){function t(e,t){function r(e){u[t]=e,++a!==o||i||(i=!0,v.resolve(s,u))}n.resolve(e).then(r,function(e){i||(i=!0,v.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=new Array(o),a=0,c=-1,s=new this(r);++c<o;)t(e[c],c);return s}function h(e){function t(e){n.resolve(e).then(function(e){i||(i=!0,v.resolve(a,e))},function(e){i||(i=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=-1,a=new this(r);++u<o;)t(e[u]);return a}var p=n(/*! immediate */68),v={},y=["REJECTED"],g=["FULFILLED"],_=["PENDING"];if(!t.browser)var m=["UNHANDLED"];e.exports=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){if("function"!=typeof e&&this.state===g||"function"!=typeof n&&this.state===y)return this;var o=new this.constructor(r);if(t.browser||this.handled===m&&(this.handled=null),this.state!==_){var a=this.state===g?e:n;u(o,a,this.outcome)}else this.queue.push(new i(o,e,n));return o},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=s(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,n){e.state=y,e.outcome=n,t.browser||e.handled===m&&p(function(){e.handled===m&&t.emit("unhandledRejection",n,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},o.resolve=f,o.reject=l,o.all=d,o.race=h}).call(t,n(/*! (webpack)/~/node-libs-browser/~/process/browser.js */6))},/*!********************************************************************************************!*\
  !*** ./~/pouchdb-find/~/pouchdb-upsert/~/pouchdb-promise/~/lie/~/immediate/lib/browser.js ***!
  \********************************************************************************************/
function(e,t){(function(t){"use strict";function n(){f=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}f=!1}function r(e){1!==l.push(e)||f||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var u=0,a=new i(n),c=t.document.createTextNode("");a.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var s=new t.MessageChannel;s.port1.onmessage=n,o=function(){s.port2.postMessage(0)}}var f,l=[];e.exports=r}).call(t,function(){return this}())},/*!****************************************!*\
  !*** ./~/pouchdb/~/argsarray/index.js ***!
  \****************************************/
function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}e.exports=n},/*!**************************************!*\
  !*** ./~/pouchdb/~/debug/browser.js ***!
  \**************************************/
function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function a(){var e;try{e=t.storage.debug}catch(n){}return e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=n(/*! ./debug */71),t.log=i,t.formatArgs=o,t.save=u,t.load=a,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(a())},/*!************************************!*\
  !*** ./~/pouchdb/~/debug/debug.js ***!
  \************************************/
function(e,t,n){function r(){return t.colors[f++%t.colors.length]}function o(e){function n(){}function o(){var e=o,n=+new Date,i=n-(s||n);e.diff=i,e.prev=s,e.curr=n,s=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var u=Array.prototype.slice.call(arguments);u[0]=t.coerce(u[0]),"string"!=typeof u[0]&&(u=["%o"].concat(u));var a=0;u[0]=u[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;a++;var o=t.formatters[r];if("function"==typeof o){var i=u[a];n=o.call(e,i),u.splice(a,1),a--}return n}),"function"==typeof t.formatArgs&&(u=t.formatArgs.apply(e,u));var c=o.log||t.log||console.log.bind(console);c.apply(e,u)}n.enabled=!1,o.enabled=!0;var i=t.enabled(e)?o:n;return i.namespace=e,i}function i(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(e=n[o].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function u(){t.enable("")}function a(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=o,t.coerce=c,t.disable=u,t.enable=i,t.enabled=a,t.humanize=n(/*! ms */72),t.names=[],t.skips=[],t.formatters={};var s,f=0},/*!*****************************************!*\
  !*** ./~/pouchdb/~/debug/~/ms/index.js ***!
  \*****************************************/
function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=s?Math.round(e/s)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=u?Math.round(e/u)+"s":e+"ms"}function o(e){return i(e,s,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,u,"second")||e+" ms"}function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var u=1e3,a=60*u,c=60*a,s=24*c,f=365.25*s;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?o(e):r(e)}},/*!**********************************************************!*\
  !*** ./~/pouchdb/~/es6-promise-pool/es6-promise-pool.js ***!
  \**********************************************************/
function(e,t,n){var r,o,i;!function(n,u){o=[],r=u,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){"use strict";var e=function(){this._listeners={}};e.prototype.addEventListener=function(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].indexOf(t)<0&&this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n>=0&&this._listeners[e].splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._listeners[e.type]&&this._listeners[e.type].length)for(var t=this._listeners[e.type].slice(),n=0,r=t.length;n<r;++n)t[n].call(this,e)};var t=function(e){return"function"==typeof e.constructor&&"GeneratorFunction"===e.constructor.name},n=function(e){return{next:function(){var t=e();return t?{value:t}:{done:!0}}}},r=function(e){var t=!1;return{next:function(){return t?{done:!0}:(t=!0,{value:e})}}},o=function(e,o){var i=typeof e;if("object"===i){if("function"==typeof e.next)return e;if("function"==typeof e.then)return r(e)}return"function"===i?t(e)?e():n(e):r(o.resolve(e))},i=function(e,t,n){this.target=e,this.type=t,this.data=n},u=function(t,n,r){if(e.call(this),"number"!=typeof n||Math.floor(n)!==n||n<1)throw new Error("Invalid concurrency");this._concurrency=n,this._options=r||{},this._options.promise=this._options.promise||Promise,this._iterator=o(t,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return u.prototype=new e,u.prototype.constructor=u,u.prototype.concurrency=function(e){return"undefined"!=typeof e&&(this._concurrency=e,this.active()&&this._proceed()),this._concurrency},u.prototype.size=function(){return this._size},u.prototype.active=function(){return!!this._promise},u.prototype.promise=function(){return this._promise},u.prototype.start=function(){var e=this,t=this._options.promise;return this._promise=new t(function(t,n){e._callbacks={reject:n,resolve:t},e._proceed()}),this._promise},u.prototype._fireEvent=function(e,t){this.dispatchEvent(new i(this,e,t))},u.prototype._settle=function(e){e?this._callbacks.reject(e):this._callbacks.resolve(),this._promise=null,this._callbacks=null},u.prototype._onPooledPromiseFulfilled=function(e,t){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:e,result:t}),this._proceed())},u.prototype._onPooledPromiseRejected=function(e,t){this._size--,this.active()&&(this._fireEvent("rejected",{promise:e,error:t}),this._settle(t||new Error("Unknown error")))},u.prototype._trackPromise=function(e){var t=this;e.then(function(n){t._onPooledPromiseFulfilled(e,n)},function(n){t._onPooledPromiseRejected(e,n)})["catch"](function(e){t._settle(new Error("Promise processing failed: "+e))})},u.prototype._proceed=function(){if(!this._done){for(var e=null;this._size<this._concurrency&&!(e=this._iterator.next()).done;)this._size++,this._trackPromise(e.value);this._done=null===e||!!e.done}this._done&&0===this._size&&this._settle()},u.PromisePoolEvent=i,u.PromisePool=u,u})},/*!**************************************************!*\
  !*** ./~/pouchdb/~/inherits/inherits_browser.js ***!
  \**************************************************/
function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},/*!****************************************!*\
  !*** ./~/pouchdb/~/lie/lib/browser.js ***!
  \****************************************/
function(e,t,n){"use strict";function r(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,e!==r&&c(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){p(function(){var r;try{r=t(n)}catch(o){return v.reject(e,o)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function o(){t(r,n)}var i=!1,u=s(o);"error"===u.status&&n(u.value)}function s(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function f(e){return e instanceof this?e:v.resolve(new this(r),e)}function l(e){var t=new this(r);return v.reject(t,e)}function d(e){function t(e,t){function r(e){u[t]=e,++a!==o||i||(i=!0,v.resolve(s,u))}n.resolve(e).then(r,function(e){i||(i=!0,v.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=new Array(o),a=0,c=-1,s=new this(r);++c<o;)t(e[c],c);return s}function h(e){function t(e){n.resolve(e).then(function(e){i||(i=!0,v.resolve(a,e))},function(e){i||(i=!0,v.reject(a,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var u=-1,a=new this(r);++u<o;)t(e[u]);return a}var p=n(/*! immediate */76),v={},y=["REJECTED"],g=["FULFILLED"],_=["PENDING"];e.exports=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===y)return this;var n=new this.constructor(r);if(this.state!==_){var o=this.state===g?e:t;u(n,o,this.outcome)}else this.queue.push(new i(n,e,t));return n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=s(a,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},v.reject=function(e,t){e.state=y,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=f,o.reject=l,o.all=d,o.race=h},/*!****************************************************!*\
  !*** ./~/pouchdb/~/lie/~/immediate/lib/browser.js ***!
  \****************************************************/
function(e,t){(function(t){"use strict";function n(){f=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}f=!1}function r(e){1!==l.push(e)||f||o()}var o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var u=0,a=new i(n),c=t.document.createTextNode("");a.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)o="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var s=new t.MessageChannel;s.port1.onmessage=n,o=function(){s.port2.postMessage(0)}}var f,l=[];e.exports=r}).call(t,function(){return this}())},/*!**********************************************!*\
  !*** ./~/pouchdb/~/scope-eval/scope_eval.js ***!
  \**********************************************/
function(e,t){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var o,i,u,a;i=[],a=[];for(o in r)t.call(r,o)&&(u=r[o],"this"!==o&&(i.push(o),a.push(u)));return Function.apply(null,n.call(i).concat([e])).apply(r["this"],a)}}).call(this)},/*!********************************************!*\
  !*** ./~/pouchdb/~/spark-md5/spark-md5.js ***!
  \********************************************/
function(e,t,n){!function(t){e.exports=t()}(function(e){"use strict";function t(e,t,n,r,o,i){return t=m(m(t,e),m(r,i)),m(t<<o|t>>>32-o,n)}function n(e,n,r,o,i,u,a){return t(n&r|~n&o,e,n,i,u,a)}function r(e,n,r,o,i,u,a){return t(n&o|r&~o,e,n,i,u,a)}function o(e,n,r,o,i,u,a){return t(n^r^o,e,n,i,u,a)}function i(e,n,r,o,i,u,a){return t(r^(n|~o),e,n,i,u,a)}function u(e,t){var u=e[0],a=e[1],c=e[2],s=e[3];u=n(u,a,c,s,t[0],7,-680876936),s=n(s,u,a,c,t[1],12,-389564586),c=n(c,s,u,a,t[2],17,606105819),a=n(a,c,s,u,t[3],22,-1044525330),u=n(u,a,c,s,t[4],7,-176418897),s=n(s,u,a,c,t[5],12,1200080426),c=n(c,s,u,a,t[6],17,-1473231341),a=n(a,c,s,u,t[7],22,-45705983),u=n(u,a,c,s,t[8],7,1770035416),s=n(s,u,a,c,t[9],12,-1958414417),c=n(c,s,u,a,t[10],17,-42063),a=n(a,c,s,u,t[11],22,-1990404162),u=n(u,a,c,s,t[12],7,1804603682),s=n(s,u,a,c,t[13],12,-40341101),c=n(c,s,u,a,t[14],17,-1502002290),a=n(a,c,s,u,t[15],22,1236535329),u=r(u,a,c,s,t[1],5,-165796510),s=r(s,u,a,c,t[6],9,-1069501632),c=r(c,s,u,a,t[11],14,643717713),a=r(a,c,s,u,t[0],20,-373897302),u=r(u,a,c,s,t[5],5,-701558691),s=r(s,u,a,c,t[10],9,38016083),c=r(c,s,u,a,t[15],14,-660478335),a=r(a,c,s,u,t[4],20,-405537848),u=r(u,a,c,s,t[9],5,568446438),s=r(s,u,a,c,t[14],9,-1019803690),c=r(c,s,u,a,t[3],14,-187363961),a=r(a,c,s,u,t[8],20,1163531501),u=r(u,a,c,s,t[13],5,-1444681467),s=r(s,u,a,c,t[2],9,-51403784),c=r(c,s,u,a,t[7],14,1735328473),a=r(a,c,s,u,t[12],20,-1926607734),u=o(u,a,c,s,t[5],4,-378558),s=o(s,u,a,c,t[8],11,-2022574463),c=o(c,s,u,a,t[11],16,1839030562),a=o(a,c,s,u,t[14],23,-35309556),u=o(u,a,c,s,t[1],4,-1530992060),s=o(s,u,a,c,t[4],11,1272893353),c=o(c,s,u,a,t[7],16,-155497632),a=o(a,c,s,u,t[10],23,-1094730640),u=o(u,a,c,s,t[13],4,681279174),s=o(s,u,a,c,t[0],11,-358537222),c=o(c,s,u,a,t[3],16,-722521979),a=o(a,c,s,u,t[6],23,76029189),u=o(u,a,c,s,t[9],4,-640364487),s=o(s,u,a,c,t[12],11,-421815835),c=o(c,s,u,a,t[15],16,530742520),a=o(a,c,s,u,t[2],23,-995338651),u=i(u,a,c,s,t[0],6,-198630844),s=i(s,u,a,c,t[7],10,1126891415),c=i(c,s,u,a,t[14],15,-1416354905),a=i(a,c,s,u,t[5],21,-57434055),u=i(u,a,c,s,t[12],6,1700485571),s=i(s,u,a,c,t[3],10,-1894986606),c=i(c,s,u,a,t[10],15,-1051523),a=i(a,c,s,u,t[1],21,-2054922799),u=i(u,a,c,s,t[8],6,1873313359),s=i(s,u,a,c,t[15],10,-30611744),c=i(c,s,u,a,t[6],15,-1560198380),a=i(a,c,s,u,t[13],21,1309151649),u=i(u,a,c,s,t[4],6,-145523070),s=i(s,u,a,c,t[11],10,-1120210379),c=i(c,s,u,a,t[2],15,718787259),a=i(a,c,s,u,t[9],21,-343485551),e[0]=m(u,e[0]),e[1]=m(a,e[1]),e[2]=m(c,e[2]),e[3]=m(s,e[3])}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function c(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,n,r,o,i,c,s=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)u(f,a(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(f,r),t=0;t<16;t+=1)r[t]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),c=parseInt(o[1],16)||0,r[14]=i,r[15]=c,u(f,r),f}function f(e){var t,n,r,o,i,a,s=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)u(f,c(e.subarray(t-64,t)));for(e=t-64<s?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u(f,r),t=0;t<16;t+=1)r[t]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(f,r),f}function l(e){var t,n="";for(t=0;t<4;t+=1)n+=b[e>>8*t+4&15]+b[e>>8*t&15];return n}function d(e){var t;for(t=0;t<e.length;t+=1)e[t]=l(e[t]);return e.join("")}function h(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function p(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}function v(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function y(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function g(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function _(){this.reset()}var m=function(e,t){return e+t&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==d(s("hello"))&&(m=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,u,a,c=this.byteLength,s=t(n,c),f=c;return r!==e&&(f=t(r,c)),s>f?new ArrayBuffer(0):(o=f-s,i=new ArrayBuffer(o),u=new Uint8Array(i),a=new Uint8Array(this,s,o),u.set(a),i)}}(),_.prototype.append=function(e){return this.appendBinary(h(e)),this},_.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)u(this._hash,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},_.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=d(this._hash),e&&(n=g(n)),this.reset(),n},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},_.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(u(this._hash,e),i=0;i<16;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,u(this._hash,e)},_.hash=function(e,t){return _.hashBinary(h(e),t)},_.hashBinary=function(e,t){var n=s(e),r=d(n);return t?g(r):r},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(e){var t,n=y(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)u(this._hash,c(n.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=d(this._hash),e&&(n=g(n)),this.reset(),n},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var e=_.prototype.getState.call(this);return e.buff=v(e.buff),e},_.ArrayBuffer.prototype.setState=function(e){return e.buff=p(e.buff,!0),_.prototype.setState.call(this,e)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e)),r=d(n);return t?g(r):r},_})},/*!***************************************!*\
  !*** ./~/pouchdb/~/vuvuzela/index.js ***!
  \***************************************/
function(e,t){"use strict";function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var u=t.pop();o[u]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,u,a,c,s,f,l,d,h="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",h+=o,i)h+=i;else if("object"!=typeof r)h+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),u=r.length-1;u>=0;u--)a=0===u?"":",",t.push({obj:r[u],prefix:a});t.push({val:"["})}else{c=[];for(s in r)r.hasOwnProperty(s)&&c.push(s);for(t.push({val:"}"}),u=c.length-1;u>=0;u--)f=c[u],l=r[f],d=u>0?",":"",d+=JSON.stringify(f)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,r,o,i,u,a,c,s,f,l=[],d=[],h=0;;)if(t=e[h++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,n(null,l,d);break;case"t":h+=3,n(!0,l,d);break;case"f":h+=4,n(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}r+=o}n(parseFloat(r),l,d);break;case'"':for(i="",u=void 0,a=0;c=e[h++],'"'!==c||"\\"===u&&a%2===1;)i+=c,u=c,"\\"===u?a++:a=0;n(JSON.parse('"'+i+'"'),l,d);break;case"[":s={element:[],index:l.length},l.push(s.element),d.push(s);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();n(l.pop(),l,d)}}},,,/*!********************************************************!*\
  !*** (webpack)/~/node-libs-browser/~/events/events.js ***!
  \********************************************************/
function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,c,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],u(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=n.slice(),o=s.length,c=0;c<o;c++)s[c].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,u,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],u=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=u;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
function(e,t){},/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
function(e,t){}]);
//# sourceMappingURL=vendor.bundle.js.map