webpackJsonp([1],[/*!*****************!*\
  !*** multi app ***!
  \*****************/
function(t,e,n){t.exports=n(/*! ./src/index.js */39)},/*!************************!*\
  !*** ./~/riot/riot.js ***!
  \************************/
function(t,e,n){var i;!function(o,a){"use strict";function r(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function s(t,e){for(var n,i=e.length,o=t.length;i>o;)n=e[--i],e.splice(i,1),n.unmount()}function c(t,e){Object.keys(t.tags).forEach(function(n){var i=t.tags[n];D(i)?_(i,function(t){N(t,n,e)}):N(i,n,e)})}function u(t,e,n){var i,o=t._root;for(t._virts=[];o;)i=o.nextSibling,n?e.insertBefore(o,n._root):e.appendChild(o),t._virts.push(o),o=i}function l(t,e,n,i){for(var o,a=t._root,r=0;r<i;r++)o=a.nextSibling,e.insertBefore(a,n._root),a=o}function d(t,e,n){T(t,"each");var i,o=typeof k(t,"no-reorder")!==at||T(t,"no-reorder"),a=L(t),d=tt[a]||{tmpl:y(t)},p=dt.test(a),f=t.parentNode,h=document.createTextNode(""),v=C(t),g="option"===a.toLowerCase(),_=[],b=[],w="VIRTUAL"==t.tagName;n=gt.loopKeys(n),f.insertBefore(h,t),e.one("before-mount",function(){t.parentNode.removeChild(t),f.stub&&(f=e.root)}).on("update",function(){var y=gt(n.val,e),x=document.createDocumentFragment();D(y)||(i=y||!1,y=i?Object.keys(y).map(function(t){return r(n,t,y[t])}):[]);for(var S=0,T=y.length;S<T;S++){var E=y[S],k=o&&typeof E==rt&&!i,I=b.indexOf(E),C=~I&&k?I:S,V=_[C];E=!i&&n.key?r(n,E,S):E,!k&&!V||k&&!~I||!V?(V=new m(d,{parent:e,isLoop:!0,hasImpl:!!tt[a],root:p?f:t.cloneNode(),item:E},t.innerHTML),V.mount(),w&&(V._root=V.root.firstChild),S!=_.length&&_[S]?(w?u(V,f,_[S]):f.insertBefore(V.root,_[S].root),b.splice(S,0,E)):w?u(V,x):x.appendChild(V.root),_.splice(S,0,V),C=S):V.update(E,!0),C!==S&&k&&_[S]&&(w?l(V,f,_[S],t.childNodes.length):_[S].root.parentNode&&f.insertBefore(V.root,_[S].root),n.pos&&(V[n.pos]=S),_.splice(S,0,_.splice(C,1)[0]),b.splice(S,0,b.splice(C,1)[0]),!v&&V.tags&&c(V,S)),V._item=E,R(V,"_parent",e)}if(s(y,_),f.insertBefore(x,h),g&&ht&&!f.multiple)for(var N=0;N<f.length;N++)if(f[N].__riot1374){f.selectedIndex=N,delete f[N].__riot1374;break}v&&(e.tags[a]=_),b=y.slice()})}function p(t,e,n,i){A(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||k(t,"each")?1:0,n){var o=C(t);o&&!t.isLoop&&n.push(z(o,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!i||J(t,e,[])}})}function f(t,e,n){function i(t,e,i){gt.hasExpr(e)&&n.push(P({dom:t,expr:e},i))}A(t,function(t){var n,o=t.nodeType;if(3==o&&"STYLE"!=t.parentNode.tagName&&i(t,t.nodeValue),1==o)return(n=k(t,"each"))?(d(t,e,n),!1):(_(t.attributes,function(e){var n=e.name,o=n.split("__")[1];if(i(t,e.value,{attr:o||n,bool:o}),o)return T(t,n),!1}),!C(t)&&void 0)})}function m(t,e,n){function i(){var t=v&&h?l:m||l;_(k.attributes,function(e){var n=e.value;d[E(e.name)]=gt.hasExpr(n)?gt(n,t):n}),_(Object.keys(V),function(e){d[E(e)]=gt(V[e],t)})}function o(t){for(var e in y)typeof l[e]!==st&&j(l,e)&&(l[e]=t[e])}function r(t){_(Object.keys(t),function(e){var n=!pt.test(e)&&O(N,e);(typeof l[e]===st||n)&&(n||N.push(e),l[e]=t[e])})}function s(t){l.update(t,!0)}function c(t){if(_(x,function(e){e[t?"mount":"unmount"]()}),m){var e=t?"on":"off";h?m[e]("unmount",l.unmount):m[e]("update",s)[e]("unmount",l.unmount)}}var u,l=Z.observable(this),d=G(e.opts)||{},m=e.parent,h=e.isLoop,v=e.hasImpl,y=U(e.item),w=[],x=[],k=e.root,C=k.tagName.toLowerCase(),V={},N=[];t.name&&k._tag&&k._tag.unmount(!0),this.isMounted=!1,k.isLoop=h,k._tag=this,R(this,"_riot_id",++Q),P(this,{parent:m,root:k,opts:d},y),R(this,"tags",{}),_(k.attributes,function(t){var e=t.value;gt.hasExpr(e)&&(V[t.name]=e)}),u=_t(t.tmpl,n),R(this,"update",function(t,e){return t=U(t),h&&r(l.parent),t&&S(y)&&(o(t),y=t),P(l,t),i(),l.trigger("update",t),g(w,l),e&&l.parent?l.parent.one("updated",function(){l.trigger("updated")}):yt(function(){l.trigger("updated")}),this}),R(this,"mixin",function(){return _(arguments,function(t){var e,n,i=[];t=typeof t===at?Z.mixin(t):t,e=b(t)?new t:t;var o=Object.getPrototypeOf(e);do i=i.concat(Object.getOwnPropertyNames(n||e));while(n=Object.getPrototypeOf(n||e));_(i,function(t){if("init"!=t){var n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(o,t),i=n&&(n.get||n.set);!l.hasOwnProperty(t)&&i?Object.defineProperty(l,t,n):l[t]=b(e[t])?e[t].bind(l):e[t]}}),e.init&&e.init.bind(l)()}),this}),R(this,"mount",function(){i();var e=Z.mixin(et);if(e)for(var n in e)e.hasOwnProperty(n)&&l.mixin(e[n]);if(l._parent&&l._parent.root.isLoop&&r(l._parent),t.fn&&t.fn.call(l,d),f(u,l,w),c(!0),t.attrs&&q(t.attrs,function(t,e){I(k,t,e)}),(t.attrs||v)&&f(l.root,l,w),l.parent&&!h||l.update(y),l.trigger("before-mount"),h&&!v)k=u.firstChild;else{for(;u.firstChild;)k.appendChild(u.firstChild);k.stub&&(k=m.root)}R(l,"root",k),h&&p(l.root,l.parent,null,!0),!l.parent||l.parent.isMounted?(l.isMounted=!0,l.trigger("mount")):l.parent.one("mount",function(){B(l.root)||(l.parent.isMounted=l.isMounted=!0,l.trigger("mount"))})}),R(this,"unmount",function(t){var e,n=k,i=n.parentNode,o=X.indexOf(l);if(l.trigger("before-unmount"),~o&&X.splice(o,1),i){if(m)e=M(m),D(e.tags[C])?_(e.tags[C],function(t,n){t._riot_id==l._riot_id&&e.tags[C].splice(n,1)}):e.tags[C]=a;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(T(i,ot),T(i,it)):i.removeChild(n)}this._virts&&_(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),l.trigger("unmount"),c(),l.off("*"),l.isMounted=!1,delete k._tag}),p(u,this,x)}function h(t,e,n,i){n[t]=function(t){var a,r=i._parent,s=i._item;if(!s)for(;r&&!s;)s=r._item,r=r._parent;t=t||o.event,j(t,"currentTarget")&&(t.currentTarget=n),j(t,"target")&&(t.target=t.srcElement),j(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=s,e.call(i,t)===!0||/radio|check/.test(n.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(a=s?M(r):i,a.update())}}function v(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function g(t,e){_(t,function(t,n){var i=t.dom,o=t.attr,a=gt(t.expr,e),r=t.parent||t.dom.parentNode;if(t.bool?a=!!a:null==a&&(a=""),t.value!==a){if(t.value=a,!o)return a+="",void(r&&(t.parent=r,"TEXTAREA"===r.tagName?(r.value=a,mt||(i.nodeValue=a)):i.nodeValue=a));if("value"===o)return void(i.value!==a&&(i.value=a,I(i,o,a)));if(T(i,o),b(a))h(o,a,i,e);else if("if"==o){var s=t.stub,c=function(){v(s.parentNode,s,i)},u=function(){v(i.parentNode,i,s)};a?s&&(c(),i.inStub=!1,B(i)||A(i,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(s=t.stub=s||document.createTextNode(""),i.parentNode?u():(e.parent||e).one("updated",u),i.inStub=!0)}else"show"===o?i.style.display=a?"":"none":"hide"===o?i.style.display=a?"none":"":t.bool?(i[o]=a,a&&I(i,o,o),ht&&"selected"===o&&"OPTION"===i.tagName&&(i.__riot1374=a)):(0===a||a&&typeof a!==rt)&&(Y(o,nt)&&o!=it&&(o=o.slice(nt.length)),I(i,o,a))}})}function _(t,e){for(var n,i=t?t.length:0,o=0;o<i;o++)n=t[o],null!=n&&e(n,o)===!1&&o--;return t}function b(t){return typeof t===ct||!1}function y(t){if(t.outerHTML)return t.outerHTML;var e=F("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function w(t,e){if(typeof t.innerHTML!=st)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function x(t){return~ft.indexOf(t)}function S(t){return t&&typeof t===rt}function T(t,e){t.removeAttribute(e)}function E(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function k(t,e){return t.getAttribute(e)}function I(t,e,n){var i=lt.exec(e);i&&i[1]?t.setAttributeNS(ut,i[1],n):t.setAttribute(e,n)}function C(t){return t.tagName&&tt[k(t,ot)||k(t,it)||t.tagName.toLowerCase()]}function V(t,e,n){var i=n.tags[e];i?(D(i)||i!==t&&(n.tags[e]=[i]),O(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function N(t,e,n){var i,o=t.parent;o&&(i=o.tags[e],D(i)?i.splice(n,0,i.splice(i.indexOf(t),1)[0]):V(t,e,o))}function z(t,e,n,i){var o=new m(t,e,n),a=L(e.root),r=M(i);return o.parent=r,o._parent=i,V(o,a,r),r!==i&&V(o,a,i),e.root.innerHTML="",o}function M(t){for(var e=t;!C(e.root)&&e.parent;)e=e.parent;return e}function R(t,e,n,i){return Object.defineProperty(t,e,P({value:n,enumerable:!1,writable:!1,configurable:!0},i)),t}function L(t){var e=C(t),n=k(t,"name"),i=n&&!gt.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return i}function P(t){for(var e,n=arguments,i=1;i<n.length;++i)if(e=n[i])for(var o in e)j(t,o)&&(t[o]=e[o]);return t}function O(t,e){return~t.indexOf(e)}function D(t){return Array.isArray(t)||t instanceof Array}function j(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===st||n&&n.writable}function U(t){if(!(t instanceof m||t&&typeof t.trigger==ct))return t;var e={};for(var n in t)pt.test(n)||(e[n]=t[n]);return e}function A(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)A(t,e),t=t.nextSibling}}function q(t,e){for(var n,i=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=i.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function B(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function F(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function $(t,e){return(e||document).querySelectorAll(t)}function H(t,e){return(e||document).querySelector(t)}function G(t){return Object.create(t||null)}function K(t){return k(t,"id")||k(t,"name")}function J(t,e,n){var i,o=K(t),a=function(a){O(n,o)||(i=D(a),a?(!i||i&&!O(a,t))&&(i?a.push(t):e[o]=[a,t]):e[o]=t)};o&&(gt.hasExpr(o)?e.one("mount",function(){o=K(t),a(e[o])}):a(e[o]))}function Y(t,e){return t.slice(0,e.length)===e}function W(t,e,n){var i=tt[e],o=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",i&&t&&(i=new m(i,{root:t,opts:n},o)),i&&i.mount&&(i.mount(),O(X,i)||X.push(i)),i}var Z={version:"v2.6.4",settings:{}},Q=0,X=[],tt={},et="__global_mixin",nt="riot-",it=nt+"tag",ot="data-is",at="string",rt="object",st="undefined",ct="function",ut="http://www.w3.org/1999/xlink",lt=/^xlink:(\w+)/,dt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,pt=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,ft=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],mt=0|(o&&o.document||{}).documentMode,ht=o&&!!o.InstallTrigger;Z.observable=function(t){function e(t,e){for(var n=t.split(" "),i=n.length,o=0;o<i;o++){var a=n[o];a&&e(a,o)}}t=t||{};var n={},i=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(i,o){return"function"!=typeof o?t:(e(i,function(t,e){(n[t]=n[t]||[]).push(o),o.typed=e>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(i,o){return"*"!=i||o?e(i,function(t,e){if(o)for(var i,a=n[t],r=0;i=a&&a[r];++r)i==o&&a.splice(r--,1);else delete n[t]}):n={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function i(){t.off(e,i),n.apply(t,arguments)}return t.on(e,i)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var a,r=arguments.length-1,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c+1];return e(o,function(e,o){a=i.call(n[e]||[],0);for(var r,c=0;r=a[c];++c)r.busy||(r.busy=1,r.apply(t,r.typed?[e].concat(s):s),a[c]!==r&&c--,r.busy=0);n["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(s))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(t){function e(t){return t.split(/[\/?#]/)}function n(t,e){var n=new RegExp("^"+e[T](/\*/g,"([^/?#]+?)")[T](/\.\./,".*")+"$"),i=t.match(n);if(i)return i.slice(1)}function i(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function a(t){m=i(d,1),V[x](E,m),V[x](k,m),N[x](L,p),t&&d(!0)}function r(){this.$=[],t.observable(this),O.on("stop",this.s.bind(this)),O.on("emit",this.e.bind(this))}function s(t){return t[T](/^\/|\/$/,"")}function c(t){return"string"==typeof t}function u(t){return(t||M.href)[T](b,"")}function l(t){return"#"==h[0]?(t||M.href||"").split(h)[1]||"":(M?u(t):t||"")[T](h,"")}function d(t){var e,n=0==U;if(!(C<=U)&&(U++,j.push(function(){var e=l();(t||e!=v)&&(O[I]("emit",e),v=e)}),n)){for(;e=j.shift();)e();U=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[S]("download")||!e[S]("href")||e.target&&"_self"!=e.target||e.href.indexOf(M.href.match(b)[0])==-1||e.href!=M.href&&(e.href.split("#")[0]==M.href.split("#")[0]||"#"!=h[0]&&0!==u(e.href).indexOf(h)||"#"==h[0]&&e.href.split(h)[0]!=M.href.split(h)[0]||!f(l(e.href),e.title||N.title))||t.preventDefault()}}function f(t,e,n){return z?(t=h+s(t),e=e||N.title,n?z.replaceState(null,e,t):z.pushState(null,e,t),N.title=e,D=!1,d(),D):O[I]("emit",l(t))}var m,h,v,g,_,b=/^.+?\/\/+[^\/]+/,y="EventListener",w="remove"+y,x="add"+y,S="hasAttribute",T="replace",E="popstate",k="hashchange",I="trigger",C=3,V="undefined"!=typeof o&&o,N="undefined"!=typeof document&&document,z=V&&history,M=V&&(z.location||V.location),R=r.prototype,L=N&&N.ontouchstart?"touchstart":"click",P=!1,O=t.observable(),D=!1,j=[],U=0;R.m=function(t,e,n){!c(t)||e&&!c(e)?e?this.r(t,e):this.r("@",t):f(t,e,n||!1)},R.s=function(){this.off("*"),this.$=[]},R.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?g:_)(s(t),s(e));if("undefined"!=typeof n)return this[I].apply(null,[e].concat(n)),D=!0},this)},R.r=function(t,e){"@"!=t&&(t="/"+s(t),this.$.push(t)),this.on(t,e)};var A=new r,q=A.m.bind(A);q.create=function(){var t=new r,e=t.m.bind(t);return e.stop=t.s.bind(t),e},q.base=function(t){h=t||"#",v=l()},q.exec=function(){d(!0)},q.parser=function(t,i){t||i||(g=e,_=n),t&&(g=t),i&&(_=i)},q.query=function(){var t={},e=M.href||v;return e[T](/[?&](.+?)=([^&]*)/g,function(e,n,i){t[n]=i}),t},q.stop=function(){P&&(V&&(V[w](E,m),V[w](k,m),N[w](L,p)),O[I]("stop"),P=!1)},q.start=function(t){P||(V&&("complete"==document.readyState?a(t):V[x]("load",function(){setTimeout(function(){a(t)},1)})),P=!0)},q.base(),q.parser(),t.route=q}(Z);var vt=function(t){function e(t){return t}function n(t,e){return e||(e=b),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?u:"")}function i(t){if(t===v)return g;var e=t.split(" ");if(2!==e.length||f.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(m,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:g[4],e),e[5]=n(t.length>3?/\\({|})/g:g[5],e),e[6]=n(g[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,u),e[8]=t,e}function o(t){return t instanceof RegExp?s(t):b[t]}function a(t){(t||(t=v))!==b[8]&&(b=i(t),s=t===v?e:n,b[9]=s(g[9])),_=t}function r(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:a,get:function(){return _},enumerable:!0}),c=t,a(e)}var s,c,u="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),m=/(?=[[\]()*+?.^$|])/g,h={"(":RegExp("([()])|"+p,u),"[":RegExp("([[\\]])|"+p,u),"{":RegExp("([{}])|"+p,u)},v="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,u),v,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],_=t,b=[];return o.split=function(t,e,n){function i(t){e||r?u.push(t&&t.replace(n[5],"$1")):u.push(t)}function o(t,e,n){var i,o=h[e];for(o.lastIndex=n,n=1;(i=o.exec(t))&&(!i[1]||(i[1]===e?++n:--n)););return n?t.length:o.lastIndex}n||(n=b);var a,r,s,c,u=[],l=n[6];for(r=s=l.lastIndex=0;a=l.exec(t);){if(c=a.index,r){if(a[2]){l.lastIndex=o(t,a[2],l.lastIndex);continue}if(!a[3])continue}a[1]||(i(t.slice(s,c)),s=l.lastIndex,l=n[6+(r^=1)],l.lastIndex=s)}return t&&s<t.length&&i(t.slice(s)),u},o.hasExpr=function(t){return b[4].test(t)},o.loopKeys=function(t){var e=t.match(b[9]);return e?{key:e[1],pos:e[2],val:b[0]+e[3].trim()+b[1]}:{val:t.trim()}},o.array=function(t){return t?i(t):b},Object.defineProperty(o,"settings",{set:r,get:function(){return c}}),o.settings="undefined"!=typeof Z&&Z.settings||{},o.set=a,o.R_STRINGS=d,o.R_MLCOMMS=l,o.S_QBLOCKS=p,o}(),gt=function(){function t(t,i){return t?(s[t]||(s[t]=n(t))).call(i,e):t}function e(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function n(t){var e=i(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function i(t){var e,n=[],i=vt.split(t.replace(d,'"'),1);if(i.length>2||i[0]){var o,r,s=[];for(o=r=0;o<i.length;++o)e=i[o],e&&(e=1&o?a(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[r++]=e);e=r<2?s[0]:"["+s.join(",")+'].join("")'}else e=a(i[1],0,n);return n[0]&&(e=e.replace(p,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function a(t,e,n){function i(e,n){var i,o=1,a=f[e];for(a.lastIndex=n.lastIndex;i=a.exec(t);)if(i[0]===e)++o;else if(!--o)break;n.lastIndex=o?t.length:a.lastIndex}if(t=t.replace(l,function(t,e){return t.length>2&&!e?c+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,a=[],s=0;t&&(o=t.match(u))&&!o.index;){var d,p,m=/,|([[{(])|$/g;for(t=RegExp.rightContext,d=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];p=(o=m.exec(t))[1];)i(p,m);p=t.slice(0,o.index),t=RegExp.rightContext,a[s++]=r(p,1,d)}t=s?s>1?"["+a.join(",")+'].join(" ").trim()':a[0]:r(t,e)}return t}function r(t,e,n){var i;return t=t.replace(h,function(t,e,n,o,a){return n&&(o=i?0:o+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+m+n,o&&(i="."===(a=a[o])||"("===a||"["===a)):o&&(i=!v.test(a.slice(o)))),t}),i&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(i?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(i?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var s={};t.haveRaw=vt.hasRaw,t.hasExpr=vt.hasExpr,t.loopKeys=vt.loopKeys,t.clearCache=function(){s={}},t.errorHandler=null;var c=String.fromCharCode(8279),u=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,l=RegExp(vt.S_QBLOCKS,"g"),d=/\u2057/g,p=/\u2057(\d+)~/g,f={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},m='"in this?this:'+("object"!=typeof o?"global":"window")+").",h=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,v=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.version=vt.version="v2.4.2",t}(),_t=function wt(){function wt(n,i){var o=n&&n.match(/^\s*<([-\w]+)/),a=o&&o[1].toLowerCase(),r=F("div",x(a));return n=e(n,i),s.test(a)?r=t(r,n,a):w(r,n),r.stub=!0,r}function t(t,e,n){var i="o"===n[0],o=i?"select>":"table>";if(t.innerHTML="<"+o+e.trim()+"</"+o,o=t.firstChild,i)o.selectedIndex=-1;else{var a=r[n];a&&1===o.childElementCount&&(o=H(a,o))}return o}function e(t,e){if(!n.test(t))return t;var r={};return e=e&&e.replace(o,function(t,e,n){return r[e]=r[e]||n,""}).trim(),t.replace(a,function(t,e,n){return r[e]||n||""}).replace(i,function(t,n){return e||n||""})}var n=/<yield\b/i,i=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,o=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,a=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,r={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=mt&&mt<10?dt:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return wt}(),bt=function(t){if(!o)return{add:function(){},inject:function(){}};var e=function(){var t=F("style");I(t,"type","text/css");var e=H("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),n=e.styleSheet,i="";return Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){i+=t},inject:function(){i&&(n?n.cssText+=i:e.innerHTML+=i,i="")}}}(Z),yt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),i=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+i)},i)}}return e}(o||{});Z.util={brackets:vt,tmpl:gt},Z.mixin=function(){var t={},e=t[et]={},n=0;return function(i,o,a){if(S(i))return void Z.mixin("__unnamed_"+n++,i,!0);var r=a?e:t;if(!o){if(typeof r[i]===st)throw new Error("Unregistered mixin: "+i);return r[i]}b(o)?(P(o.prototype,r[i]||{}),r[i]=o):r[i]=P(r[i]||{},o)}}(),Z.tag=function(t,e,n,i,o){return b(i)&&(o=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(b(n)?o=n:bt.add(n)),t=t.toLowerCase(),tt[t]={name:t,tmpl:e,attrs:i,fn:o},t},Z.tag2=function(t,e,n,i,o){return n&&bt.add(n),tt[t]={name:t,tmpl:e,attrs:i,fn:o},t},Z.mount=function(t,e,n){function i(t){var e="";return _(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+ot+'="'+t+'"],['+it+'="'+t+'"]')}),e}function o(){var t=Object.keys(tt);return t+i(t)}function a(t){if(t.tagName){var i=k(t,ot)||k(t,it);e&&i!==e&&(i=e,I(t,ot,e),I(t,it,e));var o=W(t,i||t.tagName.toLowerCase(),n);o&&c.push(o)}else t.length&&_(t,a)}var r,s,c=[];if(bt.inject(),S(e)&&(n=e,e=0),typeof t===at?("*"===t?t=s=o():t+=i(t.split(/, */)),r=t?$(t):[]):r=t,"*"===e){if(e=s||o(),r.tagName)r=$(e,r);else{var u=[];_(r,function(t){u.push($(e,t))}),r=u}e=0}return a(r),c},Z.update=function(){return _(X,function(t){t.update()})},Z.vdom=X,Z.Tag=m,typeof e===rt?t.exports=Z:"function"===ct&&typeof n(/*! !webpack amd options */81)!==st?(i=function(){return Z}.call(e,n,e,t),!(i!==a&&(t.exports=i))):o.riot=Z}("undefined"!=typeof window?window:void 0)},/*!***********************!*\
  !*** ./src/helper.js ***!
  \***********************/
function(t,e){"use strict";e.addCommas=function(t){t+="";for(var e=t.split("."),n=e[0],i=e.length>1?"."+e[1]:"",o=/(\d+)(\d{3})/;o.test(n);)n=n.replace(o,"$1.$2");return n+i},e.avoidDup=function(t){var e=_.map(_.uniq(_.map(t,function(t){return JSON.stringify(t)})),function(t){return JSON.parse(t)});return e},e.formattedTime=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?7:arguments[2],i=new Date(1e3*(t-60*n*60)),o="0"+i.getDate(),a="0"+(i.getMonth()+1),r=i.getFullYear(),s=i.getHours(),c="0"+i.getMinutes(),u="0"+i.getSeconds();return e?o.substr(-2)+"/"+a.substr(-2)+"/"+r:o.substr(-2)+"/"+a.substr(-2)+"/"+r+" "+s+":"+c.substr(-2)+":"+u.substr(-2)},e.fromTimestampToString=function(t){var e=arguments.length<=1||void 0===arguments[1]?"/":arguments[1],n=new Date(1e3*t),i="0"+n.getDate(),o="0"+(n.getMonth()+1),a=n.getFullYear();return o.substr(-2)+e+i.substr(-2)+e+a},e.toTimestamp=function(t){return Date.parse(t+"-0500")/1e3}},,,,,,,,,,,,,,,,,,,,/*!**********************************************!*\
  !*** ./src/components/cart/autocomplete.tag ***!
  \**********************************************/
function(t,e,n){(function(t){"use strict";t.tag2("autocomplete",'<div class="cart-search"> <input type="text" name="acinput" onkeyup="{complete}" class="u-full-width" placeholder="Cari produk di sini... (ctrl+s)" autofocus="true" autocomplete="off"> <ul class="ac" id="aclist" show="{filtered.length}"> <li each="{c, i in filtered}" class="{active: active==i}" onclick="{selected}">{c}</li> </ul>',"","",function(e){var n=this;this.min=e.min||2,this.filtered=[],this.active=-1,this.mode=e.mode||"start";var i=this,o=function(){n.selection(""),n.active=-1,n.filtered=[],n.acinput.value=""};this.complete=function(e){return e.target.value.length<n.min?(n.filtered=[],n.active=-1,!1):(t.control.trigger(t.EVT.cartSearchItem,{text:e.target.value}),40==e.which&&n.filtered.length?(n.active=Math.min(n.active+1,n.filtered.length-1),!1):38==e.which&&n.filtered.length?(n.active=Math.max(n.active-1,0),!1):(13==e.which&&n.filtered.length&&(n.active==-1&&(n.active=0),n.selection(n.filtered[n.active])),void(27==e.which&&o())))},this.re=function(t){return"start"==n.mode?RegExp("^"+t.target.value,"i"):RegExp(t.target.value,"i")},this.selected=function(t){n.selection(t.item.c)},this.selection=function(t){return n.acinput.value=t,""!=t&&i.save(t),!1},this.on("mount",function(){}),this.save=function(e){e||(e=n.acinput.value),t.control.trigger(t.EVT.cartSaveItem,{title:e}),o()},t.control.on(t.EVT.cartEditItemOn,function(t){n.acinput.value="",n.active=-1,n.filtered=[],n.acinput.focus()}),t.control.on(t.EVT.cartSearchItemSuccess,function(t){n.filtered=_(t).map(function(t){return t.title}).value()}),t.control.on(t.EVT.cartRemoveItemSuccess,function(t){n.acinput.focus()}),t.control.on(t.EVT.cancelCart,function(t){n.acinput.focus()})})}).call(e,n(/*! riot */1))},/*!******************************************!*\
  !*** ./src/components/cart/cartitem.tag ***!
  \******************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("cartitem",'<div class="cart-item"> <div class="row"> <div class="seven columns"><div class="ellipsis" title="{this.title}">{this.title}</div><div class="u-text-left"><small>{this.price_}</small></div></div> <div class="two columns u-text-center"><input name="qty" class="u-full-width u-text-center" value="{this.qty}" min="1" onkeyup="{edit}" onblur="{edit_}" type="{\'number\'}"></div><input type="hidden" name="qty_" value="{this.qty}"> <div class="three columns u-text-right subtotal">{this.subtotal_}</div> </div> </div>',"","",function(n){var i=this;this.on("update",function(){i.price_=(0,e.addCommas)(i.price),i.subtotal_=(0,e.addCommas)(i.price*i.qty)}),this.remove=function(e){var n=confirm('HAPUS "'+i.title.toUpperCase()+'" ?');return n?void t.control.trigger(t.EVT.cartRemoveItem,i):(e.target.value=i.qty_.value,e.target.select(),!1)},this.edit=function(e){if(13==e.which){var n=parseFloat(e.target.value);if(isNaN(n)||n<=0)i.remove(e);else{var o={_id:i._id,title:i.title,qty:e.target.value,price:i.price,type:"cartitem",created:i.created};t.control.trigger(t.EVT.cartEditItemOn,o)}}},this.edit_=function(t){var e=parseFloat(t.target.value);(isNaN(e)||e<=0)&&(t.target.value=i.qty_.value)}})}).call(e,n(/*! riot */1))},/*!*******************************************!*\
  !*** ./src/components/cart/cartitems.tag ***!
  \*******************************************/
function(t,e,n){(function(t){"use strict";n(/*! ./autocomplete.tag */22),n(/*! ./cartitem.tag */23);var e=n(/*! ../../helper.js */2);t.tag2("cartitems",'<div class="cart"> <div show="{isNewUser || !isProductReady}"> <h3>Pengguna Baru</h3> Untuk memudahkan Anda, lengkapi data-data di bawah ini: </div> <div show="{isNewUser}" style="border-top:1px solid #efefef; margin-top:5px; padding-top:5px"> &raquo; Tentukan Nama Toko kamu di <a href="#configurations">Konfigurasi Toko</a> </div> <div show="{!isProductReady}" style="border-top:1px solid #efefef; margin-top:5px; padding-top:5px"> &raquo; Isi produk yang Anda jual di <a href="#products">Manajemen Produk</a> </div> <div show="{isCartEmpty && isProductReady && !isNewUser}"> <small>Cari <a href="#products">produk</a> pada kotak pencarian di atas terlebih dahulu.</small> </div> <cartitem each="{items}" data="{tag}" show="{!isCartEmpty && isProductReady}"></cartitem> </div> <div class="cart-total" show="{!isCartEmpty && isProductReady}"> <div class="cart-total-items"> <div class="row"> <div class="six columns">Total ({total_items} produk)</div> <div class="six columns u-text-right"><span>{total}</span></div> </div> </div> <div class="cart-total-payment"> <div class="row"> <div class="six columns"> <label><u>T</u>unai</label> </div> <div class="six columns"> <input type="text" id="cash" name="cash" class="u-full-width u-text-right {red: isMinus}" value="0" placeholder="Masukkan uang yang diterima di sini..." onkeyup="{updateTotal}" oninput="{oninp}"> </div> </div> </div> <div class="cart-total-change"> <div class="row"> <div class="four columns"> <label>Kembalian</label> </div> <div class="eight columns u-text-right" id="kembalian"><span class=" {red: isMinus}">{kembalian}</span></div> </div> </div> <div class="cart-total-pay"> <div class="row "> <div class="four columns"> <button class="button u-full-width " tabindex="-1" onclick="{cancel_}">Reset</button> </div> <div class="eight columns u-text-right"> <button class="button button-primary u-full-width cart-total-pay-button" onclick="{bayar}">BAYAR</button> </div> </div> </div> </div>',"",'show="{isReady}"',function(i){var o=n(/*! alerty */4),a=this;a.isReady=!1,a.items=[],a.total=0,a.total_=0,a.total_items=0,a.kembalian=0,a.kembalian_=0,a.cash_=0,a.isMinus=!0,a.isCartEmpty=!1,a.isProductReady=!1,a.on("mount",function(){document.getElementById("preloader").style.display="",t.control.trigger(t.EVT.cartLoadItems)}),a.on("update",function(){var t=0,n=0;_.each(a.items,function(e){t+=parseInt(e.price)*parseInt(e.qty),n++}),a.total_=t,a.total_items=n,a.total_items>0?a.isCartEmpty=!1:(a.isCartEmpty=!0,a.items=[]),a.total=(0,e.addCommas)(a.total_),a.total_items=(0,e.addCommas)(a.total_items),a.isCartEmpty=a.isCartEmpty,a.updateTotal()}),t.control.on(t.EVT.isProductReady,function(t){a.isProductReady=t,a.update()}),t.control.on(t.EVT.cartLoadItemsSuccess,function(e){a.items=e,document.getElementById("preloader").style.display="none",a.isNewUser=t.isNewUser,t.control.trigger(t.EVT.isNewUser,a.isNewUser),a.isReady=!0,a.update()}),t.control.on(t.EVT.cartSaveItemSuccess,function(n){a.items.splice(0,0,n),a.items=(0,e.avoidDup)(a.items),a.update(),t.control.trigger(t.EVT.allowAdd,!0)}),t.control.on(t.EVT.cartUpdateItemSuccess,function(e){var n=_.indexOf(a.items,_.find(a.items,{_id:e._id}));a.items.splice(n,1,e),a.update(),t.control.trigger(t.EVT.allowAdd,!0)}),t.control.on(t.EVT.cartRemoveItemSuccess,function(t){a.items=(0,e.avoidDup)(a.items);var n=_.indexOf(a.items,_.find(a.items,{_id:t._id}));a.items.splice(n,1),a.update()}),t.control.on(t.EVT.cancelCartSuccess,function(t){a.items=t,a.update()}),a.oninp=function(){a.cash_=parseFloat(a.cash.value.replace(/[.]/g,"")),a.cash.value=(0,e.addCommas)(a.cash.value.replace(/[^0-9]/g,""))},a.bayar=function(e){if(e.preventDefault(),a.updateTotal(),a.kembalian_<0||isNaN(a.kembalian_))o.toasts("ERROR: Uang kembalian tidak boleh minus!",{place:"top",bgColor:"red",time:2500}),a.cash.focus(),a.cash.select();else{var n=confirm("SIMPAN TRANSAKSI?");if(!n)return!1;var i=Math.floor((Date.now()+60*t.timezone*60*1e3)/1e3),r=a.items.map(function(t){return{created:t.created,price:t.price,qty:t.qty,title:t.title,subtotal:t.price*t.qty}}),s=_.sumBy(r,function(t){return t.subtotal}),c={_id:"sales_"+i,created:i,discount:0,payment:"cash",total:s,cash:a.cash_,items:r,type:"sales"};t.control.trigger(t.EVT.salesSave,c)}},a.updateTotal=function(t){return a.kembalian_=parseFloat(a.cash_)-parseFloat(a.total_),a.kembalian=(0,e.addCommas)(a.kembalian_),a.kembalian_<0?a.isMinus=!0:a.isMinus=!1,!(!t||13!=t.which)&&void a.bayar(t)},a.cancel_=function(e){var n=confirm("Reset Penjualan?");return!!n&&void t.control.trigger(t.EVT.cancelCart,{mode:"normal"})},a.hold_=function(t){confirm("Tunda Penjualan?")},t.control.on(t.EVT.salesSaveSuccess,function(e){t.route("print?cid="+e)})})}).call(e,n(/*! riot */1))},/*!**************************************************!*\
  !*** ./src/components/cart/cartproductitems.tag ***!
  \**************************************************/
function(t,e,n){(function(t){"use strict";n(/*! ../../helper.js */2),t.tag2("cartproductitems",'<span each="{productItems}"> <a href="#" onclick="{select}" class="ellipsis" title="{title}">{title}</a> </span>',"","",function(e){var n=this;n.productItems=[],n.price_=0;var i=!0;n.on("mount",function(){t.control.trigger(t.EVT.productLoadItems_)}),t.control.on(t.EVT.productLoadItemsSuccess_,function(e){n.productItems=e.docs.map(function(t){return t});var i=_.size(n.productItems);i>0?t.control.trigger(t.EVT.isProductReady,!0):t.control.trigger(t.EVT.isProductReady,!1),n.update()}),n.select=function(e){i===!0&&(i=!1,t.control.trigger(t.EVT.cartSaveItem,{title:e.item.title}))},t.control.on(t.EVT.allowAdd,function(t){i=t})})}).call(e,n(/*! riot */1))},/*!***********************************************!*\
  !*** ./src/components/product/addproduct.tag ***!
  \***********************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("addproduct",'<form style="margin-bottom:0px"> <div class="eight columns"> <input type="text" name="item" class="u-full-width {this.item_error ? \'has-error\' : \'has-success\'}" value="" placeholder="Isi nama produk di sini" oninput="{oninputitem}" onkeyup="{save}"> <small class="hint">*Tekan ⏎ (enter/return) untuk menyimpan</small> </div> <div class="four columns"> <input type="text" id="price" name="price" class="u-full-width u-text-right {this.price_error ? \'has-error\' : \'has-success\'}" value="" placeholder="harga produk" oninput="{oninputprice}" onkeyup="{save}"> </div> </form>',"","",function(i){var o=this,a=n(/*! alerty */4),r=13;this.item_error=!0,this.price_error=!0,this.price_=0,this.oninputitem=function(){""!=o.item.value?o.item_error=!1:o.item_error=!0},this.oninputprice=function(){var t=parseFloat(o.price.value);t>0||!isNaN(t)?o.price_error=!1:o.price_error=!0,o.price_=parseFloat(o.price.value.replace(/[.]/g,"")),o.price.value=(0,e.addCommas)(o.price.value.replace(/[^0-9-]/g,""))};var s=function(){o.item.value="",o.price.value="0",o.id_edit=!1,o.item.disabled=!1,o.item.focus(),o.update()};this.save=function(e){var n=parseFloat(o.price_);if(e.which===r)if(o.item.value&&n>0&&!isNaN(n)){var i={title:o.item.value,price:n,stock:0};o.is_edit&&(i._id=o.item.idvalue),t.control.trigger(t.EVT.productSaveItem,i),s()}else console.log(o.price.value),""==o.item.value?(a.toasts("ERROR: Nama produk harus diisi!",{place:"top",bgColor:"black",time:2500}),o.item.focus()):(n<=0||isNaN(n))&&(a.toasts("ERROR: Harga harus diisi!",{place:"top",bgColor:"black",time:2500}),o.price.focus())},this.cancel=function(t){s()},t.control.on(t.EVT.productEditItemOn,function(t){o.is_edit=!0,o.item.value=t.title,o.item.disabled=!0,o.item.idvalue=t._id,o.price.value=t.price,o.stock.value=t.stock,o.item.focus(),o.update()})})}).call(e,n(/*! riot */1))},/*!************************************************!*\
  !*** ./src/components/product/productitem.tag ***!
  \************************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("productitem",'<div class="eight columns product-item-name ellipsis"> <label>{this.title} <small class="green">{⁗✔ updated⁗: this.isUpdated}</small></label> <input type="hidden" name="item_single" value="{this.title}"> </div> <div class="three columns u-text-right product-item-price"> <input type="text" min="1" name="price_single" class="u-full-width u-text-right" value="{price_update_}" onkeyup="{edit}" oninput="{oninputprice_single}"> </div> <div class="one columns u-text-right product-item-price"> <a href="#{this._id}" onclick="{remove}" title="Hapus {this.title}">✖</a> </div>',"","",function(n){var i=this,o=this;this.price_single_=String(this.price).replace(/[.]/g,""),this.prize_=parseFloat(this.price_single_),o.removed=!1,o.isUpdated=!1,this.on("update",function(){i.price_update_=(0,e.addCommas)(i.price_single_)}),this.oninputprice_single=function(){var t=parseFloat(i.price_single.value);t>0||!isNaN(t)?i.price_error=!1:i.price_error=!0,i.price_single_=parseFloat(i.price_single.value.replace(/[.]/g,"")),i.price_single.value=(0,e.addCommas)(i.price_single.value.replace(/[^0-9-]/g,""))},this.edit=function(e){if(13==e.which){var o=i.price_single_;if(i.item_single.value&&(o>0||!isNaN(o))){var a={_id:n._id,title:i.item_single.value,price:o,stock:0,created:n.created};t.control.trigger(t.EVT.productSaveItem,a)}}},this.remove=function(e){var n=confirm('Remove "'+i.title+'" ?');if(1!=n)return!1;var o={_id:i._id};t.control.trigger(t.EVT.productRemoveItem,o)}})}).call(e,n(/*! riot */1))},/*!*************************************************!*\
  !*** ./src/components/product/productitems.tag ***!
  \*************************************************/
function(t,e,n){(function(t){"use strict";n(/*! ./productitem.tag */27),t.tag2("productitems",'<div class="product-search"> <input type="text" name="search" class="u-full-width" value="" placeholder="Masukkan kata yang ingin dicari dan tekan ⏎" onblur="{blur2}" onkeyup="{s}"> </div> <div class="product-item"> <small class="hint">*Tekan ⏎ untuk menyimpan data yang dimodifikasi.</small><br> <div class="row" each="{productItems}"> <productitem title="{title}" price="{price}" stock="{stock}" _id="{_id}"></productitem> </div> <div class="pagination u-text-center"> <ul> <li each="{countItems}" class="{active: done}"> <a href="./#products?page={id}">{id}</a> </li> </ul> </div> </div>',"","",function(e){var i=this,o=n(/*! alerty */4);this.productItems=[],this.countItems=[],this.q=[];var a=t.route.query();this.on("mount",function(){a.page||(a.page=1),document.getElementById("preloader").style.display="",t.control.trigger(t.EVT.productLoadItems,{page:a.page})}),t.control.on(t.EVT.productLoadItemsSuccess,function(e){i.productItems=e.docs.map(function(t){return t});var n=_.range(0,e.total_rows/t.pageSize);i.countItems=_.map(n,function(t,e){return{id:e+1,done:a.page==e+1}}),document.getElementById("preloader").style.display="none",i.update()}),t.control.on(t.EVT.productSaveItemSuccess,function(t){i.productItems.splice(0,0,t),o.toasts("SUCCESS: Produk baru berhasil ditambahkan",{place:"top",bgColor:"#FF8552",time:2500}),i.update()}),t.control.on(t.EVT.productUpdateItemSuccess,function(t){var e=_.indexOf(i.productItems,_.find(i.productItems,{_id:t._id}));i.productItems.splice(e,1,t),i.update()}),t.control.on(t.EVT.productRemoveItemSuccess,function(t){var e=_.indexOf(i.productItems,_.find(i.productItems,{_id:t._id}));parseFloat(e)>-1&&i.productItems.splice(e,1),o.toasts("REMOVE SUCCESS: Produk berhasil dihapus",{place:"top",bgColor:"#FF8552",time:2500}),i.update()});var r=function(e){t.control.trigger(t.EVT.productSearchItem,{text:e})};this.s=function(t){13==t.which&&r(t.target.value)},t.control.on(t.EVT.productSearchItemSuccess,function(t){i.productItems=t,i.countItems=[],i.update()}),this.clearAction=function(t){i.search.value="",i.search.focus(),r("")},t.control.on(t.EVT.productUpdateItemSuccess,function(t){var e=_.indexOf(i.productItems,_.find(i.productItems,{_id:t._id}));_.assign(i.productItems[e],{isUpdated:!0}),i.update()})})}).call(e,n(/*! riot */1))},/*!********************************************!*\
  !*** ./src/components/sales/salesitem.tag ***!
  \********************************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../../helper.js */2);t.tag2("salesitem",'<div class="row sales-item-summary"> <div class="seven columns sales-item-date" onclick="{toggle}"> {this.created_}<br><small>({this.itemTotal} produk)</small> </div> <div class="four columns u-text-right sales-item-total" onclick="{toggle}"> {this.grandtotal_} </div> <div class="one columns"><a href="#print?sid={this._id}">🖨</a></div> </div> <div class="sales-item-detail" show="{this.isDetail}"> <div class="row" each="{this.items}"> <div class="seven columns sales-item-number ellipsis"> <small>&nbsp;➜ {title} // {price} x {qty}</small> </div> <div class="four columns u-text-right"><small>{price*qty}</small></div> <div class="one columns">&nbsp;</div> </div> </div>',"","",function(t){var n=this;this.isDetail=!1,this.on("update",function(){n.created_=(0,e.formattedTime)(n.created),n.grandtotal_=(0,e.addCommas)(n.total),n.itemTotal=n.items.length}),this.toggle=function(t){n.isDetail=!n.isDetail,n.update()}})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/pages/about.tag ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";t.tag2("about",'<div class="container about"> <div class="row"> <div class="twelve columns"> <h3>iMell Cell {version}</h3> <p>iMell Cell adalah aplikasi POS Retail didedikasikan untuk Konter Handphone yang ingin mempercepat transaksi.</p> Keunggulan iMell Cell : <ul> <li><u>Murah</u>; Tanpa internet; Tanpa perlu server</li> <li><u>Mudah</u> Karena Multi platform seperti Windows, Linux, Mac</li> </ul> <hr> <p>Software ini hasil pengembangan aplikasi bernama Al Barokah, Jika ingin melihat versi aslinya silahkan <a href="https://github.com/klanjabrik/albarokah/issues" target="_blank"> KLIK DISINI&raquo;</a></p> </div> </div> </div>',"","",function(e){var n=this;this.on("mount",function(){n.version=t.AppVersion,n.update()})})}).call(e,n(/*! riot */1))},/*!**************************************!*\
  !*** ./src/pages/configurations.tag ***!
  \**************************************/
function(t,e,n){(function(t){"use strict";t.tag2("configurations",'<div class="container conf"> <div class="row"> <div class="twelve columns"> <h3>Konfigurasi</h3> <h6>Nama Toko</h6> <input type="text" name="shopName" class="u-full-width" value="{shopname}" placeholder="Nama toko" autofocus="true" oninput="{edit}"> <h6>Timezone (UTC)</h6> <select onchange="{edit_timezone}" id="timezone_select"> <option each="{timezoneData}" value="{hourdiff}" __selected="{selected}">UTC {hourdiff > 0 ? \'+\'+hourdiff : hourdiff}</option> </select> </select> <h6>Gambar Latar Belakang</h6> <p>Ganti gambar latar belakang dengan mengganti <em>file</em> <u>background.png</u> file. </p> </div> </div> </div>',"","",function(e){var i=this,o=n(/*! alerty */4);this.shopname=t.shopname,this.timezoneData=[],this.on("mount",function(){t.control.trigger(t.EVT.shopLoadData)}),t.control.on(t.EVT.shopLoadDataSuccess,function(e){t.shopname=e.name?e.name:t.shopname,t.timezone=e.timezone?e.timezone:t.timezone,i.shopname=t.shopname,i.timezoneData=[{hourdiff:-12,selected:t.timezone==-12},{hourdiff:-11,selected:t.timezone==-11},{hourdiff:-10,selected:t.timezone==-10},{hourdiff:-9,selected:t.timezone==-9},{hourdiff:-8,selected:t.timezone==-8},{hourdiff:-7,selected:t.timezone==-7},{hourdiff:-6,selected:t.timezone==-6},{hourdiff:-5,selected:t.timezone==-5},{hourdiff:-4,selected:t.timezone==-4},{hourdiff:-3.5,selected:t.timezone==-3.5},{hourdiff:-3,selected:t.timezone==-3},{hourdiff:-2,selected:t.timezone==-2},{hourdiff:-1,selected:t.timezone==-1},{hourdiff:0,selected:0==t.timezone},{hourdiff:1,selected:1==t.timezone},{hourdiff:2,selected:2==t.timezone},{hourdiff:3,selected:3==t.timezone},{hourdiff:4,selected:4==t.timezone},{hourdiff:4.5,selected:4.5==t.timezone},{hourdiff:5,selected:t.timezone==-5},{hourdiff:5.5,selected:5.5==t.timezone},{hourdiff:5.75,selected:5.75==t.timezone},{hourdiff:6,selected:6==t.timezone},{hourdiff:6.5,selected:6.5==t.timezone},{hourdiff:7,selected:7==t.timezone},{hourdiff:8,selected:8==t.timezone},{hourdiff:9,selected:9==t.timezone},{hourdiff:9.5,selected:9.5==t.timezone},{hourdiff:10,selected:10==t.timezone},{hourdiff:11,selected:11==t.timezone},{hourdiff:12,selected:12==t.timezone},{hourdiff:13,selected:13==t.timezone}],i.update()}),this.edit=function(e){document.getElementById("home").innerHTML=e.target.value,t.control.trigger(t.EVT.shopSaveName,e.target.value),t.isNewUser=!1},this.edit_timezone=function(e){var n=document.getElementById("timezone_select").options[e.target.selectedIndex].value;t.timezone=n,t.control.trigger(t.EVT.shopSaveTimezone,n),t.isNewUser=!1},t.control.on(t.EVT.shopSaveSuccess,function(t){o.toasts("SUCCESS: Konfigurasi berhasil diperbaharui",{place:"top",bgColor:"#FF8552",time:2500}),i.update()}),t.control.on(t.EVT.shopUpdateSuccess,function(t){o.toasts("SUCCESS: Konfigurasi berhasil diperbaharui",{place:"top",bgColor:"#FF8552",time:2500}),i.update()})})}).call(e,n(/*! riot */1))},/*!********************************!*\
  !*** ./src/pages/database.tag ***!
  \********************************/
function(t,e,n){(function(t){"use strict";t.tag2("database",'<div class="container conf"> <div class="row"> <div class="twelve columns"> <h3>Database</h3> <p>File CSV digunakan untuk aplikasi excel (spreadsheet), sedangkan file JSON digunakan untuk export import data antar aplikasi ALBarokah.</p> <hr> <ul> <li>Export Produk:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> <li>Export Penjualan:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> </ul> <hr> <ul> <li>Import Produk:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> <li>Import Penjualan:&nbsp;&nbsp;<a href="">[CSV]</a>&nbsp;&nbsp;<a href="">[JSON]</a></li> </ul> </div> </div> </div>',"","",function(t){})}).call(e,n(/*! riot */1))},/*!****************************!*\
  !*** ./src/pages/help.tag ***!
  \****************************/
function(t,e,n){(function(t){"use strict";t.tag2("help",'<div class="container about"> <div class="row"> <div class="twelve columns"> <h3>Panduan</h3> <h6>1. Bagaimana menghapus produk yang sudah diinput di <a href="#home">kasir</a>?</h6> <p>Fokuskan cursor pada kotak isian jumlah, kemudian ketikkan angka 0 (nol), lalu tekan enter/return.</p> <hr> <h6>2. Bagaimana melihat produk-produk yang dibeli pada suatu <a href="#sales">penjualan</a>?</h6> <p>Tekan area pada baris penjualan yang dimaksud.</p> <hr> <h6>3. Export data penjualan ke excel?</h6> <p>Masuk ke halaman <a href="#sales">Penjualan</a>, kemudian pilih tanggal penjualan, setelah itu <em>klik</em> tautan Simpan CSV.</p> </div> </div> </div>',"","",function(t){})}).call(e,n(/*! riot */1))},/*!****************************!*\
  !*** ./src/pages/home.tag ***!
  \****************************/
function(t,e,n){(function(t){"use strict";n(/*! ../components/cart/cartitems.tag */24),n(/*! ../components/cart/cartproductitems.tag */25),n(/*! ../helper.js */2),t.tag2("home",'<div class="container pos"> <div class="row"> <div class="seven columns pos-cart-column"> <div class="pos-cart"> <div class="wrap_autocomplete" show="{!isNewUser && isProductReady}"> <autocomplete min="1" mode="contains"></autocomplete> </div> <cartitems title="Cart Item List"></cartitems> </div> </div> <div class="five columns pos-product-column"> <div class="pos-product"> <div class="row title"> <div class="six columns caption"> Daftar Produk </div> <div class="six columns u-text-right"> <a href="#products">➕</a> </div> </div> <div class="pos-product-item"> <cartproductitems></cartproductitems> </div> </div> </div> </div> </div> </div>',"","",function(e){var n=this;n.isNewUser=t.isNewUser,n.isProductReady=!1,t.control.on(t.EVT.isProductReady,function(t){n.isProductReady=t,n.update()}),t.control.on(t.EVT.isNewUser,function(t){n.isNewUser=t,n.update()})})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/pages/print.tag ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";var e=n(/*! ../helper.js */2);t.tag2("print",'<div class="container pos-print"> <div class="row"> <div class="twelve columns"> <div class="pos-cart"> <table width="100%" class="pos-print-action"> <tr> <td class="u-text-center"><a href="#" onclick="window.print();" class="button button-primary u-full-width">Web Print</a></td> </tr> </table> <table width="100%" class="pos-print"> <caption> iMell Cell <hr> </caption> <thead> <tr> <td><strong>Barang</strong></td> <td class="u-text-center"><strong>Jumlah</strong></td> <td class="u-text-right"><strong>Harga</strong></td> <td class="u-text-right"><strong>Subtotal</strong></td> </tr> </thead> <tbody> <tr each="{salesItems}"> <td>{title}</td> <td class="u-text-center">{qty}</td> <td class="u-text-right">{price}</td> <td class="u-text-right">{subtotal}</td> </tr> </tbody> <tfoot> <tr> <td colspan="3"><strong>Total</strong></td> <td class="u-text-right"><strong>{total}</strong></td> </tr> <tr> <td colspan="3"><strong>Disc ({disc}%)</strong></td> <td class="u-text-right"><strong>{disctotal}</strong></td> </tr> <tr> <td colspan="3"><strong>Grand Total</strong></td> <td class="u-text-right"><strong>{grandtotal}</strong></td> </tr> <tr> <td colspan="1">Dibayar tunai: {cash}</td> <td colspan="3" class="u-text-right">Kembalian: {kembalian}</td> </tr> <tr> <td colspan="4" class="u-text-center">{created}<br>Terima kasih atas kunjungan Anda.</td> </tr> </tfoot> </table> <table width="100%" class="pos-print-action"> <tr> <td class="u-text-center"><a href="#" onclick="window.print();" class="button button-primary u-full-width">Web Print</a></td> </tr> <tr> <td class="u-text-center"><a href="#" onclick="{backpage}" class="button u-full-width">Kembali</a></td> </tr> </table> </div> </div> </div> </div>',"","",function(n){var i=this;this.salesItems=[],this.total=0,this.disc=0,this.disctotal=0,this.grandtotal=0,this.cash=0,this.kembalian=0,this.created="",this.ready=!1,this.on("mount",function(){var e=t.route.query();"undefined"!=typeof e.cid?(console.log("cart"),t.control.trigger(t.EVT.cancelCart,"print"),t.control.trigger(t.EVT.salesGet,e.cid)):"undefined"!=typeof e.sid&&(console.log("sales"),t.control.trigger(t.EVT.salesGet,e.sid))}),this.on("updated",function(){i.ready&&(i.ready=!1,window.print())}),t.control.on(t.EVT.salesGetSuccess,function(t){i.salesItems=t.items,i.total=(0,e.addCommas)(t.total),i.disc=t.discount;var n=t.total*(t.discount/100);i.disctotal=(0,e.addCommas)(n);var o=t.total-n;i.grandtotal=(0,e.addCommas)(o),i.cash=(0,e.addCommas)(t.cash),i.kembalian=(0,e.addCommas)(t.cash-o),i.ready=!0,i.created=(0,e.formattedTime)(t.created),i.update()}),this.backpage=function(t){window.history.go(-1)}})}).call(e,n(/*! riot */1))},/*!********************************!*\
  !*** ./src/pages/products.tag ***!
  \********************************/
function(t,e,n){(function(t){"use strict";n(/*! ../components/product/addproduct.tag */26),n(/*! ../components/product/productitems.tag */28),t.tag2("products",'<div class="container products"> <div class="row"> <div class="twelve columns"> <h3>Produk</h3> <h6>Tambah Produk</h6> <div class="row product-add"> <addproduct></addproduct> </div> <br> <h6>Daftar Produk</h6> <div class="product-items"> <productitems title="Cart Item List"></productitems> </div> </div> </div> </div>',"","",function(t){})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/pages/sales.tag ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";n(/*! ../components/sales/salesitem.tag */29);var e=n(/*! ../helper.js */2);t.tag2("sales",'<div class="container sales"> <div class="row"> <div class="twelve columns"> <h3>Penjualan</h3> <div class="sales-items"> <div class="sales-search row"> <div class="twelve columns"> <input type="text" id="datepicker" class="u-full-width" placeholder="Filter tanggal penjualan"> </div> </div> <div class="sales-item"> <div class="row sales-item-grandtotal"> <div class="six columns"><strong>Grand Total {currentDateLabel}</strong></div> <div class="six columns u-text-right"><span>{salesTotal}</span></div> </div> <br> <div class="row"> <div class="six columns"> <h6>Rincian Penjualan</h6> </div> <div class="six columns u-text-right"> <a href="javascript:void 0" onclick="{exportCsv}">💾 &nbsp;Simpan CSV</a> </div> </div> <div class="row sales-item-header" if="{!no_data}"> <div class="seven columns sales-item-date"> <strong>Waktu</strong> </div> <div class="four columns u-text-right sales-item-total"> <strong>Total</strong> </div> <div class="one columns sales-item-number"> &nbsp; </div> </div> <salesitem each="{salesItems}" data="{this}"></salesitem> <div if="{no_data}"> <p>🛍&nbsp;&nbsp;Belum ada data penjualan.</p> </div> <div class="pagination u-text-center"> <ul> <li each="{countItems}" class="{active: done}"> <a href="./#sales?page={id}&amp;date={currentDate}">{id}</a> </li> </ul> </div> </div> </div> </div> </div> </div>',"","",function(i){var o=this,a=n(/*! alerty */4);this.salesItems=[],this.countItems=[],this.no_data=!1,this.salesTotal=0,this.currentDate=Math.floor(Date.now()/1e3),this.currentPage=1,this.currentDateLabel="";var r=t.route.query(),s=n(/*! pikaday */8);this.on("mount",function(){new s({field:document.getElementById("datepicker"),format:"DD/MMMM/YYYY",onSelect:function(t){var e=new Date(t),n="0"+e.getDate(),i="0"+(e.getMonth()+1),o=e.getFullYear(),a=o+"-"+i.substr(-2)+"-"+n.substr(-2);console.log(a),u(new Date(a).getTime()/1e3),c()}}),r.page||(r.page=o.currentPage),r.date||(r.date=o.currentDate),d(r.page),u(r.date),c()});var c=function(){document.getElementById("preloader").style.display="";var e={page:p(),date:l()};t.control.trigger(t.EVT.salesLoadItems,{page:e.page,date:e.date}),t.control.trigger(t.EVT.salesTotal,e.date)};t.control.on(t.EVT.salesLoadItemsSuccess,function(e){o.salesItems=e.docs.map(function(t){return t});var n=_.range(0,e.total_rows/t.pageSize);o.countItems=_.map(n,function(t,e){return{id:e+1,done:r.page==e+1}}),document.getElementById("preloader").style.display="none",o.update()}),t.control.on(t.EVT.salesTotalSuccess,function(t){o.salesTotal=(0,e.addCommas)(t),o.currentDateLabel=(0,e.formattedTime)(l(),!0),t>0?o.no_data=!1:o.no_data=!0,o.update()});var u=function(t){o.currentDate=t},l=function(){return o.currentDate},d=function(t){o.currentPage=t},p=function(){return o.currentPage};this.exportCsv=function(t){if(_.size(o.salesItems)<=0)return a.toasts("ERROR: Data penjualan kosong",{place:"top",bgColor:"black",time:2500}),!1;var n="data:text/csv;charset=utf-8,",i=0;_.each(o.salesItems,function(t,o){var a="",r=t._id,s=(0,e.formattedTime)(t.created);_.each(t.items,function(t,e){i+=parseFloat(t.subtotal),a+=r+", "+s+", "+t.title+", "+t.qty+", "+t.price+", "+t.subtotal+"\n"}),console.log(a),n+=a});var r=", , , , , "+i;n+=r;var s=encodeURI(n),c=document.createElement("a");c.setAttribute("href",s),c.setAttribute("download","sales_"+(0,e.formattedTime)(l(),!0)+".csv"),document.body.appendChild(c),c.click()}})}).call(e,n(/*! riot */1))},/*!*****************************!*\
  !*** ./src/event-helper.js ***!
  \*****************************/
function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var i=n(/*! riotcontrol */80),o=e(i);t.control=o["default"],t.EVT={shopLoadData:"shop_load_name",shopLoadDataSuccess:"shop_load_name_success",shopSaveSuccess:"shop_save_success",shopUpdateSuccess:"shop_update_success",shopSaveData:"shop_save_data",shopSaveName:"shop_save_name",shopSaveTimezone:"shop_save_timezone",productLoadItems:"product_load_items",productLoadItemsSuccess:"product_load_items_success",productLoadItems_:"product_load_items_",productLoadItemsSuccess_:"product_load_items_success_",productSaveItem:"product_save_item",productSaveItemSuccess:"product_save_item_success",productEditItemOn:"product_edit_item_on",productUpdateItemSuccess:"product_update_item_success",productRemoveItem:"product_remove_item",productRemoveItemSuccess:"product_remove_item_success",productSearchItem:"product_search_product",productSearchItemSuccess:"product_search_product_success",cartLoadItems:"cart_load_items",cartLoadItemsSuccess:"cart_load_items_success",cartSaveItem:"cart_save_items",cartSaveItemSuccess:"cart_save_item_success",cartEditItemOn:"cart_edit_item_on",cartUpdateItemSuccess:"cart_update_item_success",cartRemoveItem:"cart_remove_item",cartRemoveItemSuccess:"cart_remove_item_success",cartSearchItem:"cart_search_item",cartSearchItemSuccess:"cart_search_item_success",cancelCart:"cancel_cart",cancelCartSuccess:"cancel_cart_success",cancelCartPrintSuccess:"cancel_cart_print_success",salesSave:"sales_save",salesSaveSuccess:"sales_save_success",salesGet:"sales_get",salesGetSuccess:"sales_get_success",salesLoadItems:"sales_load_items",salesLoadItemsSuccess:"sales_load_items_success",salesTotal:"sales_total",salesTotalSuccess:"sales_total_success",salesSearchItem:"sales_search",salesSearchItemSuccess:"sales_search_success",clearDb:"clear_db",clearDbSuccess:"clear_db_success",isProductReady:"is_product_ready",isNewUser:"is_new_user",allowAdd:"allow_add"};var a=n(/*! pouchdb */20);a.plugin(n(/*! pouchdb-find */13));var r=new a("albarokah");t.db=r,t.AppVersion="2.0",t.pageSizeProductCart=20,t.pageSize=50,t.offset=t.pageSize,t.timezone=7,t.shopname="iMell Cell",t.isNewUser=!1}).call(e,n(/*! riot */1))},/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}n(/*! ./event-helper */38),n(/*! ./stores/shopstore */44),n(/*! ./stores/cartstore */41),n(/*! ./stores/productstore */42),n(/*! ./stores/salestore */43),n(/*! ./router.js */40);var i=n(/*! pikaday */8),o=(e(i),{map:function(t){"shop"==t.type&&emit(t.value,null)}});t.db.query(o,{include_docs:!1}).then(function(e){e.total_rows>0?(e.rows.map(function(e){"shop_name"===e.id?(t.shopname=e.key,document.getElementById("home").innerHTML=t.shopname):"shop_timezone"===e.id&&(t.timezone=e.key)}),t.isNewUser=!1):t.isNewUser=!0})["catch"](function(t){console.log(t)}),Mousetrap.bindGlobal("ctrl+1",function(){document.getElementById("home").click()}),Mousetrap.bindGlobal("ctrl+p",function(){t.route("products")}),Mousetrap.bindGlobal("ctrl+r",function(){t.route("sales")}),Mousetrap.bindGlobal("ctrl+s",function(){document.querySelector('[name="acinput"]').focus()}),Mousetrap.bindGlobal("ctrl+t",function(){document.querySelector('[name="cash"]').focus(),document.querySelector('[name="cash"]').select()}),Mousetrap.bindGlobal("ctrl+m",function(){document.getElementById("myDropdown"),document.getElementsByClassName("dropbtn")[0].focus(),document.getElementById("myDropdown").classList.toggle("show")})}).call(e,n(/*! riot */1))},/*!***********************!*\
  !*** ./src/router.js ***!
  \***********************/
function(t,e,n){(function(i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(/*! ./pages/home.tag */34),n(/*! ./pages/products.tag */36),n(/*! ./pages/print.tag */35),n(/*! ./pages/sales.tag */37),n(/*! ./pages/help.tag */33),n(/*! ./pages/about.tag */30),n(/*! ./pages/configurations.tag */31),n(/*! ./pages/database.tag */32),i.routeState={view:""};var r=function(){function t(){o(this,t),this._currentView=null,this._views=["home","products","print","sales","configurations","database","help","about"],this._defaultView="home",i.route.start(!1),i.route(this._handleRoute.bind(this)),i.route.exec(this._handleRoute.bind(this))}return a(t,[{key:"_handleRoute",value:function(t){return this._views.indexOf(t)===-1?i.route(this._defaultView):void this._loadView(t)}},{key:"_loadView",value:function(t){this._currentView&&this._currentView.unmount(!0),document.title="Point of Sales // "+t.toUpperCase(),i.routeState.view=t,this._currentView=i.mount("#riot-app",t)[0]}}]),t}();e["default"]=new r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!*********************************!*\
  !*** ./src/stores/cartstore.js ***!
  \*********************************/
function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),n.observable(this),this.cartItems=[],this.db=n.db,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){var t=this,e=this,i=function(e){t.cartItems=e,t.trigger(n.EVT.cartLoadItemsSuccess,t.cartItems)},o=function(){t.db.destroy("todos").then(function(){e.db=new PouchDB("todos")}),t.trigger(n.EVT.clearDbSuccess,[])},a=function(){e.db.allDocs({startkey:"cartitem_",endkey:"cartitem_￿"}).then(function(t){return Promise.all(t.rows.map(function(t){return e.db.remove(t.id,t.value.rev)}))}).then(function(){})["catch"](function(t){})},r=function(){e.db.createIndex({index:{fields:["created","type"],name:"mycartindex",ddoc:"mydesigndoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gt:0},type:"cartitem"},fields:["created","price","type","title","qty","_id"],sort:[{created:"desc"}]}).then(function(t){i(t.docs.map(function(t){return t}))})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mycartindex"==t.name&&e.db.deleteIndex({name:"mycartindex",ddoc:t.ddoc})})})["catch"](function(t){})})},s=function(i){t.db.put(i,function(t,o){t?409==t.status?c(i,{mode:"inc",qty:1}):console.log(t):e.trigger(n.EVT.cartSaveItemSuccess,i)})},c=function(i,o){t.db.get(i._id).then(function(t){return i._rev=t._rev,o.qty&&("inc"==o.mode?i.qty=parseInt(t.qty)+parseInt(o.qty):i.qty=parseInt(o.qty)),_.remove(i,{_rev:i._rev}),e.trigger(n.EVT.cartUpdateItemSuccess,i),e.db.put(i)})["catch"](function(t){409===t.status&&console.log(t)})},u=function(i){t.db.get(i._id).then(function(t){return i._rev=t._rev,e.db.remove(i),e.trigger(n.EVT.cartRemoveItemSuccess,i)})["catch"](function(t){return 409!==t.status?e.db.remove(i):void console.log(t)})},l=function(i){var o=i.text,a=new RegExp(o,"i");t.db.find({selector:{type:"item",title:{$regex:a}}}).then(function(t){e.trigger(n.EVT.cartSearchItemSuccess,t.docs)})["catch"](function(t){console.log(t)})};this.on(n.EVT.cartLoadItems,function(){r()}),this.on(n.EVT.cartRemoveItem,function(t){u(t)}),this.on(n.EVT.cartSaveItem,function(e){var n=e.title;n=n.replace(/\W/g,"");var i=Math.floor(Date.now()/1e3),o={_id:"cartitem_"+n,title:e.title,qty:1,type:"cartitem",created:i};t.db.get("item_"+n).then(function(t){o.price=t.price,s(o)})["catch"](function(t){409===t.status?console.log(t):console.log(t)})}),this.on(n.EVT.clearDb,function(){o()}),this.on(n.EVT.cartSearchItem,function(t){l(t)}),this.on(n.EVT.cancelCart,function(e){a(),e.print||t.trigger(n.EVT.cancelCartSuccess,[])}),this.on(n.EVT.cartEditItemOn,function(t){c(t,{qty:t.qty})})}}]),t}(),r=new a;n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!************************************!*\
  !*** ./src/stores/productstore.js ***!
  \************************************/
function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),n.observable(this),this.productItems=[],this.db=n.db,this.edit_id=!1,this.pageSizeCart=n.pageSizeProductCart,this.pageSize=n.pageSize,this.offset=n.offset,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){var t=this,e=this,i=function(e){t.trigger(n.EVT.productLoadItemsSuccess,e)},o=function(){e.db.createIndex({index:{fields:["title","type"],name:"myproductcartindex",ddoc:"myproductcartdoc",type:"json"}}).then(function(){return e.db.find({selector:{title:{$gt:0},type:"item"},fields:["created","price","type","title","_id"],sort:[{title:"asc"}],limit:e.pageSizeCart,skip:0,include_docs:!0}).then(function(t){e.trigger(n.EVT.productLoadItemsSuccess_,t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"myproductcartindex"==t.name&&e.db.deleteIndex({name:"myproductcartindex",ddoc:t.ddoc})})})["catch"](function(t){})})},a=function(){e.db.createIndex({index:{fields:["created","type"],name:"myproductindex",ddoc:"myproductdoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gt:0},type:"item"},fields:["created","price","type","title","_id"],sort:[{created:"desc"}],limit:e.pageSize,skip:e.offset,include_docs:!0}).then(function(t){i(t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"myproductindex"==t.name&&e.db.deleteIndex({name:"myproductindex",ddoc:t.ddoc})})})["catch"](function(t){})})},r=function(e){t.db.put(e,function(t,i){t?console.log(t):this.trigger(n.EVT.productSaveItemSuccess,e)}.bind(t))},s=function(i){t.db.get(e.edit_id).then(function(t){return i._rev=t._rev,this.db.put(i)})["catch"](function(t){return 409!==t.status?(e.edit_id=!1,this.trigger(n.EVT.productUpdateItemSuccess,i),this.db.put(i)):void console.log(t)}.bind(t))},c=function(i){t.db.get(i._id).then(function(t){return i._rev=t._rev,e.db.remove(i),e.trigger(n.EVT.productRemoveItemSuccess,i)})["catch"](function(t){return 409!==t.status?e.db.remove(i):void console.log(t)})},u=function(t){var i=t.text,o=new RegExp(i,"i");e.db.createIndex({index:{fields:["title","type"],name:"mysearchproductindex",ddoc:"mysearchproductdoc",type:"json"}}).then(function(){return e.db.find({selector:{title:{$regex:o},type:"item"},fields:["title","type","created","price","_id"],limit:e.pageSize,include_docs:!0}).then(function(t){e.trigger(n.EVT.productSearchItemSuccess,t.docs)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mysearchproductindex"==t.name&&e.db.deleteIndex({name:"mysearchproductindex",ddoc:t.ddoc})})})["catch"](function(t){})})};this.on(n.EVT.productLoadItems_,function(){o()}),this.on(n.EVT.productLoadItems,function(e){try{t.offset=(parseFloat(e.page)-1)*t.pageSize}catch(i){t.offset=n.offset}a()}),this.on(n.EVT.productRemoveItem,function(t){c(t)}),this.on(n.EVT.productSaveItem,function(t){t._id&&(e.edit_id=t._id);var i=t.title;i=i.replace(/\W/g,"");var o=Math.floor((Date.now()+60*n.timezone*60*1e3)/1e3),a={_id:"item_"+i,title:t.title,price:t.price,stock:t.stock,type:"item",created:o};e.edit_id?s(a):r(a)}),this.on(n.EVT.productSearchItem,function(t){u(t)})}}]),t}(),r=new a;n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!*********************************!*\
  !*** ./src/stores/salestore.js ***!
  \*********************************/
function(t,e,n){(function(i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(/*! ../helper.js */2),s=function(){function t(){o(this,t),i.observable(this),this.productItems=[],this.db=i.db,this.pageSize=i.pageSize,this.offset=i.offset,this.bindEvents()}return a(t,[{key:"bindEvents",value:function(){var t=this,e=this,n=function(e){t.trigger(i.EVT.salesLoadItemsSuccess,e)},o=function(e){var n=_.sumBy(e.docs,function(t){return t.total});t.trigger(i.EVT.salesTotalSuccess,n)},a=function(e){t.db.put(e,function(t,n){t?console.log(t):this.trigger(i.EVT.salesSaveSuccess,e._id)}.bind(t))},s=function(n){t.db.allDocs({startkey:n,endkey:n+"￿",include_docs:!0}).then(function(t){e.trigger(i.EVT.salesGetSuccess,t.rows[0].doc)})["catch"](function(t){console.log(t)})},c=function(t){var i=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 00:00:00"),o=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 23:59:00");e.db.createIndex({index:{fields:["created","type"],name:"mysalesindex",ddoc:"mysalestdoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gt:i,$lt:o},type:"sales"},fields:["created","discount","type","payment","_id","total","cash","items"],sort:[{created:"desc"}],limit:e.pageSize,skip:e.offset,include_docs:!0}).then(function(t){n(t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mysalesindex"==t.name&&e.db.deleteIndex({name:"mysalesindex",ddoc:t.ddoc})})})["catch"](function(t){})})},u=function(t){var n=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 00:00:00"),i=(0,r.toTimestamp)((0,r.fromTimestampToString)(t)+" 23:59:00");e.db.createIndex({index:{fields:["created","type"],name:"mysalestotalindex",ddoc:"mysalestotaldoc",type:"json"}}).then(function(){return e.db.find({selector:{created:{$gte:n,$lte:i},type:"sales"},fields:["created","type","total"],sort:[{created:"desc"}],include_docs:!0}).then(function(t){o(t)})["catch"](function(t){console.log(t)})}).then(function(){return e.db.getIndexes().then(function(t){t.indexes.forEach(function(t,n){"mysalestotalindex"==t.name&&e.db.deleteIndex({name:"mysalestotalindex",ddoc:t.ddoc})})})["catch"](function(t){})})},l=function(n){var o=n.text,a=new RegExp(o,"i");t.db.find({selector:{type:"sales",title:{$regex:a}}}).then(function(t){console.log(t.docs),e.trigger(i.EVT.salesSearchItemSuccess,t.docs)})["catch"](function(t){console.log(t)})};this.on(i.EVT.salesSave,function(t){a(t)}),this.on(i.EVT.salesLoadItems,function(e){e.page&&(t.offset=(parseFloat(e.page)-1)*t.pageSize),c(e.date)}),this.on(i.EVT.salesSearchItem,function(t){l(t)}),this.on(i.EVT.salesGet,function(t){s(t)}),this.on(i.EVT.salesTotal,function(t){u(t)})}}]),t}(),c=new s;i.control.addStore(c),e["default"]=c,t.exports=e["default"]}).call(e,n(/*! riot */1))},/*!*********************************!*\
  !*** ./src/stores/shopstore.js ***!
  \*********************************/
function(t,e,n){(function(n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){i(this,t),n.observable(this),this.productItems=[],this.db=n.db,this.edit_id=!1,this.pageSize=n.pageSize,this.offset=n.offset,this.bindEvents()}return o(t,[{key:"bindEvents",value:function(){var t=this,e=this,i=function(){var i={map:function(t){"shop"==t.type&&emit(t.value,null)}};t.db.query(i,{include_docs:!1}).then(function(t){var i=[];i=t.rows.map(function(t){return"shop_name"===t.id?{name:t.key}:"shop_timezone"===t.id?{timezone:t.key}:void 0});var o=[];for(var a in t.rows){var r=t.rows[a].id,s=t.rows[a].key;"shop_name"===r&&(o.name=s),"shop_timezone"===r&&(o.timezone=s)}e.trigger(n.EVT.shopLoadDataSuccess,o)})["catch"](function(t){console.log(t)})},o=function(i){t.db.put(i,function(t,o){t?409==t.status?a(i,{value:i.value}):console.log(t):e.trigger(n.EVT.shopSaveSuccess,i.value)})},a=function(i,o){t.db.get(i._id).then(function(t){return i._rev=t._rev,i.value=o.value,e.trigger(n.EVT.shopUpdateSuccess,i.value),e.db.put(i)})["catch"](function(t){return 409!==t.status?e.db.put(i):void console.log(t)})};this.on(n.EVT.shopSaveName,function(t){var e=Math.floor((Date.now()+60*n.timezone*60*1e3)/1e3),i={_id:"shop_name",value:t,type:"shop",updated:e};o(i)}),this.on(n.EVT.shopSaveTimezone,function(t){var e=Math.floor((Date.now()+60*n.timezone*60*1e3)/1e3),i={_id:"shop_timezone",value:t,type:"shop",updated:e};o(i)}),this.on(n.EVT.shopLoadData,function(){i()})}}]),t}(),r=new a;n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,/*!**************************************!*\
  !*** ./~/riotcontrol/riotcontrol.js ***!
  \**************************************/
function(t,e,n){var i={_stores:[],addStore:function(t){this._stores.push(t)}};["on","one","off","trigger"].forEach(function(t){i[t]=function(){var e=[].slice.call(arguments);this._stores.forEach(function(n){n[t].apply(null,e)})}}),t.exports=i},/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
function(t,e){(function(e){t.exports=e}).call(e,{})}]);
//# sourceMappingURL=bundle.js.map